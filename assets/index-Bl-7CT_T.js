(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function ic(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bu={exports:{}},oi={},Su={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function dy(){if(Qf)return je;Qf=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=p&&S[p]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function M(S,T,J){this.props=S,this.context=T,this.refs=N,this.updater=J||w}M.prototype.isReactComponent={},M.prototype.setState=function(S,T){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,T,"setState")},M.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function I(){}I.prototype=M.prototype;function L(S,T,J){this.props=S,this.context=T,this.refs=N,this.updater=J||w}var _=L.prototype=new I;_.constructor=L,k(_,M.prototype),_.isPureReactComponent=!0;var E=Array.isArray,$=Object.prototype.hasOwnProperty,P={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function H(S,T,J){var D,z={},Y=null,Z=null;if(T!=null)for(D in T.ref!==void 0&&(Z=T.ref),T.key!==void 0&&(Y=""+T.key),T)$.call(T,D)&&!B.hasOwnProperty(D)&&(z[D]=T[D]);var Q=arguments.length-2;if(Q===1)z.children=J;else if(1<Q){for(var ne=Array(Q),le=0;le<Q;le++)ne[le]=arguments[le+2];z.children=ne}if(S&&S.defaultProps)for(D in Q=S.defaultProps,Q)z[D]===void 0&&(z[D]=Q[D]);return{$$typeof:t,type:S,key:Y,ref:Z,props:z,_owner:P.current}}function K(S,T){return{$$typeof:t,type:S.type,key:T,ref:S.ref,props:S.props,_owner:S._owner}}function W(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function V(S){var T={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return T[J]})}var U=/\/+/g;function G(S,T){return typeof S=="object"&&S!==null&&S.key!=null?V(""+S.key):T.toString(36)}function C(S,T,J,D,z){var Y=typeof S;(Y==="undefined"||Y==="boolean")&&(S=null);var Z=!1;if(S===null)Z=!0;else switch(Y){case"string":case"number":Z=!0;break;case"object":switch(S.$$typeof){case t:case r:Z=!0}}if(Z)return Z=S,z=z(Z),S=D===""?"."+G(Z,0):D,E(z)?(J="",S!=null&&(J=S.replace(U,"$&/")+"/"),C(z,T,J,"",function(le){return le})):z!=null&&(W(z)&&(z=K(z,J+(!z.key||Z&&Z.key===z.key?"":(""+z.key).replace(U,"$&/")+"/")+S)),T.push(z)),1;if(Z=0,D=D===""?".":D+":",E(S))for(var Q=0;Q<S.length;Q++){Y=S[Q];var ne=D+G(Y,Q);Z+=C(Y,T,J,ne,z)}else if(ne=v(S),typeof ne=="function")for(S=ne.call(S),Q=0;!(Y=S.next()).done;)Y=Y.value,ne=D+G(Y,Q++),Z+=C(Y,T,J,ne,z);else if(Y==="object")throw T=String(S),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return Z}function X(S,T,J){if(S==null)return S;var D=[],z=0;return C(S,D,"","",function(Y){return T.call(J,Y,z++)}),D}function R(S){if(S._status===-1){var T=S._result;T=T(),T.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=T)}if(S._status===1)return S._result.default;throw S._result}var O={current:null},j={transition:null},A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:j,ReactCurrentOwner:P};function F(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:X,forEach:function(S,T,J){X(S,function(){T.apply(this,arguments)},J)},count:function(S){var T=0;return X(S,function(){T++}),T},toArray:function(S){return X(S,function(T){return T})||[]},only:function(S){if(!W(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},je.Component=M,je.Fragment=i,je.Profiler=a,je.PureComponent=L,je.StrictMode=l,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,je.act=F,je.cloneElement=function(S,T,J){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var D=k({},S.props),z=S.key,Y=S.ref,Z=S._owner;if(T!=null){if(T.ref!==void 0&&(Y=T.ref,Z=P.current),T.key!==void 0&&(z=""+T.key),S.type&&S.type.defaultProps)var Q=S.type.defaultProps;for(ne in T)$.call(T,ne)&&!B.hasOwnProperty(ne)&&(D[ne]=T[ne]===void 0&&Q!==void 0?Q[ne]:T[ne])}var ne=arguments.length-2;if(ne===1)D.children=J;else if(1<ne){Q=Array(ne);for(var le=0;le<ne;le++)Q[le]=arguments[le+2];D.children=Q}return{$$typeof:t,type:S.type,key:z,ref:Y,props:D,_owner:Z}},je.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},je.createElement=H,je.createFactory=function(S){var T=H.bind(null,S);return T.type=S,T},je.createRef=function(){return{current:null}},je.forwardRef=function(S){return{$$typeof:d,render:S}},je.isValidElement=W,je.lazy=function(S){return{$$typeof:m,_payload:{_status:-1,_result:S},_init:R}},je.memo=function(S,T){return{$$typeof:g,type:S,compare:T===void 0?null:T}},je.startTransition=function(S){var T=j.transition;j.transition={};try{S()}finally{j.transition=T}},je.unstable_act=F,je.useCallback=function(S,T){return O.current.useCallback(S,T)},je.useContext=function(S){return O.current.useContext(S)},je.useDebugValue=function(){},je.useDeferredValue=function(S){return O.current.useDeferredValue(S)},je.useEffect=function(S,T){return O.current.useEffect(S,T)},je.useId=function(){return O.current.useId()},je.useImperativeHandle=function(S,T,J){return O.current.useImperativeHandle(S,T,J)},je.useInsertionEffect=function(S,T){return O.current.useInsertionEffect(S,T)},je.useLayoutEffect=function(S,T){return O.current.useLayoutEffect(S,T)},je.useMemo=function(S,T){return O.current.useMemo(S,T)},je.useReducer=function(S,T,J){return O.current.useReducer(S,T,J)},je.useRef=function(S){return O.current.useRef(S)},je.useState=function(S){return O.current.useState(S)},je.useSyncExternalStore=function(S,T,J){return O.current.useSyncExternalStore(S,T,J)},je.useTransition=function(){return O.current.useTransition()},je.version="18.3.1",je}var Kf;function _i(){return Kf||(Kf=1,Su.exports=dy()),Su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function fy(){if(Zf)return oi;Zf=1;var t=_i(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,g){var m,p={},v=null,w=null;g!==void 0&&(v=""+g),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)l.call(f,m)&&!u.hasOwnProperty(m)&&(p[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:r,type:d,key:v,ref:w,props:p,_owner:a.current}}return oi.Fragment=i,oi.jsx=c,oi.jsxs=c,oi}var Jf;function hy(){return Jf||(Jf=1,bu.exports=fy()),bu.exports}var x=hy(),re=_i();const fo=ic(re);var Gs={},Cu={exports:{}},mt={},ju={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function py(){return eh||(eh=1,(function(t){function r(j,A){var F=j.length;j.push(A);e:for(;0<F;){var S=F-1>>>1,T=j[S];if(0<a(T,A))j[S]=A,j[F]=T,F=S;else break e}}function i(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var A=j[0],F=j.pop();if(F!==A){j[0]=F;e:for(var S=0,T=j.length,J=T>>>1;S<J;){var D=2*(S+1)-1,z=j[D],Y=D+1,Z=j[Y];if(0>a(z,F))Y<T&&0>a(Z,z)?(j[S]=Z,j[Y]=F,S=Y):(j[S]=z,j[D]=F,S=D);else if(Y<T&&0>a(Z,F))j[S]=Z,j[Y]=F,S=Y;else break e}}return A}function a(j,A){var F=j.sortIndex-A.sortIndex;return F!==0?F:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],g=[],m=1,p=null,v=3,w=!1,k=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var A=i(g);A!==null;){if(A.callback===null)l(g);else if(A.startTime<=j)l(g),A.sortIndex=A.expirationTime,r(f,A);else break;A=i(g)}}function E(j){if(N=!1,_(j),!k)if(i(f)!==null)k=!0,R($);else{var A=i(g);A!==null&&O(E,A.startTime-j)}}function $(j,A){k=!1,N&&(N=!1,I(H),H=-1),w=!0;var F=v;try{for(_(A),p=i(f);p!==null&&(!(p.expirationTime>A)||j&&!V());){var S=p.callback;if(typeof S=="function"){p.callback=null,v=p.priorityLevel;var T=S(p.expirationTime<=A);A=t.unstable_now(),typeof T=="function"?p.callback=T:p===i(f)&&l(f),_(A)}else l(f);p=i(f)}if(p!==null)var J=!0;else{var D=i(g);D!==null&&O(E,D.startTime-A),J=!1}return J}finally{p=null,v=F,w=!1}}var P=!1,B=null,H=-1,K=5,W=-1;function V(){return!(t.unstable_now()-W<K)}function U(){if(B!==null){var j=t.unstable_now();W=j;var A=!0;try{A=B(!0,j)}finally{A?G():(P=!1,B=null)}}else P=!1}var G;if(typeof L=="function")G=function(){L(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,X=C.port2;C.port1.onmessage=U,G=function(){X.postMessage(null)}}else G=function(){M(U,0)};function R(j){B=j,P||(P=!0,G())}function O(j,A){H=M(function(){j(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,R($))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return i(f)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var F=v;v=A;try{return j()}finally{v=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=v;v=j;try{return A()}finally{v=F}},t.unstable_scheduleCallback=function(j,A,F){var S=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?S+F:S):F=S,j){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=F+T,j={id:m++,callback:A,priorityLevel:j,startTime:F,expirationTime:T,sortIndex:-1},F>S?(j.sortIndex=F,r(g,j),i(f)===null&&j===i(g)&&(N?(I(H),H=-1):N=!0,O(E,F-S))):(j.sortIndex=T,r(f,j),k||w||(k=!0,R($))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var A=v;return function(){var F=v;v=A;try{return j.apply(this,arguments)}finally{v=F}}}})(Mu)),Mu}var th;function gy(){return th||(th=1,ju.exports=py()),ju.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function my(){if(nh)return mt;nh=1;var t=_i(),r=gy();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)l.add(n[e])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function v(e){return f.call(p,e)?!0:f.call(m,e)?!1:g.test(e)?p[e]=!0:(m[e]=!0,!1)}function w(e,n,o,s){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,o,s){if(n===null||typeof n>"u"||w(e,n,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,o,s,h,y,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=y,this.removeEmptyString=b}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];M[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(I,L);M[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(I,L);M[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(I,L);M[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function _(e,n,o,s){var h=M.hasOwnProperty(n)?M[n]:null;(h!==null?h.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,o,h,s)&&(o=null),s||h===null?v(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(n=h.attributeName,s=h.attributeNamespace,o===null?e.removeAttribute(n):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,s?e.setAttributeNS(s,n,o):e.setAttribute(n,o))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),P=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),j=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,S;function T(e){if(S===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var J=!1;function D(e,n){if(!e||J)return"";J=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(se){var s=se}Reflect.construct(e,[],n)}else{try{n.call()}catch(se){s=se}e.call(n.prototype)}else{try{throw Error()}catch(se){s=se}e()}}catch(se){if(se&&s&&typeof se.stack=="string"){for(var h=se.stack.split(`
`),y=s.stack.split(`
`),b=h.length-1,q=y.length-1;1<=b&&0<=q&&h[b]!==y[q];)q--;for(;1<=b&&0<=q;b--,q--)if(h[b]!==y[q]){if(b!==1||q!==1)do if(b--,q--,0>q||h[b]!==y[q]){var ee=`
`+h[b].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=b&&0<=q);break}}}finally{J=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?T(e):""}function z(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1),e;case 11:return e=D(e.type.render,!1),e;case 1:return e=D(e.type,!0),e;default:return""}}function Y(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case P:return"Portal";case K:return"Profiler";case H:return"StrictMode";case G:return"Suspense";case C:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case U:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:Y(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Y(e(n))}catch{}}return null}function Z(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(n);case 8:return n===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ne(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function le(e){var n=ne(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,y.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ae(e){e._valueTracker||(e._valueTracker=le(e))}function pe(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=ne(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _e(e,n){var o=n.checked;return F({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Ee(e,n){var o=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;o=Q(n.value!=null?n.value:o),e._wrapperState={initialChecked:s,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ce(e,n){n=n.checked,n!=null&&_(e,"checked",n,!1)}function Ae(e,n){Ce(e,n);var o=Q(n.value),s=n.type;if(o!=null)s==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ot(e,n.type,o):n.hasOwnProperty("defaultValue")&&ot(e,n.type,Q(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function tt(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ot(e,n,o){(n!=="number"||me(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var vt=Array.isArray;function St(e,n,o,s){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Q(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,s&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return F({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xn(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(vt(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Q(o)}}function Er(e,n){var o=Q(n.value),s=Q(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),s!=null&&(e.defaultValue=""+s)}function Un(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function rn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?rn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yn,zi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,s,h){MSApp.execUnsafeLocalFunction(function(){return e(n,o,s,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function sn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tl=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(e){Tl.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xn[n]=Xn[e]})});function Ii(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Xn.hasOwnProperty(e)&&Xn[e]?(""+n).trim():n+"px"}function Pi(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var s=o.indexOf("--")===0,h=Ii(o,n[o],s);o==="float"&&(o="cssFloat"),s?e.setProperty(o,h):e[o]=h}}var Ll=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(e,n){if(n){if(Ll[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function go(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,wn=null,kn=null;function Ti(e){if(e=Bo(e)){if(typeof vo!="function")throw Error(i(280));var n=e.stateNode;n&&(n=us(n),vo(e.stateNode,e.type,n))}}function Li(e){wn?kn?kn.push(e):kn=[e]:wn=e}function Ai(){if(wn){var e=wn,n=kn;if(kn=wn=null,Ti(e),n)for(e=0;e<n.length;e++)Ti(n[e])}}function Di(e,n){return e(n)}function Ri(){}var xo=!1;function Oi(e,n,o){if(xo)return e(n,o);xo=!0;try{return Di(e,n,o)}finally{xo=!1,(wn!==null||kn!==null)&&(Ri(),Ai())}}function Gn(e,n){var o=e.stateNode;if(o===null)return null;var s=us(o);if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var wo=!1;if(d)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{wo=!1}function Al(e,n,o,s,h,y,b,q,ee){var se=Array.prototype.slice.call(arguments,3);try{n.apply(o,se)}catch(ce){this.onError(ce)}}var Qn=!1,Nr=null,br=!1,ko=null,Dl={onError:function(e){Qn=!0,Nr=e}};function Rl(e,n,o,s,h,y,b,q,ee){Qn=!1,Nr=null,Al.apply(Dl,arguments)}function Ol(e,n,o,s,h,y,b,q,ee){if(Rl.apply(this,arguments),Qn){if(Qn){var se=Nr;Qn=!1,Nr=null}else throw Error(i(198));br||(br=!0,ko=se)}}function Yt(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function _o(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Eo(e){if(Yt(e)!==e)throw Error(i(188))}function $l(e){var n=e.alternate;if(!n){if(n=Yt(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,s=n;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(s=h.return,s!==null){o=s;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return Eo(h),e;if(y===s)return Eo(h),n;y=y.sibling}throw Error(i(188))}if(o.return!==s.return)o=h,s=y;else{for(var b=!1,q=h.child;q;){if(q===o){b=!0,o=h,s=y;break}if(q===s){b=!0,s=h,o=y;break}q=q.sibling}if(!b){for(q=y.child;q;){if(q===o){b=!0,o=y,s=h;break}if(q===s){b=!0,s=y,o=h;break}q=q.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==s)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function $i(e){return e=$l(e),e!==null?Fi(e):null}function Fi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Fi(e);if(n!==null)return n;e=e.sibling}return null}var Hi=r.unstable_scheduleCallback,Vi=r.unstable_cancelCallback,Fl=r.unstable_shouldYield,Bi=r.unstable_requestPaint,He=r.unstable_now,Hl=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Wi=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,Vl=r.unstable_LowPriority,Ui=r.unstable_IdlePriority,Kn=null,Ct=null;function Bl(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Kn,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Yl,Wl=Math.log,Ul=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Wl(e)/Ul|0)|0}var Cr=64,jr=4194304;function Xt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mr(e,n){var o=e.pendingLanes;if(o===0)return 0;var s=0,h=e.suspendedLanes,y=e.pingedLanes,b=o&268435455;if(b!==0){var q=b&~h;q!==0?s=Xt(q):(y&=b,y!==0&&(s=Xt(y)))}else b=o&~h,b!==0?s=Xt(b):y!==0&&(s=Xt(y));if(s===0)return 0;if(n!==0&&n!==s&&(n&h)===0&&(h=s&-s,y=n&-n,h>=y||h===16&&(y&4194240)!==0))return n;if((s&4)!==0&&(s|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)o=31-xt(n),h=1<<o,s|=e[o],n&=~h;return s}function Yi(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes;0<y;){var b=31-xt(y),q=1<<b,ee=h[b];ee===-1?((q&o)===0||(q&s)!==0)&&(h[b]=Yi(q,n)):ee<=n&&(e.expiredLanes|=q),y&=~q}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zr(){var e=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),e}function So(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Zn(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xt(n),e[n]=o}function Xi(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-xt(o),y=1<<h;n[h]=0,s[h]=-1,e[h]=-1,o&=~y}}function Gl(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-xt(o),h=1<<s;h&n|e[s]&n&&(e[s]|=n),o&=~h}}var Pe=0;function Cc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var jc,ql,Mc,zc,Ic,Ql=!1,Gi=[],_n=null,En=null,Nn=null,Co=new Map,jo=new Map,bn=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,n){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function Mo(e,n,o,s,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:y,targetContainers:[h]},n!==null&&(n=Bo(n),n!==null&&ql(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Lg(e,n,o,s,h){switch(n){case"focusin":return _n=Mo(_n,e,n,o,s,h),!0;case"dragenter":return En=Mo(En,e,n,o,s,h),!0;case"mouseover":return Nn=Mo(Nn,e,n,o,s,h),!0;case"pointerover":var y=h.pointerId;return Co.set(y,Mo(Co.get(y)||null,e,n,o,s,h)),!0;case"gotpointercapture":return y=h.pointerId,jo.set(y,Mo(jo.get(y)||null,e,n,o,s,h)),!0}return!1}function Tc(e){var n=Jn(e.target);if(n!==null){var o=Yt(n);if(o!==null){if(n=o.tag,n===13){if(n=_o(o),n!==null){e.blockedOn=n,Ic(e.priority,function(){Mc(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Zl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);mo=s,o.target.dispatchEvent(s),mo=null}else return n=Bo(o),n!==null&&ql(n),e.blockedOn=o,!1;n.shift()}return!0}function Lc(e,n,o){qi(e)&&o.delete(n)}function Ag(){Ql=!1,_n!==null&&qi(_n)&&(_n=null),En!==null&&qi(En)&&(En=null),Nn!==null&&qi(Nn)&&(Nn=null),Co.forEach(Lc),jo.forEach(Lc)}function zo(e,n){e.blockedOn===n&&(e.blockedOn=null,Ql||(Ql=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ag)))}function Io(e){function n(h){return zo(h,e)}if(0<Gi.length){zo(Gi[0],e);for(var o=1;o<Gi.length;o++){var s=Gi[o];s.blockedOn===e&&(s.blockedOn=null)}}for(_n!==null&&zo(_n,e),En!==null&&zo(En,e),Nn!==null&&zo(Nn,e),Co.forEach(n),jo.forEach(n),o=0;o<bn.length;o++)s=bn[o],s.blockedOn===e&&(s.blockedOn=null);for(;0<bn.length&&(o=bn[0],o.blockedOn===null);)Tc(o),o.blockedOn===null&&bn.shift()}var Ir=E.ReactCurrentBatchConfig,Qi=!0;function Dg(e,n,o,s){var h=Pe,y=Ir.transition;Ir.transition=null;try{Pe=1,Kl(e,n,o,s)}finally{Pe=h,Ir.transition=y}}function Rg(e,n,o,s){var h=Pe,y=Ir.transition;Ir.transition=null;try{Pe=4,Kl(e,n,o,s)}finally{Pe=h,Ir.transition=y}}function Kl(e,n,o,s){if(Qi){var h=Zl(e,n,o,s);if(h===null)ga(e,n,s,Ki,o),Pc(e,s);else if(Lg(h,e,n,o,s))s.stopPropagation();else if(Pc(e,s),n&4&&-1<Tg.indexOf(e)){for(;h!==null;){var y=Bo(h);if(y!==null&&jc(y),y=Zl(e,n,o,s),y===null&&ga(e,n,s,Ki,o),y===h)break;h=y}h!==null&&s.stopPropagation()}else ga(e,n,s,null,o)}}var Ki=null;function Zl(e,n,o,s){if(Ki=null,e=yo(s),e=Jn(e),e!==null)if(n=Yt(e),n===null)e=null;else if(o=n.tag,o===13){if(e=_o(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ki=e,null}function Ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case No:return 1;case Wi:return 4;case Sr:case Vl:return 16;case Ui:return 536870912;default:return 16}default:return 16}}var Sn=null,Jl=null,Zi=null;function Dc(){if(Zi)return Zi;var e,n=Jl,o=n.length,s,h="value"in Sn?Sn.value:Sn.textContent,y=h.length;for(e=0;e<o&&n[e]===h[e];e++);var b=o-e;for(s=1;s<=b&&n[o-s]===h[y-s];s++);return Zi=h.slice(e,1<s?1-s:void 0)}function Ji(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Rc(){return!1}function wt(e){function n(o,s,h,y,b){this._reactName=o,this._targetInst=h,this.type=s,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(o=e[q],this[q]=o?o(y):y[q]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?es:Rc,this.isPropagationStopped=Rc,this}return F(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=wt(Pr),Po=F({},Pr,{view:0,detail:0}),Og=wt(Po),ta,na,To,ts=F({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(ta=e.screenX-To.screenX,na=e.screenY-To.screenY):na=ta=0,To=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Oc=wt(ts),$g=F({},ts,{dataTransfer:0}),Fg=wt($g),Hg=F({},Po,{relatedTarget:0}),ra=wt(Hg),Vg=F({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bg=wt(Vg),Wg=F({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ug=wt(Wg),Yg=F({},Pr,{data:0}),$c=wt(Yg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qg[e])?!!n[e]:!1}function oa(){return Qg}var Kg=F({},Po,{key:function(e){if(e.key){var n=Xg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=wt(Kg),Jg=F({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=wt(Jg),em=F({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),tm=wt(em),nm=F({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=wt(nm),om=F({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),im=wt(om),sm=[9,13,27,32],ia=d&&"CompositionEvent"in window,Lo=null;d&&"documentMode"in document&&(Lo=document.documentMode);var lm=d&&"TextEvent"in window&&!Lo,Hc=d&&(!ia||Lo&&8<Lo&&11>=Lo),Vc=" ",Bc=!1;function Wc(e,n){switch(e){case"keyup":return sm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function am(e,n){switch(e){case"compositionend":return Uc(n);case"keypress":return n.which!==32?null:(Bc=!0,Vc);case"textInput":return e=n.data,e===Vc&&Bc?null:e;default:return null}}function um(e,n){if(Tr)return e==="compositionend"||!ia&&Wc(e,n)?(e=Dc(),Zi=Jl=Sn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hc&&n.locale!=="ko"?null:n.data;default:return null}}var cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cm[e.type]:n==="textarea"}function Xc(e,n,o,s){Li(s),n=ss(n,"onChange"),0<n.length&&(o=new ea("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Ao=null,Do=null;function dm(e){dd(e,0)}function ns(e){var n=Or(e);if(pe(n))return e}function fm(e,n){if(e==="change")return n}var Gc=!1;if(d){var sa;if(d){var la="oninput"in document;if(!la){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),la=typeof qc.oninput=="function"}sa=la}else sa=!1;Gc=sa&&(!document.documentMode||9<document.documentMode)}function Qc(){Ao&&(Ao.detachEvent("onpropertychange",Kc),Do=Ao=null)}function Kc(e){if(e.propertyName==="value"&&ns(Do)){var n=[];Xc(n,Do,e,yo(e)),Oi(dm,n)}}function hm(e,n,o){e==="focusin"?(Qc(),Ao=n,Do=o,Ao.attachEvent("onpropertychange",Kc)):e==="focusout"&&Qc()}function pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns(Do)}function gm(e,n){if(e==="click")return ns(n)}function mm(e,n){if(e==="input"||e==="change")return ns(n)}function ym(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:ym;function Ro(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var h=o[s];if(!f.call(n,h)||!Lt(e[h],n[h]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,n){var o=Zc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zc(o)}}function ed(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ed(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function td(){for(var e=window,n=me();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=me(e.document)}return n}function aa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vm(e){var n=td(),o=e.focusedElem,s=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&ed(o.ownerDocument.documentElement,o)){if(s!==null&&aa(o)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,y=Math.min(s.start,h);s=s.end===void 0?y:Math.min(s.end,h),!e.extend&&y>s&&(h=s,s=y,y=h),h=Jc(o,y);var b=Jc(o,s);h&&b&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),y>s?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xm=d&&"documentMode"in document&&11>=document.documentMode,Lr=null,ua=null,Oo=null,ca=!1;function nd(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ca||Lr==null||Lr!==me(s)||(s=Lr,"selectionStart"in s&&aa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oo&&Ro(Oo,s)||(Oo=s,s=ss(ua,"onSelect"),0<s.length&&(n=new ea("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Lr)))}function rs(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ar={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},da={},rd={};d&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function os(e){if(da[e])return da[e];if(!Ar[e])return e;var n=Ar[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in rd)return da[e]=n[o];return e}var od=os("animationend"),id=os("animationiteration"),sd=os("animationstart"),ld=os("transitionend"),ad=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,n){ad.set(e,n),u(n,[e])}for(var fa=0;fa<ud.length;fa++){var ha=ud[fa],wm=ha.toLowerCase(),km=ha[0].toUpperCase()+ha.slice(1);Cn(wm,"on"+km)}Cn(od,"onAnimationEnd"),Cn(id,"onAnimationIteration"),Cn(sd,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(ld,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function cd(e,n,o){var s=e.type||"unknown-event";e.currentTarget=o,Ol(s,n,void 0,e),e.currentTarget=null}function dd(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],h=s.event;s=s.listeners;e:{var y=void 0;if(n)for(var b=s.length-1;0<=b;b--){var q=s[b],ee=q.instance,se=q.currentTarget;if(q=q.listener,ee!==y&&h.isPropagationStopped())break e;cd(h,q,se),y=ee}else for(b=0;b<s.length;b++){if(q=s[b],ee=q.instance,se=q.currentTarget,q=q.listener,ee!==y&&h.isPropagationStopped())break e;cd(h,q,se),y=ee}}}if(br)throw e=ko,br=!1,ko=null,e}function De(e,n){var o=n[ka];o===void 0&&(o=n[ka]=new Set);var s=e+"__bubble";o.has(s)||(fd(n,e,2,!1),o.add(s))}function pa(e,n,o){var s=0;n&&(s|=4),fd(o,e,s,n)}var is="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[is]){e[is]=!0,l.forEach(function(o){o!=="selectionchange"&&(_m.has(o)||pa(o,!1,e),pa(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[is]||(n[is]=!0,pa("selectionchange",!1,n))}}function fd(e,n,o,s){switch(Ac(n)){case 1:var h=Dg;break;case 4:h=Rg;break;default:h=Kl}o=h.bind(null,n,o,e),h=void 0,!wo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),s?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function ga(e,n,o,s,h){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var q=s.stateNode.containerInfo;if(q===h||q.nodeType===8&&q.parentNode===h)break;if(b===4)for(b=s.return;b!==null;){var ee=b.tag;if((ee===3||ee===4)&&(ee=b.stateNode.containerInfo,ee===h||ee.nodeType===8&&ee.parentNode===h))return;b=b.return}for(;q!==null;){if(b=Jn(q),b===null)return;if(ee=b.tag,ee===5||ee===6){s=y=b;continue e}q=q.parentNode}}s=s.return}Oi(function(){var se=y,ce=yo(o),de=[];e:{var ue=ad.get(e);if(ue!==void 0){var ge=ea,ve=e;switch(e){case"keypress":if(Ji(o)===0)break e;case"keydown":case"keyup":ge=Zg;break;case"focusin":ve="focus",ge=ra;break;case"focusout":ve="blur",ge=ra;break;case"beforeblur":case"afterblur":ge=ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=tm;break;case od:case id:case sd:ge=Bg;break;case ld:ge=rm;break;case"scroll":ge=Og;break;case"wheel":ge=im;break;case"copy":case"cut":case"paste":ge=Ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Fc}var xe=(n&4)!==0,Ue=!xe&&e==="scroll",oe=xe?ue!==null?ue+"Capture":null:ue;xe=[];for(var te=se,ie;te!==null;){ie=te;var fe=ie.stateNode;if(ie.tag===5&&fe!==null&&(ie=fe,oe!==null&&(fe=Gn(te,oe),fe!=null&&xe.push(Ho(te,fe,ie)))),Ue)break;te=te.return}0<xe.length&&(ue=new ge(ue,ve,null,o,ce),de.push({event:ue,listeners:xe}))}}if((n&7)===0){e:{if(ue=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",ue&&o!==mo&&(ve=o.relatedTarget||o.fromElement)&&(Jn(ve)||ve[ln]))break e;if((ge||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?(ve=o.relatedTarget||o.toElement,ge=se,ve=ve?Jn(ve):null,ve!==null&&(Ue=Yt(ve),ve!==Ue||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(ge=null,ve=se),ge!==ve)){if(xe=Oc,fe="onMouseLeave",oe="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Fc,fe="onPointerLeave",oe="onPointerEnter",te="pointer"),Ue=ge==null?ue:Or(ge),ie=ve==null?ue:Or(ve),ue=new xe(fe,te+"leave",ge,o,ce),ue.target=Ue,ue.relatedTarget=ie,fe=null,Jn(ce)===se&&(xe=new xe(oe,te+"enter",ve,o,ce),xe.target=ie,xe.relatedTarget=Ue,fe=xe),Ue=fe,ge&&ve)t:{for(xe=ge,oe=ve,te=0,ie=xe;ie;ie=Dr(ie))te++;for(ie=0,fe=oe;fe;fe=Dr(fe))ie++;for(;0<te-ie;)xe=Dr(xe),te--;for(;0<ie-te;)oe=Dr(oe),ie--;for(;te--;){if(xe===oe||oe!==null&&xe===oe.alternate)break t;xe=Dr(xe),oe=Dr(oe)}xe=null}else xe=null;ge!==null&&hd(de,ue,ge,xe,!1),ve!==null&&Ue!==null&&hd(de,Ue,ve,xe,!0)}}e:{if(ue=se?Or(se):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var we=fm;else if(Yc(ue))if(Gc)we=mm;else{we=pm;var Ne=hm}else(ge=ue.nodeName)&&ge.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(we=gm);if(we&&(we=we(e,se))){Xc(de,we,o,ce);break e}Ne&&Ne(e,ue,se),e==="focusout"&&(Ne=ue._wrapperState)&&Ne.controlled&&ue.type==="number"&&ot(ue,"number",ue.value)}switch(Ne=se?Or(se):window,e){case"focusin":(Yc(Ne)||Ne.contentEditable==="true")&&(Lr=Ne,ua=se,Oo=null);break;case"focusout":Oo=ua=Lr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,nd(de,o,ce);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":nd(de,o,ce)}var be;if(ia)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Tr?Wc(e,o)&&(Se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(Hc&&o.locale!=="ko"&&(Tr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Tr&&(be=Dc()):(Sn=ce,Jl="value"in Sn?Sn.value:Sn.textContent,Tr=!0)),Ne=ss(se,Se),0<Ne.length&&(Se=new $c(Se,e,null,o,ce),de.push({event:Se,listeners:Ne}),be?Se.data=be:(be=Uc(o),be!==null&&(Se.data=be)))),(be=lm?am(e,o):um(e,o))&&(se=ss(se,"onBeforeInput"),0<se.length&&(ce=new $c("onBeforeInput","beforeinput",null,o,ce),de.push({event:ce,listeners:se}),ce.data=be))}dd(de,n)})}function Ho(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ss(e,n){for(var o=n+"Capture",s=[];e!==null;){var h=e,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=Gn(e,o),y!=null&&s.unshift(Ho(e,y,h)),y=Gn(e,n),y!=null&&s.push(Ho(e,y,h))),e=e.return}return s}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,n,o,s,h){for(var y=n._reactName,b=[];o!==null&&o!==s;){var q=o,ee=q.alternate,se=q.stateNode;if(ee!==null&&ee===s)break;q.tag===5&&se!==null&&(q=se,h?(ee=Gn(o,y),ee!=null&&b.unshift(Ho(o,ee,q))):h||(ee=Gn(o,y),ee!=null&&b.push(Ho(o,ee,q)))),o=o.return}b.length!==0&&e.push({event:n,listeners:b})}var Em=/\r\n?/g,Nm=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(Em,`
`).replace(Nm,"")}function ls(e,n,o){if(n=pd(n),pd(e)!==n&&o)throw Error(i(425))}function as(){}var ma=null,ya=null;function va(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,Sm=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(e){return gd.resolve(null).then(e).catch(Cm)}:xa;function Cm(e){setTimeout(function(){throw e})}function wa(e,n){var o=n,s=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(s===0){e.removeChild(h),Io(n);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=h}while(o);Io(n)}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function md(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Rr,Vo="__reactProps$"+Rr,ln="__reactContainer$"+Rr,ka="__reactEvents$"+Rr,jm="__reactListeners$"+Rr,Mm="__reactHandles$"+Rr;function Jn(e){var n=e[Gt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[ln]||o[Gt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=md(e);e!==null;){if(o=e[Gt])return o;e=md(e)}return n}e=o,o=e.parentNode}return null}function Bo(e){return e=e[Gt]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function us(e){return e[Vo]||null}var _a=[],$r=-1;function Mn(e){return{current:e}}function Re(e){0>$r||(e.current=_a[$r],_a[$r]=null,$r--)}function Le(e,n){$r++,_a[$r]=e.current,e.current=n}var zn={},it=Mn(zn),dt=Mn(!1),er=zn;function Fr(e,n){var o=e.type.contextTypes;if(!o)return zn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in o)h[y]=n[y];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function ft(e){return e=e.childContextTypes,e!=null}function cs(){Re(dt),Re(it)}function yd(e,n,o){if(it.current!==zn)throw Error(i(168));Le(it,n),Le(dt,o)}function vd(e,n,o){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var h in s)if(!(h in n))throw Error(i(108,Z(e)||"Unknown",h));return F({},o,s)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,er=it.current,Le(it,e),Le(dt,dt.current),!0}function xd(e,n,o){var s=e.stateNode;if(!s)throw Error(i(169));o?(e=vd(e,n,er),s.__reactInternalMemoizedMergedChildContext=e,Re(dt),Re(it),Le(it,e)):Re(dt),Le(dt,o)}var an=null,fs=!1,Ea=!1;function wd(e){an===null?an=[e]:an.push(e)}function zm(e){fs=!0,wd(e)}function In(){if(!Ea&&an!==null){Ea=!0;var e=0,n=Pe;try{var o=an;for(Pe=1;e<o.length;e++){var s=o[e];do s=s(!0);while(s!==null)}an=null,fs=!1}catch(h){throw an!==null&&(an=an.slice(e+1)),Hi(No,In),h}finally{Pe=n,Ea=!1}}return null}var Hr=[],Vr=0,hs=null,ps=0,jt=[],Mt=0,tr=null,un=1,cn="";function nr(e,n){Hr[Vr++]=ps,Hr[Vr++]=hs,hs=e,ps=n}function kd(e,n,o){jt[Mt++]=un,jt[Mt++]=cn,jt[Mt++]=tr,tr=e;var s=un;e=cn;var h=32-xt(s)-1;s&=~(1<<h),o+=1;var y=32-xt(n)+h;if(30<y){var b=h-h%5;y=(s&(1<<b)-1).toString(32),s>>=b,h-=b,un=1<<32-xt(n)+h|o<<h|s,cn=y+e}else un=1<<y|o<<h|s,cn=e}function Na(e){e.return!==null&&(nr(e,1),kd(e,1,0))}function ba(e){for(;e===hs;)hs=Hr[--Vr],Hr[Vr]=null,ps=Hr[--Vr],Hr[Vr]=null;for(;e===tr;)tr=jt[--Mt],jt[Mt]=null,cn=jt[--Mt],jt[Mt]=null,un=jt[--Mt],jt[Mt]=null}var kt=null,_t=null,$e=!1,At=null;function _d(e,n){var o=Tt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Ed(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,kt=e,_t=jn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,kt=e,_t=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=tr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Tt(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,kt=e,_t=null,!0):!1;default:return!1}}function Sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ca(e){if($e){var n=_t;if(n){var o=n;if(!Ed(e,n)){if(Sa(e))throw Error(i(418));n=jn(o.nextSibling);var s=kt;n&&Ed(e,n)?_d(s,o):(e.flags=e.flags&-4097|2,$e=!1,kt=e)}}else{if(Sa(e))throw Error(i(418));e.flags=e.flags&-4097|2,$e=!1,kt=e}}}function Nd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function gs(e){if(e!==kt)return!1;if(!$e)return Nd(e),$e=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!va(e.type,e.memoizedProps)),n&&(n=_t)){if(Sa(e))throw bd(),Error(i(418));for(;n;)_d(e,n),n=jn(n.nextSibling)}if(Nd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){_t=jn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}_t=null}}else _t=kt?jn(e.stateNode.nextSibling):null;return!0}function bd(){for(var e=_t;e;)e=jn(e.nextSibling)}function Br(){_t=kt=null,$e=!1}function ja(e){At===null?At=[e]:At.push(e)}var Im=E.ReactCurrentBatchConfig;function Wo(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var s=o.stateNode}if(!s)throw Error(i(147,e));var h=s,y=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===y?n.ref:(n=function(b){var q=h.refs;b===null?delete q[y]:q[y]=b},n._stringRef=y,n)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function ms(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Sd(e){var n=e._init;return n(e._payload)}function Cd(e){function n(oe,te){if(e){var ie=oe.deletions;ie===null?(oe.deletions=[te],oe.flags|=16):ie.push(te)}}function o(oe,te){if(!e)return null;for(;te!==null;)n(oe,te),te=te.sibling;return null}function s(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function h(oe,te){return oe=$n(oe,te),oe.index=0,oe.sibling=null,oe}function y(oe,te,ie){return oe.index=ie,e?(ie=oe.alternate,ie!==null?(ie=ie.index,ie<te?(oe.flags|=2,te):ie):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function b(oe){return e&&oe.alternate===null&&(oe.flags|=2),oe}function q(oe,te,ie,fe){return te===null||te.tag!==6?(te=xu(ie,oe.mode,fe),te.return=oe,te):(te=h(te,ie),te.return=oe,te)}function ee(oe,te,ie,fe){var we=ie.type;return we===B?ce(oe,te,ie.props.children,fe,ie.key):te!==null&&(te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&Sd(we)===te.type)?(fe=h(te,ie.props),fe.ref=Wo(oe,te,ie),fe.return=oe,fe):(fe=Fs(ie.type,ie.key,ie.props,null,oe.mode,fe),fe.ref=Wo(oe,te,ie),fe.return=oe,fe)}function se(oe,te,ie,fe){return te===null||te.tag!==4||te.stateNode.containerInfo!==ie.containerInfo||te.stateNode.implementation!==ie.implementation?(te=wu(ie,oe.mode,fe),te.return=oe,te):(te=h(te,ie.children||[]),te.return=oe,te)}function ce(oe,te,ie,fe,we){return te===null||te.tag!==7?(te=cr(ie,oe.mode,fe,we),te.return=oe,te):(te=h(te,ie),te.return=oe,te)}function de(oe,te,ie){if(typeof te=="string"&&te!==""||typeof te=="number")return te=xu(""+te,oe.mode,ie),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case $:return ie=Fs(te.type,te.key,te.props,null,oe.mode,ie),ie.ref=Wo(oe,null,te),ie.return=oe,ie;case P:return te=wu(te,oe.mode,ie),te.return=oe,te;case R:var fe=te._init;return de(oe,fe(te._payload),ie)}if(vt(te)||A(te))return te=cr(te,oe.mode,ie,null),te.return=oe,te;ms(oe,te)}return null}function ue(oe,te,ie,fe){var we=te!==null?te.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return we!==null?null:q(oe,te,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:return ie.key===we?ee(oe,te,ie,fe):null;case P:return ie.key===we?se(oe,te,ie,fe):null;case R:return we=ie._init,ue(oe,te,we(ie._payload),fe)}if(vt(ie)||A(ie))return we!==null?null:ce(oe,te,ie,fe,null);ms(oe,ie)}return null}function ge(oe,te,ie,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return oe=oe.get(ie)||null,q(te,oe,""+fe,we);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case $:return oe=oe.get(fe.key===null?ie:fe.key)||null,ee(te,oe,fe,we);case P:return oe=oe.get(fe.key===null?ie:fe.key)||null,se(te,oe,fe,we);case R:var Ne=fe._init;return ge(oe,te,ie,Ne(fe._payload),we)}if(vt(fe)||A(fe))return oe=oe.get(ie)||null,ce(te,oe,fe,we,null);ms(te,fe)}return null}function ve(oe,te,ie,fe){for(var we=null,Ne=null,be=te,Se=te=0,et=null;be!==null&&Se<ie.length;Se++){be.index>Se?(et=be,be=null):et=be.sibling;var Ie=ue(oe,be,ie[Se],fe);if(Ie===null){be===null&&(be=et);break}e&&be&&Ie.alternate===null&&n(oe,be),te=y(Ie,te,Se),Ne===null?we=Ie:Ne.sibling=Ie,Ne=Ie,be=et}if(Se===ie.length)return o(oe,be),$e&&nr(oe,Se),we;if(be===null){for(;Se<ie.length;Se++)be=de(oe,ie[Se],fe),be!==null&&(te=y(be,te,Se),Ne===null?we=be:Ne.sibling=be,Ne=be);return $e&&nr(oe,Se),we}for(be=s(oe,be);Se<ie.length;Se++)et=ge(be,oe,Se,ie[Se],fe),et!==null&&(e&&et.alternate!==null&&be.delete(et.key===null?Se:et.key),te=y(et,te,Se),Ne===null?we=et:Ne.sibling=et,Ne=et);return e&&be.forEach(function(Fn){return n(oe,Fn)}),$e&&nr(oe,Se),we}function xe(oe,te,ie,fe){var we=A(ie);if(typeof we!="function")throw Error(i(150));if(ie=we.call(ie),ie==null)throw Error(i(151));for(var Ne=we=null,be=te,Se=te=0,et=null,Ie=ie.next();be!==null&&!Ie.done;Se++,Ie=ie.next()){be.index>Se?(et=be,be=null):et=be.sibling;var Fn=ue(oe,be,Ie.value,fe);if(Fn===null){be===null&&(be=et);break}e&&be&&Fn.alternate===null&&n(oe,be),te=y(Fn,te,Se),Ne===null?we=Fn:Ne.sibling=Fn,Ne=Fn,be=et}if(Ie.done)return o(oe,be),$e&&nr(oe,Se),we;if(be===null){for(;!Ie.done;Se++,Ie=ie.next())Ie=de(oe,Ie.value,fe),Ie!==null&&(te=y(Ie,te,Se),Ne===null?we=Ie:Ne.sibling=Ie,Ne=Ie);return $e&&nr(oe,Se),we}for(be=s(oe,be);!Ie.done;Se++,Ie=ie.next())Ie=ge(be,oe,Se,Ie.value,fe),Ie!==null&&(e&&Ie.alternate!==null&&be.delete(Ie.key===null?Se:Ie.key),te=y(Ie,te,Se),Ne===null?we=Ie:Ne.sibling=Ie,Ne=Ie);return e&&be.forEach(function(cy){return n(oe,cy)}),$e&&nr(oe,Se),we}function Ue(oe,te,ie,fe){if(typeof ie=="object"&&ie!==null&&ie.type===B&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:e:{for(var we=ie.key,Ne=te;Ne!==null;){if(Ne.key===we){if(we=ie.type,we===B){if(Ne.tag===7){o(oe,Ne.sibling),te=h(Ne,ie.props.children),te.return=oe,oe=te;break e}}else if(Ne.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&Sd(we)===Ne.type){o(oe,Ne.sibling),te=h(Ne,ie.props),te.ref=Wo(oe,Ne,ie),te.return=oe,oe=te;break e}o(oe,Ne);break}else n(oe,Ne);Ne=Ne.sibling}ie.type===B?(te=cr(ie.props.children,oe.mode,fe,ie.key),te.return=oe,oe=te):(fe=Fs(ie.type,ie.key,ie.props,null,oe.mode,fe),fe.ref=Wo(oe,te,ie),fe.return=oe,oe=fe)}return b(oe);case P:e:{for(Ne=ie.key;te!==null;){if(te.key===Ne)if(te.tag===4&&te.stateNode.containerInfo===ie.containerInfo&&te.stateNode.implementation===ie.implementation){o(oe,te.sibling),te=h(te,ie.children||[]),te.return=oe,oe=te;break e}else{o(oe,te);break}else n(oe,te);te=te.sibling}te=wu(ie,oe.mode,fe),te.return=oe,oe=te}return b(oe);case R:return Ne=ie._init,Ue(oe,te,Ne(ie._payload),fe)}if(vt(ie))return ve(oe,te,ie,fe);if(A(ie))return xe(oe,te,ie,fe);ms(oe,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,te!==null&&te.tag===6?(o(oe,te.sibling),te=h(te,ie),te.return=oe,oe=te):(o(oe,te),te=xu(ie,oe.mode,fe),te.return=oe,oe=te),b(oe)):o(oe,te)}return Ue}var Wr=Cd(!0),jd=Cd(!1),ys=Mn(null),vs=null,Ur=null,Ma=null;function za(){Ma=Ur=vs=null}function Ia(e){var n=ys.current;Re(ys),e._currentValue=n}function Pa(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Yr(e,n){vs=e,Ma=Ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(ht=!0),e.firstContext=null)}function zt(e){var n=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:n,next:null},Ur===null){if(vs===null)throw Error(i(308));Ur=e,vs.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return n}var rr=null;function Ta(e){rr===null?rr=[e]:rr.push(e)}function Md(e,n,o,s){var h=n.interleaved;return h===null?(o.next=o,Ta(n)):(o.next=h.next,h.next=o),n.interleaved=o,dn(e,s)}function dn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Pn=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var h=s.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),s.pending=n,dn(e,o)}return h=s.interleaved,h===null?(n.next=n,Ta(s)):(n.next=h.next,h.next=n),s.interleaved=n,dn(e,o)}function xs(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Gl(e,o)}}function Id(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};y===null?h=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?h=y=n:y=y.next=n}else h=y=n;o={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:s.shared,effects:s.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function ws(e,n,o,s){var h=e.updateQueue;Pn=!1;var y=h.firstBaseUpdate,b=h.lastBaseUpdate,q=h.shared.pending;if(q!==null){h.shared.pending=null;var ee=q,se=ee.next;ee.next=null,b===null?y=se:b.next=se,b=ee;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,q=ce.lastBaseUpdate,q!==b&&(q===null?ce.firstBaseUpdate=se:q.next=se,ce.lastBaseUpdate=ee))}if(y!==null){var de=h.baseState;b=0,ce=se=ee=null,q=y;do{var ue=q.lane,ge=q.eventTime;if((s&ue)===ue){ce!==null&&(ce=ce.next={eventTime:ge,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var ve=e,xe=q;switch(ue=n,ge=o,xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){de=ve.call(ge,de,ue);break e}de=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,ue=typeof ve=="function"?ve.call(ge,de,ue):ve,ue==null)break e;de=F({},de,ue);break e;case 2:Pn=!0}}q.callback!==null&&q.lane!==0&&(e.flags|=64,ue=h.effects,ue===null?h.effects=[q]:ue.push(q))}else ge={eventTime:ge,lane:ue,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ce===null?(se=ce=ge,ee=de):ce=ce.next=ge,b|=ue;if(q=q.next,q===null){if(q=h.shared.pending,q===null)break;ue=q,q=ue.next,ue.next=null,h.lastBaseUpdate=ue,h.shared.pending=null}}while(!0);if(ce===null&&(ee=de),h.baseState=ee,h.firstBaseUpdate=se,h.lastBaseUpdate=ce,n=h.shared.interleaved,n!==null){h=n;do b|=h.lane,h=h.next;while(h!==n)}else y===null&&(h.shared.lanes=0);sr|=b,e.lanes=b,e.memoizedState=de}}function Pd(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],h=s.callback;if(h!==null){if(s.callback=null,s=o,typeof h!="function")throw Error(i(191,h));h.call(s)}}}var Uo={},qt=Mn(Uo),Yo=Mn(Uo),Xo=Mn(Uo);function or(e){if(e===Uo)throw Error(i(174));return e}function Aa(e,n){switch(Le(Xo,n),Le(Yo,e),Le(qt,Uo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:on(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=on(n,e)}Re(qt),Le(qt,n)}function Xr(){Re(qt),Re(Yo),Re(Xo)}function Td(e){or(Xo.current);var n=or(qt.current),o=on(n,e.type);n!==o&&(Le(Yo,e),Le(qt,o))}function Da(e){Yo.current===e&&(Re(qt),Re(Yo))}var Ve=Mn(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ra=[];function Oa(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var _s=E.ReactCurrentDispatcher,$a=E.ReactCurrentBatchConfig,ir=0,Be=null,Qe=null,Ze=null,Es=!1,Go=!1,qo=0,Pm=0;function st(){throw Error(i(321))}function Fa(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Lt(e[o],n[o]))return!1;return!0}function Ha(e,n,o,s,h,y){if(ir=y,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,_s.current=e===null||e.memoizedState===null?Dm:Rm,e=o(s,h),Go){y=0;do{if(Go=!1,qo=0,25<=y)throw Error(i(301));y+=1,Ze=Qe=null,n.updateQueue=null,_s.current=Om,e=o(s,h)}while(Go)}if(_s.current=Ss,n=Qe!==null&&Qe.next!==null,ir=0,Ze=Qe=Be=null,Es=!1,n)throw Error(i(300));return e}function Va(){var e=qo!==0;return qo=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Be.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function It(){if(Qe===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=Ze===null?Be.memoizedState:Ze.next;if(n!==null)Ze=n,Qe=e;else{if(e===null)throw Error(i(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?Be.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Qo(e,n){return typeof n=="function"?n(e):n}function Ba(e){var n=It(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var s=Qe,h=s.baseQueue,y=o.pending;if(y!==null){if(h!==null){var b=h.next;h.next=y.next,y.next=b}s.baseQueue=h=y,o.pending=null}if(h!==null){y=h.next,s=s.baseState;var q=b=null,ee=null,se=y;do{var ce=se.lane;if((ir&ce)===ce)ee!==null&&(ee=ee.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),s=se.hasEagerState?se.eagerState:e(s,se.action);else{var de={lane:ce,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};ee===null?(q=ee=de,b=s):ee=ee.next=de,Be.lanes|=ce,sr|=ce}se=se.next}while(se!==null&&se!==y);ee===null?b=s:ee.next=q,Lt(s,n.memoizedState)||(ht=!0),n.memoizedState=s,n.baseState=b,n.baseQueue=ee,o.lastRenderedState=s}if(e=o.interleaved,e!==null){h=e;do y=h.lane,Be.lanes|=y,sr|=y,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Wa(e){var n=It(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var s=o.dispatch,h=o.pending,y=n.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do y=e(y,b.action),b=b.next;while(b!==h);Lt(y,n.memoizedState)||(ht=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,s]}function Ld(){}function Ad(e,n){var o=Be,s=It(),h=n(),y=!Lt(s.memoizedState,h);if(y&&(s.memoizedState=h,ht=!0),s=s.queue,Ua(Od.bind(null,o,s,e),[e]),s.getSnapshot!==n||y||Ze!==null&&Ze.memoizedState.tag&1){if(o.flags|=2048,Ko(9,Rd.bind(null,o,s,h,n),void 0,null),Je===null)throw Error(i(349));(ir&30)!==0||Dd(o,n,h)}return h}function Dd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Be.updateQueue,n===null?(n={lastEffect:null,stores:null},Be.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Rd(e,n,o,s){n.value=o,n.getSnapshot=s,$d(n)&&Fd(e)}function Od(e,n,o){return o(function(){$d(n)&&Fd(e)})}function $d(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Lt(e,o)}catch{return!0}}function Fd(e){var n=dn(e,1);n!==null&&$t(n,e,1,-1)}function Hd(e){var n=Qt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},n.queue=e,e=e.dispatch=Am.bind(null,Be,e),[n.memoizedState,e]}function Ko(e,n,o,s){return e={tag:e,create:n,destroy:o,deps:s,next:null},n=Be.updateQueue,n===null?(n={lastEffect:null,stores:null},Be.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e)),e}function Vd(){return It().memoizedState}function Ns(e,n,o,s){var h=Qt();Be.flags|=e,h.memoizedState=Ko(1|n,o,void 0,s===void 0?null:s)}function bs(e,n,o,s){var h=It();s=s===void 0?null:s;var y=void 0;if(Qe!==null){var b=Qe.memoizedState;if(y=b.destroy,s!==null&&Fa(s,b.deps)){h.memoizedState=Ko(n,o,y,s);return}}Be.flags|=e,h.memoizedState=Ko(1|n,o,y,s)}function Bd(e,n){return Ns(8390656,8,e,n)}function Ua(e,n){return bs(2048,8,e,n)}function Wd(e,n){return bs(4,2,e,n)}function Ud(e,n){return bs(4,4,e,n)}function Yd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Xd(e,n,o){return o=o!=null?o.concat([e]):null,bs(4,4,Yd.bind(null,n,e),o)}function Ya(){}function Gd(e,n){var o=It();n=n===void 0?null:n;var s=o.memoizedState;return s!==null&&n!==null&&Fa(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function qd(e,n){var o=It();n=n===void 0?null:n;var s=o.memoizedState;return s!==null&&n!==null&&Fa(n,s[1])?s[0]:(e=e(),o.memoizedState=[e,n],e)}function Qd(e,n,o){return(ir&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=o):(Lt(o,n)||(o=zr(),Be.lanes|=o,sr|=o,e.baseState=!0),n)}function Tm(e,n){var o=Pe;Pe=o!==0&&4>o?o:4,e(!0);var s=$a.transition;$a.transition={};try{e(!1),n()}finally{Pe=o,$a.transition=s}}function Kd(){return It().memoizedState}function Lm(e,n,o){var s=Rn(e);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},Zd(e))Jd(n,o);else if(o=Md(e,n,o,s),o!==null){var h=ct();$t(o,e,s,h),ef(o,n,s)}}function Am(e,n,o){var s=Rn(e),h={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zd(e))Jd(n,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var b=n.lastRenderedState,q=y(b,o);if(h.hasEagerState=!0,h.eagerState=q,Lt(q,b)){var ee=n.interleaved;ee===null?(h.next=h,Ta(n)):(h.next=ee.next,ee.next=h),n.interleaved=h;return}}catch{}finally{}o=Md(e,n,h,s),o!==null&&(h=ct(),$t(o,e,s,h),ef(o,n,s))}}function Zd(e){var n=e.alternate;return e===Be||n!==null&&n===Be}function Jd(e,n){Go=Es=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ef(e,n,o){if((o&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Gl(e,o)}}var Ss={readContext:zt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Dm={readContext:zt,useCallback:function(e,n){return Qt().memoizedState=[e,n===void 0?null:n],e},useContext:zt,useEffect:Bd,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Ns(4194308,4,Yd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ns(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ns(4,2,e,n)},useMemo:function(e,n){var o=Qt();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var s=Qt();return n=o!==void 0?o(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Lm.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var n=Qt();return e={current:e},n.memoizedState=e},useState:Hd,useDebugValue:Ya,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Hd(!1),n=e[0];return e=Tm.bind(null,e[1]),Qt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var s=Be,h=Qt();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Je===null)throw Error(i(349));(ir&30)!==0||Dd(s,n,o)}h.memoizedState=o;var y={value:o,getSnapshot:n};return h.queue=y,Bd(Od.bind(null,s,y,e),[e]),s.flags|=2048,Ko(9,Rd.bind(null,s,y,o,n),void 0,null),o},useId:function(){var e=Qt(),n=Je.identifierPrefix;if($e){var o=cn,s=un;o=(s&~(1<<32-xt(s)-1)).toString(32)+o,n=":"+n+"R"+o,o=qo++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Pm++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Rm={readContext:zt,useCallback:Gd,useContext:zt,useEffect:Ua,useImperativeHandle:Xd,useInsertionEffect:Wd,useLayoutEffect:Ud,useMemo:qd,useReducer:Ba,useRef:Vd,useState:function(){return Ba(Qo)},useDebugValue:Ya,useDeferredValue:function(e){var n=It();return Qd(n,Qe.memoizedState,e)},useTransition:function(){var e=Ba(Qo)[0],n=It().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Ad,useId:Kd,unstable_isNewReconciler:!1},Om={readContext:zt,useCallback:Gd,useContext:zt,useEffect:Ua,useImperativeHandle:Xd,useInsertionEffect:Wd,useLayoutEffect:Ud,useMemo:qd,useReducer:Wa,useRef:Vd,useState:function(){return Wa(Qo)},useDebugValue:Ya,useDeferredValue:function(e){var n=It();return Qe===null?n.memoizedState=e:Qd(n,Qe.memoizedState,e)},useTransition:function(){var e=Wa(Qo)[0],n=It().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Ad,useId:Kd,unstable_isNewReconciler:!1};function Dt(e,n){if(e&&e.defaultProps){n=F({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Xa(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:F({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Cs={isMounted:function(e){return(e=e._reactInternals)?Yt(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var s=ct(),h=Rn(e),y=fn(s,h);y.payload=n,o!=null&&(y.callback=o),n=Tn(e,y,h),n!==null&&($t(n,e,h,s),xs(n,e,h))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=ct(),h=Rn(e),y=fn(s,h);y.tag=1,y.payload=n,o!=null&&(y.callback=o),n=Tn(e,y,h),n!==null&&($t(n,e,h,s),xs(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=ct(),s=Rn(e),h=fn(o,s);h.tag=2,n!=null&&(h.callback=n),n=Tn(e,h,s),n!==null&&($t(n,e,s,o),xs(n,e,s))}};function tf(e,n,o,s,h,y,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,b):n.prototype&&n.prototype.isPureReactComponent?!Ro(o,s)||!Ro(h,y):!0}function nf(e,n,o){var s=!1,h=zn,y=n.contextType;return typeof y=="object"&&y!==null?y=zt(y):(h=ft(n)?er:it.current,s=n.contextTypes,y=(s=s!=null)?Fr(e,h):zn),n=new n(o,y),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Cs,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=y),n}function rf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Cs.enqueueReplaceState(n,n.state,null)}function Ga(e,n,o,s){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},La(e);var y=n.contextType;typeof y=="object"&&y!==null?h.context=zt(y):(y=ft(n)?er:it.current,h.context=Fr(e,y)),h.state=e.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Xa(e,n,y,o),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Cs.enqueueReplaceState(h,h.state,null),ws(e,o,h,s),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,n){try{var o="",s=n;do o+=z(s),s=s.return;while(s);var h=o}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:n,stack:h,digest:null}}function qa(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Qa(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function of(e,n,o){o=fn(-1,o),o.tag=3,o.payload={element:null};var s=n.value;return o.callback=function(){Ls||(Ls=!0,du=s),Qa(e,n)},o}function sf(e,n,o){o=fn(-1,o),o.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var h=n.value;o.payload=function(){return s(h)},o.callback=function(){Qa(e,n)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(o.callback=function(){Qa(e,n),typeof s!="function"&&(An===null?An=new Set([this]):An.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),o}function lf(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new $m;var h=new Set;s.set(n,h)}else h=s.get(n),h===void 0&&(h=new Set,s.set(n,h));h.has(o)||(h.add(o),e=Jm.bind(null,e,n,o),n.then(e,e))}function af(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function uf(e,n,o,s,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=fn(-1,1),n.tag=2,Tn(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Fm=E.ReactCurrentOwner,ht=!1;function ut(e,n,o,s){n.child=e===null?jd(n,null,o,s):Wr(n,e.child,o,s)}function cf(e,n,o,s,h){o=o.render;var y=n.ref;return Yr(n,h),s=Ha(e,n,o,s,y,h),o=Va(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,hn(e,n,h)):($e&&o&&Na(n),n.flags|=1,ut(e,n,s,h),n.child)}function df(e,n,o,s,h){if(e===null){var y=o.type;return typeof y=="function"&&!vu(y)&&y.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=y,ff(e,n,y,s,h)):(e=Fs(o.type,null,s,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,(e.lanes&h)===0){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(b,s)&&e.ref===n.ref)return hn(e,n,h)}return n.flags|=1,e=$n(y,s),e.ref=n.ref,e.return=n,n.child=e}function ff(e,n,o,s,h){if(e!==null){var y=e.memoizedProps;if(Ro(y,s)&&e.ref===n.ref)if(ht=!1,n.pendingProps=s=y,(e.lanes&h)!==0)(e.flags&131072)!==0&&(ht=!0);else return n.lanes=e.lanes,hn(e,n,h)}return Ka(e,n,o,s,h)}function hf(e,n,o){var s=n.pendingProps,h=s.children,y=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Qr,Et),Et|=o;else{if((o&1073741824)===0)return e=y!==null?y.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Le(Qr,Et),Et|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=y!==null?y.baseLanes:o,Le(Qr,Et),Et|=s}else y!==null?(s=y.baseLanes|o,n.memoizedState=null):s=o,Le(Qr,Et),Et|=s;return ut(e,n,h,o),n.child}function pf(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Ka(e,n,o,s,h){var y=ft(o)?er:it.current;return y=Fr(n,y),Yr(n,h),o=Ha(e,n,o,s,y,h),s=Va(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,hn(e,n,h)):($e&&s&&Na(n),n.flags|=1,ut(e,n,o,h),n.child)}function gf(e,n,o,s,h){if(ft(o)){var y=!0;ds(n)}else y=!1;if(Yr(n,h),n.stateNode===null)Ms(e,n),nf(n,o,s),Ga(n,o,s,h),s=!0;else if(e===null){var b=n.stateNode,q=n.memoizedProps;b.props=q;var ee=b.context,se=o.contextType;typeof se=="object"&&se!==null?se=zt(se):(se=ft(o)?er:it.current,se=Fr(n,se));var ce=o.getDerivedStateFromProps,de=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q!==s||ee!==se)&&rf(n,b,s,se),Pn=!1;var ue=n.memoizedState;b.state=ue,ws(n,s,b,h),ee=n.memoizedState,q!==s||ue!==ee||dt.current||Pn?(typeof ce=="function"&&(Xa(n,o,ce,s),ee=n.memoizedState),(q=Pn||tf(n,o,q,s,ue,ee,se))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=ee),b.props=s,b.state=ee,b.context=se,s=q):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{b=n.stateNode,zd(e,n),q=n.memoizedProps,se=n.type===n.elementType?q:Dt(n.type,q),b.props=se,de=n.pendingProps,ue=b.context,ee=o.contextType,typeof ee=="object"&&ee!==null?ee=zt(ee):(ee=ft(o)?er:it.current,ee=Fr(n,ee));var ge=o.getDerivedStateFromProps;(ce=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q!==de||ue!==ee)&&rf(n,b,s,ee),Pn=!1,ue=n.memoizedState,b.state=ue,ws(n,s,b,h);var ve=n.memoizedState;q!==de||ue!==ve||dt.current||Pn?(typeof ge=="function"&&(Xa(n,o,ge,s),ve=n.memoizedState),(se=Pn||tf(n,o,se,s,ue,ve,ee)||!1)?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(s,ve,ee),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(s,ve,ee)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||q===e.memoizedProps&&ue===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&ue===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=ve),b.props=s,b.state=ve,b.context=ee,s=se):(typeof b.componentDidUpdate!="function"||q===e.memoizedProps&&ue===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&ue===e.memoizedState||(n.flags|=1024),s=!1)}return Za(e,n,o,s,y,h)}function Za(e,n,o,s,h,y){pf(e,n);var b=(n.flags&128)!==0;if(!s&&!b)return h&&xd(n,o,!1),hn(e,n,y);s=n.stateNode,Fm.current=n;var q=b&&typeof o.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&b?(n.child=Wr(n,e.child,null,y),n.child=Wr(n,null,q,y)):ut(e,n,q,y),n.memoizedState=s.state,h&&xd(n,o,!0),n.child}function mf(e){var n=e.stateNode;n.pendingContext?yd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&yd(e,n.context,!1),Aa(e,n.containerInfo)}function yf(e,n,o,s,h){return Br(),ja(h),n.flags|=256,ut(e,n,o,s),n.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function vf(e,n,o){var s=n.pendingProps,h=Ve.current,y=!1,b=(n.flags&128)!==0,q;if((q=b)||(q=e!==null&&e.memoizedState===null?!1:(h&2)!==0),q?(y=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Le(Ve,h&1),e===null)return Ca(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=s.children,e=s.fallback,y?(s=n.mode,y=n.child,b={mode:"hidden",children:b},(s&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Hs(b,s,0,null),e=cr(e,s,o,null),y.return=n,e.return=n,y.sibling=e,n.child=y,n.child.memoizedState=eu(o),n.memoizedState=Ja,e):tu(n,b));if(h=e.memoizedState,h!==null&&(q=h.dehydrated,q!==null))return Hm(e,n,b,s,q,h,o);if(y){y=s.fallback,b=n.mode,h=e.child,q=h.sibling;var ee={mode:"hidden",children:s.children};return(b&1)===0&&n.child!==h?(s=n.child,s.childLanes=0,s.pendingProps=ee,n.deletions=null):(s=$n(h,ee),s.subtreeFlags=h.subtreeFlags&14680064),q!==null?y=$n(q,y):(y=cr(y,b,o,null),y.flags|=2),y.return=n,s.return=n,s.sibling=y,n.child=s,s=y,y=n.child,b=e.child.memoizedState,b=b===null?eu(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=e.childLanes&~o,n.memoizedState=Ja,s}return y=e.child,e=y.sibling,s=$n(y,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=o),s.return=n,s.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=s,n.memoizedState=null,s}function tu(e,n){return n=Hs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function js(e,n,o,s){return s!==null&&ja(s),Wr(n,e.child,null,o),e=tu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hm(e,n,o,s,h,y,b){if(o)return n.flags&256?(n.flags&=-257,s=qa(Error(i(422))),js(e,n,b,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(y=s.fallback,h=n.mode,s=Hs({mode:"visible",children:s.children},h,0,null),y=cr(y,h,b,null),y.flags|=2,s.return=n,y.return=n,s.sibling=y,n.child=s,(n.mode&1)!==0&&Wr(n,e.child,null,b),n.child.memoizedState=eu(b),n.memoizedState=Ja,y);if((n.mode&1)===0)return js(e,n,b,null);if(h.data==="$!"){if(s=h.nextSibling&&h.nextSibling.dataset,s)var q=s.dgst;return s=q,y=Error(i(419)),s=qa(y,s,void 0),js(e,n,b,s)}if(q=(b&e.childLanes)!==0,ht||q){if(s=Je,s!==null){switch(b&-b){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(s.suspendedLanes|b))!==0?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,dn(e,h),$t(s,e,h,-1))}return yu(),s=qa(Error(i(421))),js(e,n,b,s)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=ey.bind(null,e),h._reactRetry=n,null):(e=y.treeContext,_t=jn(h.nextSibling),kt=n,$e=!0,At=null,e!==null&&(jt[Mt++]=un,jt[Mt++]=cn,jt[Mt++]=tr,un=e.id,cn=e.overflow,tr=n),n=tu(n,s.children),n.flags|=4096,n)}function xf(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Pa(e.return,n,o)}function nu(e,n,o,s,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:h}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=o,y.tailMode=h)}function wf(e,n,o){var s=n.pendingProps,h=s.revealOrder,y=s.tail;if(ut(e,n,s.children,o),s=Ve.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xf(e,o,n);else if(e.tag===19)xf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Le(Ve,s),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&ks(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),nu(n,!1,h,o,y);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ks(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}nu(n,!0,o,null,y);break;case"together":nu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ms(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function hn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),sr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=$n(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=$n(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Vm(e,n,o){switch(n.tag){case 3:mf(n),Br();break;case 5:Td(n);break;case 1:ft(n.type)&&ds(n);break;case 4:Aa(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,h=n.memoizedProps.value;Le(ys,s._currentValue),s._currentValue=h;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Le(Ve,Ve.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?vf(e,n,o):(Le(Ve,Ve.current&1),e=hn(e,n,o),e!==null?e.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(s=(o&n.childLanes)!==0,(e.flags&128)!==0){if(s)return wf(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Le(Ve,Ve.current),s)break;return null;case 22:case 23:return n.lanes=0,hf(e,n,o)}return hn(e,n,o)}var kf,ru,_f,Ef;kf=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ru=function(){},_f=function(e,n,o,s){var h=e.memoizedProps;if(h!==s){e=n.stateNode,or(qt.current);var y=null;switch(o){case"input":h=_e(e,h),s=_e(e,s),y=[];break;case"select":h=F({},h,{value:void 0}),s=F({},s,{value:void 0}),y=[];break;case"textarea":h=nn(e,h),s=nn(e,s),y=[];break;default:typeof h.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=as)}po(o,s);var b;o=null;for(se in h)if(!s.hasOwnProperty(se)&&h.hasOwnProperty(se)&&h[se]!=null)if(se==="style"){var q=h[se];for(b in q)q.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?y||(y=[]):(y=y||[]).push(se,null));for(se in s){var ee=s[se];if(q=h!=null?h[se]:void 0,s.hasOwnProperty(se)&&ee!==q&&(ee!=null||q!=null))if(se==="style")if(q){for(b in q)!q.hasOwnProperty(b)||ee&&ee.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in ee)ee.hasOwnProperty(b)&&q[b]!==ee[b]&&(o||(o={}),o[b]=ee[b])}else o||(y||(y=[]),y.push(se,o)),o=ee;else se==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,q=q?q.__html:void 0,ee!=null&&q!==ee&&(y=y||[]).push(se,ee)):se==="children"?typeof ee!="string"&&typeof ee!="number"||(y=y||[]).push(se,""+ee):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(a.hasOwnProperty(se)?(ee!=null&&se==="onScroll"&&De("scroll",e),y||q===ee||(y=[])):(y=y||[]).push(se,ee))}o&&(y=y||[]).push("style",o);var se=y;(n.updateQueue=se)&&(n.flags|=4)}},Ef=function(e,n,o,s){o!==s&&(n.flags|=4)};function Zo(e,n){if(!$e)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags&14680064,s|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Bm(e,n,o){var s=n.pendingProps;switch(ba(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return ft(n.type)&&cs(),lt(n),null;case 3:return s=n.stateNode,Xr(),Re(dt),Re(it),Oa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,At!==null&&(pu(At),At=null))),ru(e,n),lt(n),null;case 5:Da(n);var h=or(Xo.current);if(o=n.type,e!==null&&n.stateNode!=null)_f(e,n,o,s,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(i(166));return lt(n),null}if(e=or(qt.current),gs(n)){s=n.stateNode,o=n.type;var y=n.memoizedProps;switch(s[Gt]=n,s[Vo]=y,e=(n.mode&1)!==0,o){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(h=0;h<$o.length;h++)De($o[h],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":Ee(s,y),De("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!y.multiple},De("invalid",s);break;case"textarea":xn(s,y),De("invalid",s)}po(o,y),h=null;for(var b in y)if(y.hasOwnProperty(b)){var q=y[b];b==="children"?typeof q=="string"?s.textContent!==q&&(y.suppressHydrationWarning!==!0&&ls(s.textContent,q,e),h=["children",q]):typeof q=="number"&&s.textContent!==""+q&&(y.suppressHydrationWarning!==!0&&ls(s.textContent,q,e),h=["children",""+q]):a.hasOwnProperty(b)&&q!=null&&b==="onScroll"&&De("scroll",s)}switch(o){case"input":ae(s),tt(s,y,!0);break;case"textarea":ae(s),Un(s);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(s.onclick=as)}s=h,n.updateQueue=s,s!==null&&(n.flags|=4)}else{b=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rn(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=b.createElement(o,{is:s.is}):(e=b.createElement(o),o==="select"&&(b=e,s.multiple?b.multiple=!0:s.size&&(b.size=s.size))):e=b.createElementNS(e,o),e[Gt]=n,e[Vo]=s,kf(e,n,!1,!1),n.stateNode=e;e:{switch(b=go(o,s),o){case"dialog":De("cancel",e),De("close",e),h=s;break;case"iframe":case"object":case"embed":De("load",e),h=s;break;case"video":case"audio":for(h=0;h<$o.length;h++)De($o[h],e);h=s;break;case"source":De("error",e),h=s;break;case"img":case"image":case"link":De("error",e),De("load",e),h=s;break;case"details":De("toggle",e),h=s;break;case"input":Ee(e,s),h=_e(e,s),De("invalid",e);break;case"option":h=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},h=F({},s,{value:void 0}),De("invalid",e);break;case"textarea":xn(e,s),h=nn(e,s),De("invalid",e);break;default:h=s}po(o,h),q=h;for(y in q)if(q.hasOwnProperty(y)){var ee=q[y];y==="style"?Pi(e,ee):y==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&zi(e,ee)):y==="children"?typeof ee=="string"?(o!=="textarea"||ee!=="")&&sn(e,ee):typeof ee=="number"&&sn(e,""+ee):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?ee!=null&&y==="onScroll"&&De("scroll",e):ee!=null&&_(e,y,ee,b))}switch(o){case"input":ae(e),tt(e,s,!1);break;case"textarea":ae(e),Un(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Q(s.value));break;case"select":e.multiple=!!s.multiple,y=s.value,y!=null?St(e,!!s.multiple,y,!1):s.defaultValue!=null&&St(e,!!s.multiple,s.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=as)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return lt(n),null;case 6:if(e&&n.stateNode!=null)Ef(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(i(166));if(o=or(Xo.current),or(qt.current),gs(n)){if(s=n.stateNode,o=n.memoizedProps,s[Gt]=n,(y=s.nodeValue!==o)&&(e=kt,e!==null))switch(e.tag){case 3:ls(s.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(s.nodeValue,o,(e.mode&1)!==0)}y&&(n.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[Gt]=n,n.stateNode=s}return lt(n),null;case 13:if(Re(Ve),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&_t!==null&&(n.mode&1)!==0&&(n.flags&128)===0)bd(),Br(),n.flags|=98560,y=!1;else if(y=gs(n),s!==null&&s.dehydrated!==null){if(e===null){if(!y)throw Error(i(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Gt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),y=!1}else At!==null&&(pu(At),At=null),y=!0;if(!y)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ve.current&1)!==0?Ke===0&&(Ke=3):yu())),n.updateQueue!==null&&(n.flags|=4),lt(n),null);case 4:return Xr(),ru(e,n),e===null&&Fo(n.stateNode.containerInfo),lt(n),null;case 10:return Ia(n.type._context),lt(n),null;case 17:return ft(n.type)&&cs(),lt(n),null;case 19:if(Re(Ve),y=n.memoizedState,y===null)return lt(n),null;if(s=(n.flags&128)!==0,b=y.rendering,b===null)if(s)Zo(y,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=ks(e),b!==null){for(n.flags|=128,Zo(y,!1),s=b.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=o,o=n.child;o!==null;)y=o,e=s,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,e=b.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Le(Ve,Ve.current&1|2),n.child}e=e.sibling}y.tail!==null&&He()>Kr&&(n.flags|=128,s=!0,Zo(y,!1),n.lanes=4194304)}else{if(!s)if(e=ks(b),e!==null){if(n.flags|=128,s=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Zo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!$e)return lt(n),null}else 2*He()-y.renderingStartTime>Kr&&o!==1073741824&&(n.flags|=128,s=!0,Zo(y,!1),n.lanes=4194304);y.isBackwards?(b.sibling=n.child,n.child=b):(o=y.last,o!==null?o.sibling=b:n.child=b,y.last=b)}return y.tail!==null?(n=y.tail,y.rendering=n,y.tail=n.sibling,y.renderingStartTime=He(),n.sibling=null,o=Ve.current,Le(Ve,s?o&1|2:o&1),n):(lt(n),null);case 22:case 23:return mu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Et&1073741824)!==0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function Wm(e,n){switch(ba(n),n.tag){case 1:return ft(n.type)&&cs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xr(),Re(dt),Re(it),Oa(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Da(n),null;case 13:if(Re(Ve),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Re(Ve),null;case 4:return Xr(),null;case 10:return Ia(n.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var zs=!1,at=!1,Um=typeof WeakSet=="function"?WeakSet:Set,ye=null;function qr(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){We(e,n,s)}else o.current=null}function ou(e,n,o){try{o()}catch(s){We(e,n,s)}}var Nf=!1;function Ym(e,n){if(ma=Qi,e=td(),aa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var h=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,q=-1,ee=-1,se=0,ce=0,de=e,ue=null;t:for(;;){for(var ge;de!==o||h!==0&&de.nodeType!==3||(q=b+h),de!==y||s!==0&&de.nodeType!==3||(ee=b+s),de.nodeType===3&&(b+=de.nodeValue.length),(ge=de.firstChild)!==null;)ue=de,de=ge;for(;;){if(de===e)break t;if(ue===o&&++se===h&&(q=b),ue===y&&++ce===s&&(ee=b),(ge=de.nextSibling)!==null)break;de=ue,ue=de.parentNode}de=ge}o=q===-1||ee===-1?null:{start:q,end:ee}}else o=null}o=o||{start:0,end:0}}else o=null;for(ya={focusedElem:e,selectionRange:o},Qi=!1,ye=n;ye!==null;)if(n=ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ye=e;else for(;ye!==null;){n=ye;try{var ve=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var xe=ve.memoizedProps,Ue=ve.memoizedState,oe=n.stateNode,te=oe.getSnapshotBeforeUpdate(n.elementType===n.type?xe:Dt(n.type,xe),Ue);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ie=n.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(fe){We(n,n.return,fe)}if(e=n.sibling,e!==null){e.return=n.return,ye=e;break}ye=n.return}return ve=Nf,Nf=!1,ve}function Jo(e,n,o){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&e)===e){var y=h.destroy;h.destroy=void 0,y!==void 0&&ou(n,o,y)}h=h.next}while(h!==s)}}function Is(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.create;o.destroy=s()}o=o.next}while(o!==n)}}function iu(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function bf(e){var n=e.alternate;n!==null&&(e.alternate=null,bf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Gt],delete n[Vo],delete n[ka],delete n[jm],delete n[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=as));else if(s!==4&&(e=e.child,e!==null))for(su(e,n,o),e=e.sibling;e!==null;)su(e,n,o),e=e.sibling}function lu(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(lu(e,n,o),e=e.sibling;e!==null;)lu(e,n,o),e=e.sibling}var nt=null,Rt=!1;function Ln(e,n,o){for(o=o.child;o!==null;)jf(e,n,o),o=o.sibling}function jf(e,n,o){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 5:at||qr(o,n);case 6:var s=nt,h=Rt;nt=null,Ln(e,n,o),nt=s,Rt=h,nt!==null&&(Rt?(e=nt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):nt.removeChild(o.stateNode));break;case 18:nt!==null&&(Rt?(e=nt,o=o.stateNode,e.nodeType===8?wa(e.parentNode,o):e.nodeType===1&&wa(e,o),Io(e)):wa(nt,o.stateNode));break;case 4:s=nt,h=Rt,nt=o.stateNode.containerInfo,Rt=!0,Ln(e,n,o),nt=s,Rt=h;break;case 0:case 11:case 14:case 15:if(!at&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){h=s=s.next;do{var y=h,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&ou(o,n,b),h=h.next}while(h!==s)}Ln(e,n,o);break;case 1:if(!at&&(qr(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(q){We(o,n,q)}Ln(e,n,o);break;case 21:Ln(e,n,o);break;case 22:o.mode&1?(at=(s=at)||o.memoizedState!==null,Ln(e,n,o),at=s):Ln(e,n,o);break;default:Ln(e,n,o)}}function Mf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Um),n.forEach(function(s){var h=ty.bind(null,e,s);o.has(s)||(o.add(s),s.then(h,h))})}}function Ot(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var h=o[s];try{var y=e,b=n,q=b;e:for(;q!==null;){switch(q.tag){case 5:nt=q.stateNode,Rt=!1;break e;case 3:nt=q.stateNode.containerInfo,Rt=!0;break e;case 4:nt=q.stateNode.containerInfo,Rt=!0;break e}q=q.return}if(nt===null)throw Error(i(160));jf(y,b,h),nt=null,Rt=!1;var ee=h.alternate;ee!==null&&(ee.return=null),h.return=null}catch(se){We(h,n,se)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,e),n=n.sibling}function zf(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(n,e),Kt(e),s&4){try{Jo(3,e,e.return),Is(3,e)}catch(xe){We(e,e.return,xe)}try{Jo(5,e,e.return)}catch(xe){We(e,e.return,xe)}}break;case 1:Ot(n,e),Kt(e),s&512&&o!==null&&qr(o,o.return);break;case 5:if(Ot(n,e),Kt(e),s&512&&o!==null&&qr(o,o.return),e.flags&32){var h=e.stateNode;try{sn(h,"")}catch(xe){We(e,e.return,xe)}}if(s&4&&(h=e.stateNode,h!=null)){var y=e.memoizedProps,b=o!==null?o.memoizedProps:y,q=e.type,ee=e.updateQueue;if(e.updateQueue=null,ee!==null)try{q==="input"&&y.type==="radio"&&y.name!=null&&Ce(h,y),go(q,b);var se=go(q,y);for(b=0;b<ee.length;b+=2){var ce=ee[b],de=ee[b+1];ce==="style"?Pi(h,de):ce==="dangerouslySetInnerHTML"?zi(h,de):ce==="children"?sn(h,de):_(h,ce,de,se)}switch(q){case"input":Ae(h,y);break;case"textarea":Er(h,y);break;case"select":var ue=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?St(h,!!y.multiple,ge,!1):ue!==!!y.multiple&&(y.defaultValue!=null?St(h,!!y.multiple,y.defaultValue,!0):St(h,!!y.multiple,y.multiple?[]:"",!1))}h[Vo]=y}catch(xe){We(e,e.return,xe)}}break;case 6:if(Ot(n,e),Kt(e),s&4){if(e.stateNode===null)throw Error(i(162));h=e.stateNode,y=e.memoizedProps;try{h.nodeValue=y}catch(xe){We(e,e.return,xe)}}break;case 3:if(Ot(n,e),Kt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Io(n.containerInfo)}catch(xe){We(e,e.return,xe)}break;case 4:Ot(n,e),Kt(e);break;case 13:Ot(n,e),Kt(e),h=e.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(cu=He())),s&4&&Mf(e);break;case 22:if(ce=o!==null&&o.memoizedState!==null,e.mode&1?(at=(se=at)||ce,Ot(n,e),at=se):Ot(n,e),Kt(e),s&8192){if(se=e.memoizedState!==null,(e.stateNode.isHidden=se)&&!ce&&(e.mode&1)!==0)for(ye=e,ce=e.child;ce!==null;){for(de=ye=ce;ye!==null;){switch(ue=ye,ge=ue.child,ue.tag){case 0:case 11:case 14:case 15:Jo(4,ue,ue.return);break;case 1:qr(ue,ue.return);var ve=ue.stateNode;if(typeof ve.componentWillUnmount=="function"){s=ue,o=ue.return;try{n=s,ve.props=n.memoizedProps,ve.state=n.memoizedState,ve.componentWillUnmount()}catch(xe){We(s,o,xe)}}break;case 5:qr(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Tf(de);continue}}ge!==null?(ge.return=ue,ye=ge):Tf(de)}ce=ce.sibling}e:for(ce=null,de=e;;){if(de.tag===5){if(ce===null){ce=de;try{h=de.stateNode,se?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(q=de.stateNode,ee=de.memoizedProps.style,b=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,q.style.display=Ii("display",b))}catch(xe){We(e,e.return,xe)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=se?"":de.memoizedProps}catch(xe){We(e,e.return,xe)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===e)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===e)break e;for(;de.sibling===null;){if(de.return===null||de.return===e)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Ot(n,e),Kt(e),s&4&&Mf(e);break;case 21:break;default:Ot(n,e),Kt(e)}}function Kt(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Sf(o)){var s=o;break e}o=o.return}throw Error(i(160))}switch(s.tag){case 5:var h=s.stateNode;s.flags&32&&(sn(h,""),s.flags&=-33);var y=Cf(e);lu(e,y,h);break;case 3:case 4:var b=s.stateNode.containerInfo,q=Cf(e);su(e,q,b);break;default:throw Error(i(161))}}catch(ee){We(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xm(e,n,o){ye=e,If(e)}function If(e,n,o){for(var s=(e.mode&1)!==0;ye!==null;){var h=ye,y=h.child;if(h.tag===22&&s){var b=h.memoizedState!==null||zs;if(!b){var q=h.alternate,ee=q!==null&&q.memoizedState!==null||at;q=zs;var se=at;if(zs=b,(at=ee)&&!se)for(ye=h;ye!==null;)b=ye,ee=b.child,b.tag===22&&b.memoizedState!==null?Lf(h):ee!==null?(ee.return=b,ye=ee):Lf(h);for(;y!==null;)ye=y,If(y),y=y.sibling;ye=h,zs=q,at=se}Pf(e)}else(h.subtreeFlags&8772)!==0&&y!==null?(y.return=h,ye=y):Pf(e)}}function Pf(e){for(;ye!==null;){var n=ye;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:at||Is(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!at)if(o===null)s.componentDidMount();else{var h=n.elementType===n.type?o.memoizedProps:Dt(n.type,o.memoizedProps);s.componentDidUpdate(h,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var y=n.updateQueue;y!==null&&Pd(n,y,s);break;case 3:var b=n.updateQueue;if(b!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Pd(n,b,o)}break;case 5:var q=n.stateNode;if(o===null&&n.flags&4){o=q;var ee=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&o.focus();break;case"img":ee.src&&(o.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var se=n.alternate;if(se!==null){var ce=se.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Io(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}at||n.flags&512&&iu(n)}catch(ue){We(n,n.return,ue)}}if(n===e){ye=null;break}if(o=n.sibling,o!==null){o.return=n.return,ye=o;break}ye=n.return}}function Tf(e){for(;ye!==null;){var n=ye;if(n===e){ye=null;break}var o=n.sibling;if(o!==null){o.return=n.return,ye=o;break}ye=n.return}}function Lf(e){for(;ye!==null;){var n=ye;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Is(4,n)}catch(ee){We(n,o,ee)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var h=n.return;try{s.componentDidMount()}catch(ee){We(n,h,ee)}}var y=n.return;try{iu(n)}catch(ee){We(n,y,ee)}break;case 5:var b=n.return;try{iu(n)}catch(ee){We(n,b,ee)}}}catch(ee){We(n,n.return,ee)}if(n===e){ye=null;break}var q=n.sibling;if(q!==null){q.return=n.return,ye=q;break}ye=n.return}}var Gm=Math.ceil,Ps=E.ReactCurrentDispatcher,au=E.ReactCurrentOwner,Pt=E.ReactCurrentBatchConfig,ze=0,Je=null,Xe=null,rt=0,Et=0,Qr=Mn(0),Ke=0,ei=null,sr=0,Ts=0,uu=0,ti=null,pt=null,cu=0,Kr=1/0,pn=null,Ls=!1,du=null,An=null,As=!1,Dn=null,Ds=0,ni=0,fu=null,Rs=-1,Os=0;function ct(){return(ze&6)!==0?He():Rs!==-1?Rs:Rs=He()}function Rn(e){return(e.mode&1)===0?1:(ze&2)!==0&&rt!==0?rt&-rt:Im.transition!==null?(Os===0&&(Os=zr()),Os):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Ac(e.type)),e)}function $t(e,n,o,s){if(50<ni)throw ni=0,fu=null,Error(i(185));Zn(e,o,s),((ze&2)===0||e!==Je)&&(e===Je&&((ze&2)===0&&(Ts|=o),Ke===4&&On(e,rt)),gt(e,s),o===1&&ze===0&&(n.mode&1)===0&&(Kr=He()+500,fs&&In()))}function gt(e,n){var o=e.callbackNode;Xl(e,n);var s=Mr(e,e===Je?rt:0);if(s===0)o!==null&&Vi(o),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(o!=null&&Vi(o),n===1)e.tag===0?zm(Df.bind(null,e)):wd(Df.bind(null,e)),Sm(function(){(ze&6)===0&&In()}),o=null;else{switch(Cc(s)){case 1:o=No;break;case 4:o=Wi;break;case 16:o=Sr;break;case 536870912:o=Ui;break;default:o=Sr}o=Wf(o,Af.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Af(e,n){if(Rs=-1,Os=0,(ze&6)!==0)throw Error(i(327));var o=e.callbackNode;if(Zr()&&e.callbackNode!==o)return null;var s=Mr(e,e===Je?rt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=$s(e,s);else{n=s;var h=ze;ze|=2;var y=Of();(Je!==e||rt!==n)&&(pn=null,Kr=He()+500,ar(e,n));do try{Km();break}catch(q){Rf(e,q)}while(!0);za(),Ps.current=y,ze=h,Xe!==null?n=0:(Je=null,rt=0,n=Ke)}if(n!==0){if(n===2&&(h=bo(e),h!==0&&(s=h,n=hu(e,h))),n===1)throw o=ei,ar(e,0),On(e,s),gt(e,He()),o;if(n===6)On(e,s);else{if(h=e.current.alternate,(s&30)===0&&!qm(h)&&(n=$s(e,s),n===2&&(y=bo(e),y!==0&&(s=y,n=hu(e,y))),n===1))throw o=ei,ar(e,0),On(e,s),gt(e,He()),o;switch(e.finishedWork=h,e.finishedLanes=s,n){case 0:case 1:throw Error(i(345));case 2:ur(e,pt,pn);break;case 3:if(On(e,s),(s&130023424)===s&&(n=cu+500-He(),10<n)){if(Mr(e,0)!==0)break;if(h=e.suspendedLanes,(h&s)!==s){ct(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=xa(ur.bind(null,e,pt,pn),n);break}ur(e,pt,pn);break;case 4:if(On(e,s),(s&4194240)===s)break;for(n=e.eventTimes,h=-1;0<s;){var b=31-xt(s);y=1<<b,b=n[b],b>h&&(h=b),s&=~y}if(s=h,s=He()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gm(s/1960))-s,10<s){e.timeoutHandle=xa(ur.bind(null,e,pt,pn),s);break}ur(e,pt,pn);break;case 5:ur(e,pt,pn);break;default:throw Error(i(329))}}}return gt(e,He()),e.callbackNode===o?Af.bind(null,e):null}function hu(e,n){var o=ti;return e.current.memoizedState.isDehydrated&&(ar(e,n).flags|=256),e=$s(e,n),e!==2&&(n=pt,pt=o,n!==null&&pu(n)),e}function pu(e){pt===null?pt=e:pt.push.apply(pt,e)}function qm(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var h=o[s],y=h.getSnapshot;h=h.value;try{if(!Lt(y(),h))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(e,n){for(n&=~uu,n&=~Ts,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-xt(n),s=1<<o;e[o]=-1,n&=~s}}function Df(e){if((ze&6)!==0)throw Error(i(327));Zr();var n=Mr(e,0);if((n&1)===0)return gt(e,He()),null;var o=$s(e,n);if(e.tag!==0&&o===2){var s=bo(e);s!==0&&(n=s,o=hu(e,s))}if(o===1)throw o=ei,ar(e,0),On(e,n),gt(e,He()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ur(e,pt,pn),gt(e,He()),null}function gu(e,n){var o=ze;ze|=1;try{return e(n)}finally{ze=o,ze===0&&(Kr=He()+500,fs&&In())}}function lr(e){Dn!==null&&Dn.tag===0&&(ze&6)===0&&Zr();var n=ze;ze|=1;var o=Pt.transition,s=Pe;try{if(Pt.transition=null,Pe=1,e)return e()}finally{Pe=s,Pt.transition=o,ze=n,(ze&6)===0&&In()}}function mu(){Et=Qr.current,Re(Qr)}function ar(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,bm(o)),Xe!==null)for(o=Xe.return;o!==null;){var s=o;switch(ba(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cs();break;case 3:Xr(),Re(dt),Re(it),Oa();break;case 5:Da(s);break;case 4:Xr();break;case 13:Re(Ve);break;case 19:Re(Ve);break;case 10:Ia(s.type._context);break;case 22:case 23:mu()}o=o.return}if(Je=e,Xe=e=$n(e.current,null),rt=Et=n,Ke=0,ei=null,uu=Ts=sr=0,pt=ti=null,rr!==null){for(n=0;n<rr.length;n++)if(o=rr[n],s=o.interleaved,s!==null){o.interleaved=null;var h=s.next,y=o.pending;if(y!==null){var b=y.next;y.next=h,s.next=b}o.pending=s}rr=null}return e}function Rf(e,n){do{var o=Xe;try{if(za(),_s.current=Ss,Es){for(var s=Be.memoizedState;s!==null;){var h=s.queue;h!==null&&(h.pending=null),s=s.next}Es=!1}if(ir=0,Ze=Qe=Be=null,Go=!1,qo=0,au.current=null,o===null||o.return===null){Ke=1,ei=n,Xe=null;break}e:{var y=e,b=o.return,q=o,ee=n;if(n=rt,q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var se=ee,ce=q,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ge=af(b);if(ge!==null){ge.flags&=-257,uf(ge,b,q,y,n),ge.mode&1&&lf(y,se,n),n=ge,ee=se;var ve=n.updateQueue;if(ve===null){var xe=new Set;xe.add(ee),n.updateQueue=xe}else ve.add(ee);break e}else{if((n&1)===0){lf(y,se,n),yu();break e}ee=Error(i(426))}}else if($e&&q.mode&1){var Ue=af(b);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),uf(Ue,b,q,y,n),ja(Gr(ee,q));break e}}y=ee=Gr(ee,q),Ke!==4&&(Ke=2),ti===null?ti=[y]:ti.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,n&=-n,y.lanes|=n;var oe=of(y,ee,n);Id(y,oe);break e;case 1:q=ee;var te=y.type,ie=y.stateNode;if((y.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(An===null||!An.has(ie)))){y.flags|=65536,n&=-n,y.lanes|=n;var fe=sf(y,q,n);Id(y,fe);break e}}y=y.return}while(y!==null)}Ff(o)}catch(we){n=we,Xe===o&&o!==null&&(Xe=o=o.return);continue}break}while(!0)}function Of(){var e=Ps.current;return Ps.current=Ss,e===null?Ss:e}function yu(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||(sr&268435455)===0&&(Ts&268435455)===0||On(Je,rt)}function $s(e,n){var o=ze;ze|=2;var s=Of();(Je!==e||rt!==n)&&(pn=null,ar(e,n));do try{Qm();break}catch(h){Rf(e,h)}while(!0);if(za(),ze=o,Ps.current=s,Xe!==null)throw Error(i(261));return Je=null,rt=0,Ke}function Qm(){for(;Xe!==null;)$f(Xe)}function Km(){for(;Xe!==null&&!Fl();)$f(Xe)}function $f(e){var n=Bf(e.alternate,e,Et);e.memoizedProps=e.pendingProps,n===null?Ff(e):Xe=n,au.current=null}function Ff(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Bm(o,n,Et),o!==null){Xe=o;return}}else{if(o=Wm(o,n),o!==null){o.flags&=32767,Xe=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Xe=null;return}}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=e}while(n!==null);Ke===0&&(Ke=5)}function ur(e,n,o){var s=Pe,h=Pt.transition;try{Pt.transition=null,Pe=1,Zm(e,n,o,s)}finally{Pt.transition=h,Pe=s}return null}function Zm(e,n,o,s){do Zr();while(Dn!==null);if((ze&6)!==0)throw Error(i(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var y=o.lanes|o.childLanes;if(Xi(e,y),e===Je&&(Xe=Je=null,rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||As||(As=!0,Wf(Sr,function(){return Zr(),null})),y=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||y){y=Pt.transition,Pt.transition=null;var b=Pe;Pe=1;var q=ze;ze|=4,au.current=null,Ym(e,o),zf(o,e),vm(ya),Qi=!!ma,ya=ma=null,e.current=o,Xm(o),Bi(),ze=q,Pe=b,Pt.transition=y}else e.current=o;if(As&&(As=!1,Dn=e,Ds=h),y=e.pendingLanes,y===0&&(An=null),Bl(o.stateNode),gt(e,He()),n!==null)for(s=e.onRecoverableError,o=0;o<n.length;o++)h=n[o],s(h.value,{componentStack:h.stack,digest:h.digest});if(Ls)throw Ls=!1,e=du,du=null,e;return(Ds&1)!==0&&e.tag!==0&&Zr(),y=e.pendingLanes,(y&1)!==0?e===fu?ni++:(ni=0,fu=e):ni=0,In(),null}function Zr(){if(Dn!==null){var e=Cc(Ds),n=Pt.transition,o=Pe;try{if(Pt.transition=null,Pe=16>e?16:e,Dn===null)var s=!1;else{if(e=Dn,Dn=null,Ds=0,(ze&6)!==0)throw Error(i(331));var h=ze;for(ze|=4,ye=e.current;ye!==null;){var y=ye,b=y.child;if((ye.flags&16)!==0){var q=y.deletions;if(q!==null){for(var ee=0;ee<q.length;ee++){var se=q[ee];for(ye=se;ye!==null;){var ce=ye;switch(ce.tag){case 0:case 11:case 15:Jo(8,ce,y)}var de=ce.child;if(de!==null)de.return=ce,ye=de;else for(;ye!==null;){ce=ye;var ue=ce.sibling,ge=ce.return;if(bf(ce),ce===se){ye=null;break}if(ue!==null){ue.return=ge,ye=ue;break}ye=ge}}}var ve=y.alternate;if(ve!==null){var xe=ve.child;if(xe!==null){ve.child=null;do{var Ue=xe.sibling;xe.sibling=null,xe=Ue}while(xe!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ye=b;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Jo(9,y,y.return)}var oe=y.sibling;if(oe!==null){oe.return=y.return,ye=oe;break e}ye=y.return}}var te=e.current;for(ye=te;ye!==null;){b=ye;var ie=b.child;if((b.subtreeFlags&2064)!==0&&ie!==null)ie.return=b,ye=ie;else e:for(b=te;ye!==null;){if(q=ye,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Is(9,q)}}catch(we){We(q,q.return,we)}if(q===b){ye=null;break e}var fe=q.sibling;if(fe!==null){fe.return=q.return,ye=fe;break e}ye=q.return}}if(ze=h,In(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Kn,e)}catch{}s=!0}return s}finally{Pe=o,Pt.transition=n}}return!1}function Hf(e,n,o){n=Gr(o,n),n=of(e,n,1),e=Tn(e,n,1),n=ct(),e!==null&&(Zn(e,1,n),gt(e,n))}function We(e,n,o){if(e.tag===3)Hf(e,e,o);else for(;n!==null;){if(n.tag===3){Hf(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(An===null||!An.has(s))){e=Gr(o,e),e=sf(n,e,1),n=Tn(n,e,1),e=ct(),n!==null&&(Zn(n,1,e),gt(n,e));break}}n=n.return}}function Jm(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),n=ct(),e.pingedLanes|=e.suspendedLanes&o,Je===e&&(rt&o)===o&&(Ke===4||Ke===3&&(rt&130023424)===rt&&500>He()-cu?ar(e,0):uu|=o),gt(e,n)}function Vf(e,n){n===0&&((e.mode&1)===0?n=1:(n=jr,jr<<=1,(jr&130023424)===0&&(jr=4194304)));var o=ct();e=dn(e,n),e!==null&&(Zn(e,n,o),gt(e,o))}function ey(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Vf(e,o)}function ty(e,n){var o=0;switch(e.tag){case 13:var s=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(n),Vf(e,o)}var Bf;Bf=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||dt.current)ht=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return ht=!1,Vm(e,n,o);ht=(e.flags&131072)!==0}else ht=!1,$e&&(n.flags&1048576)!==0&&kd(n,ps,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Ms(e,n),e=n.pendingProps;var h=Fr(n,it.current);Yr(n,o),h=Ha(null,n,s,e,h,o);var y=Va();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ft(s)?(y=!0,ds(n)):y=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,La(n),h.updater=Cs,n.stateNode=h,h._reactInternals=n,Ga(n,s,e,o),n=Za(null,n,s,!0,y,o)):(n.tag=0,$e&&y&&Na(n),ut(null,n,h,o),n=n.child),n;case 16:s=n.elementType;e:{switch(Ms(e,n),e=n.pendingProps,h=s._init,s=h(s._payload),n.type=s,h=n.tag=ry(s),e=Dt(s,e),h){case 0:n=Ka(null,n,s,e,o);break e;case 1:n=gf(null,n,s,e,o);break e;case 11:n=cf(null,n,s,e,o);break e;case 14:n=df(null,n,s,Dt(s.type,e),o);break e}throw Error(i(306,s,""))}return n;case 0:return s=n.type,h=n.pendingProps,h=n.elementType===s?h:Dt(s,h),Ka(e,n,s,h,o);case 1:return s=n.type,h=n.pendingProps,h=n.elementType===s?h:Dt(s,h),gf(e,n,s,h,o);case 3:e:{if(mf(n),e===null)throw Error(i(387));s=n.pendingProps,y=n.memoizedState,h=y.element,zd(e,n),ws(n,s,null,o);var b=n.memoizedState;if(s=b.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){h=Gr(Error(i(423)),n),n=yf(e,n,s,o,h);break e}else if(s!==h){h=Gr(Error(i(424)),n),n=yf(e,n,s,o,h);break e}else for(_t=jn(n.stateNode.containerInfo.firstChild),kt=n,$e=!0,At=null,o=jd(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Br(),s===h){n=hn(e,n,o);break e}ut(e,n,s,o)}n=n.child}return n;case 5:return Td(n),e===null&&Ca(n),s=n.type,h=n.pendingProps,y=e!==null?e.memoizedProps:null,b=h.children,va(s,h)?b=null:y!==null&&va(s,y)&&(n.flags|=32),pf(e,n),ut(e,n,b,o),n.child;case 6:return e===null&&Ca(n),null;case 13:return vf(e,n,o);case 4:return Aa(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Wr(n,null,s,o):ut(e,n,s,o),n.child;case 11:return s=n.type,h=n.pendingProps,h=n.elementType===s?h:Dt(s,h),cf(e,n,s,h,o);case 7:return ut(e,n,n.pendingProps,o),n.child;case 8:return ut(e,n,n.pendingProps.children,o),n.child;case 12:return ut(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(s=n.type._context,h=n.pendingProps,y=n.memoizedProps,b=h.value,Le(ys,s._currentValue),s._currentValue=b,y!==null)if(Lt(y.value,b)){if(y.children===h.children&&!dt.current){n=hn(e,n,o);break e}}else for(y=n.child,y!==null&&(y.return=n);y!==null;){var q=y.dependencies;if(q!==null){b=y.child;for(var ee=q.firstContext;ee!==null;){if(ee.context===s){if(y.tag===1){ee=fn(-1,o&-o),ee.tag=2;var se=y.updateQueue;if(se!==null){se=se.shared;var ce=se.pending;ce===null?ee.next=ee:(ee.next=ce.next,ce.next=ee),se.pending=ee}}y.lanes|=o,ee=y.alternate,ee!==null&&(ee.lanes|=o),Pa(y.return,o,n),q.lanes|=o;break}ee=ee.next}}else if(y.tag===10)b=y.type===n.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(i(341));b.lanes|=o,q=b.alternate,q!==null&&(q.lanes|=o),Pa(b,o,n),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===n){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}ut(e,n,h.children,o),n=n.child}return n;case 9:return h=n.type,s=n.pendingProps.children,Yr(n,o),h=zt(h),s=s(h),n.flags|=1,ut(e,n,s,o),n.child;case 14:return s=n.type,h=Dt(s,n.pendingProps),h=Dt(s.type,h),df(e,n,s,h,o);case 15:return ff(e,n,n.type,n.pendingProps,o);case 17:return s=n.type,h=n.pendingProps,h=n.elementType===s?h:Dt(s,h),Ms(e,n),n.tag=1,ft(s)?(e=!0,ds(n)):e=!1,Yr(n,o),nf(n,s,h),Ga(n,s,h,o),Za(null,n,s,!0,e,o);case 19:return wf(e,n,o);case 22:return hf(e,n,o)}throw Error(i(156,n.tag))};function Wf(e,n){return Hi(e,n)}function ny(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,o,s){return new ny(e,n,o,s)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ry(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U)return 11;if(e===X)return 14}return 2}function $n(e,n){var o=e.alternate;return o===null?(o=Tt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Fs(e,n,o,s,h,y){var b=2;if(s=e,typeof e=="function")vu(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case B:return cr(o.children,h,y,n);case H:b=8,h|=8;break;case K:return e=Tt(12,o,n,h|2),e.elementType=K,e.lanes=y,e;case G:return e=Tt(13,o,n,h),e.elementType=G,e.lanes=y,e;case C:return e=Tt(19,o,n,h),e.elementType=C,e.lanes=y,e;case O:return Hs(o,h,y,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:b=10;break e;case V:b=9;break e;case U:b=11;break e;case X:b=14;break e;case R:b=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=Tt(b,o,n,h),n.elementType=e,n.type=s,n.lanes=y,n}function cr(e,n,o,s){return e=Tt(7,e,s,n),e.lanes=o,e}function Hs(e,n,o,s){return e=Tt(22,e,s,n),e.elementType=O,e.lanes=o,e.stateNode={isHidden:!1},e}function xu(e,n,o){return e=Tt(6,e,null,n),e.lanes=o,e}function wu(e,n,o){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function oy(e,n,o,s,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=s,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ku(e,n,o,s,h,y,b,q,ee){return e=new oy(e,n,o,q,ee),n===1?(n=1,y===!0&&(n|=8)):n=0,y=Tt(3,null,null,n),e.current=y,y.stateNode=e,y.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(y),e}function iy(e,n,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:s==null?null:""+s,children:e,containerInfo:n,implementation:o}}function Uf(e){if(!e)return zn;e=e._reactInternals;e:{if(Yt(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(ft(o))return vd(e,o,n)}return n}function Yf(e,n,o,s,h,y,b,q,ee){return e=ku(o,s,!0,e,h,y,b,q,ee),e.context=Uf(null),o=e.current,s=ct(),h=Rn(o),y=fn(s,h),y.callback=n??null,Tn(o,y,h),e.current.lanes=h,Zn(e,h,s),gt(e,s),e}function Vs(e,n,o,s){var h=n.current,y=ct(),b=Rn(h);return o=Uf(o),n.context===null?n.context=o:n.pendingContext=o,n=fn(y,b),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=Tn(h,n,b),e!==null&&($t(e,h,b,y),xs(e,h,b)),b}function Bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function _u(e,n){Xf(e,n),(e=e.alternate)&&Xf(e,n)}function sy(){return null}var Gf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Ws.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Vs(e,n,null,null)},Ws.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lr(function(){Vs(null,e,null,null)}),n[ln]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var n=zc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<bn.length&&n!==0&&n<bn[o].priority;o++);bn.splice(o,0,e),o===0&&Tc(e)}};function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Us(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qf(){}function ly(e,n,o,s,h){if(h){if(typeof s=="function"){var y=s;s=function(){var se=Bs(b);y.call(se)}}var b=Yf(n,s,e,0,null,!1,!1,"",qf);return e._reactRootContainer=b,e[ln]=b.current,Fo(e.nodeType===8?e.parentNode:e),lr(),b}for(;h=e.lastChild;)e.removeChild(h);if(typeof s=="function"){var q=s;s=function(){var se=Bs(ee);q.call(se)}}var ee=ku(e,0,!1,null,null,!1,!1,"",qf);return e._reactRootContainer=ee,e[ln]=ee.current,Fo(e.nodeType===8?e.parentNode:e),lr(function(){Vs(n,ee,o,s)}),ee}function Ys(e,n,o,s,h){var y=o._reactRootContainer;if(y){var b=y;if(typeof h=="function"){var q=h;h=function(){var ee=Bs(b);q.call(ee)}}Vs(n,b,e,h)}else b=ly(o,n,e,h,s);return Bs(b)}jc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Xt(n.pendingLanes);o!==0&&(Gl(n,o|1),gt(n,He()),(ze&6)===0&&(Kr=He()+500,In()))}break;case 13:lr(function(){var s=dn(e,1);if(s!==null){var h=ct();$t(s,e,1,h)}}),_u(e,1)}},ql=function(e){if(e.tag===13){var n=dn(e,134217728);if(n!==null){var o=ct();$t(n,e,134217728,o)}_u(e,134217728)}},Mc=function(e){if(e.tag===13){var n=Rn(e),o=dn(e,n);if(o!==null){var s=ct();$t(o,e,n,s)}_u(e,n)}},zc=function(){return Pe},Ic=function(e,n){var o=Pe;try{return Pe=e,n()}finally{Pe=o}},vo=function(e,n,o){switch(n){case"input":if(Ae(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var h=us(s);if(!h)throw Error(i(90));pe(s),Ae(s,h)}}}break;case"textarea":Er(e,o);break;case"select":n=o.value,n!=null&&St(e,!!o.multiple,n,!1)}},Di=gu,Ri=lr;var ay={usingClientEntryPoint:!1,Events:[Bo,Or,us,Li,Ai,gu]},ri={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uy={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$i(e),e===null?null:e.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Kn=Xs.inject(uy),Ct=Xs}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ay,mt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(n))throw Error(i(200));return iy(e,n,null,o)},mt.createRoot=function(e,n){if(!Nu(e))throw Error(i(299));var o=!1,s="",h=Gf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=ku(e,1,!1,null,null,o,!1,s,h),e[ln]=n.current,Fo(e.nodeType===8?e.parentNode:e),new Eu(n)},mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=$i(n),e=e===null?null:e.stateNode,e},mt.flushSync=function(e){return lr(e)},mt.hydrate=function(e,n,o){if(!Us(n))throw Error(i(200));return Ys(null,e,n,!0,o)},mt.hydrateRoot=function(e,n,o){if(!Nu(e))throw Error(i(405));var s=o!=null&&o.hydratedSources||null,h=!1,y="",b=Gf;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),n=Yf(n,null,e,1,o??null,h,!1,y,b),e[ln]=n.current,Fo(e),s)for(e=0;e<s.length;e++)o=s[e],h=o._getVersion,h=h(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,h]:n.mutableSourceEagerHydrationData.push(o,h);return new Ws(n)},mt.render=function(e,n,o){if(!Us(n))throw Error(i(200));return Ys(null,e,n,!1,o)},mt.unmountComponentAtNode=function(e){if(!Us(e))throw Error(i(40));return e._reactRootContainer?(lr(function(){Ys(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1},mt.unstable_batchedUpdates=gu,mt.unstable_renderSubtreeIntoContainer=function(e,n,o,s){if(!Us(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ys(e,n,o,!1,s)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var rh;function pp(){if(rh)return Cu.exports;rh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Cu.exports=my(),Cu.exports}var oh;function yy(){if(oh)return Gs;oh=1;var t=pp();return Gs.createRoot=t.createRoot,Gs.hydrateRoot=t.hydrateRoot,Gs}var vy=yy();const xy=ic(vy),wy="https://www.googleapis.com/auth/drive.file";class ky{constructor(r){this.clientId=r,this.tokenClient=null,this.accessToken=null}initGsi(){if(!window.google)throw new Error("Google Identity Services script not loaded");this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:wy,callback:""})}async getAccessToken(){return new Promise((r,i)=>{this.tokenClient.callback=l=>{if(l.error){i(l);return}this.accessToken=l.access_token,r(this.accessToken)},this.tokenClient.requestAccessToken({prompt:""})})}async callDriveApi(r,i={},l=!1){var c;this.accessToken||await this.getAccessToken();const a={...i.headers,Authorization:`Bearer ${this.accessToken}`};let u=await fetch(r,{...i,headers:a});if(u.status===401){if(l)throw new Error("AUTH_REQUIRED");await this.getAccessToken(),a.Authorization=`Bearer ${this.accessToken}`,u=await fetch(r,{...i,headers:a})}if(!u.ok){const d=await u.json();throw new Error(((c=d.error)==null?void 0:c.message)||"Error en la peticin a Drive")}return u}async findOrCreateFolder(r,i=null){let l=`name = '${r}' and mimeType = 'application/vnd.google-apps.folder' and trashed = false`;i&&(l+=` and '${i}' in parents`);const u=await(await this.callDriveApi(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(l)}`)).json();if(u.files&&u.files.length>0)return u.files[0].id;const c={name:r,mimeType:"application/vnd.google-apps.folder"};return i&&(c.parents=[i]),(await(await this.callDriveApi("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json()).id}async uploadFile(r,i,l,a){const u={name:i,parents:[r]},c=new FormData;return c.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),c.append("file",l),await(await this.callDriveApi("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:c})).json()}async getFile(r){return await(await this.callDriveApi(`https://www.googleapis.com/drive/v3/files/${r}?alt=media`)).blob()}async listFiles(r){const i=`'${r}' in parents and trashed = false`;return(await(await this.callDriveApi(`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(i)}&fields=files(id, name, mimeType)`)).json()).files||[]}async updateJsonFile(r,i,l=!1){return await(await this.callDriveApi(`https://www.googleapis.com/upload/drive/v3/files/${r}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},l)).json()}async createJsonFile(r,i,l){const a={name:i,parents:[r],mimeType:"application/json"},u=new FormData;return u.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),u.append("file",new Blob([JSON.stringify(l)],{type:"application/json"})),await(await this.callDriveApi("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",body:u})).json()}async deleteFile(r){return await this.callDriveApi(`https://www.googleapis.com/drive/v3/files/${r}`,{method:"DELETE"})}}/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=(...t)=>t.filter((r,i,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,l)=>l?l.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=t=>{const r=Ey(t);return r.charAt(0).toUpperCase()+r.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=re.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:a="",children:u,iconNode:c,...d},f)=>re.createElement("svg",{ref:f,...Ny,width:r,height:r,stroke:t,strokeWidth:l?Number(i)*24/Number(r):i,className:gp("lucide",a),...!u&&!by(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,m])=>re.createElement(g,m)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,r)=>{const i=re.forwardRef(({className:l,...a},u)=>re.createElement(Sy,{ref:u,iconNode:r,className:gp(`lucide-${_y(ih(t))}`,`lucide-${t}`,l),...a}));return i.displayName=ih(t),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mp=ke("arrow-left",Cy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],My=ke("arrow-right-left",jy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Iy=ke("arrow-right",zy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yp=ke("bell",Py);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ly=ke("bold",Ty);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Dy=ke("box",Ay);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vp=ke("briefcase",Ry);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xp=ke("calendar",Oy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ei=ke("check",$y);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hy=ke("chevron-down",Fy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],By=ke("chevron-up",Vy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wp=ke("circle-check",Wy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kp=ke("circle-question-mark",Uy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xy=ke("circle",Yy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qy=ke("clock",Gy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ky=ke("cloud",Qy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Jy=ke("code",Zy);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],_p=ke("coffee",ev);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],nv=ke("diamond",tv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ov=ke("external-link",rv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ep=ke("file-text",iv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Np=ke("flag",sv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],bp=ke("flame",lv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Sp=ke("globe",av);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Cp=ke("graduation-cap",uv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jp=ke("heart",cv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],fv=ke("hexagon",dv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pv=ke("image",hv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Mp=ke("info",gv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],yv=ke("keyboard",mv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sc=ke("layers",vv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],zp=ke("lightbulb",xv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ip=ke("lock",wv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_v=ke("log-out",kv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nv=ke("map",Ev);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],di=ke("maximize-2",bv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Pp=ke("mouse-pointer-2",Sv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],jv=ke("move-horizontal",Cv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zv=ke("palette",Mv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],kl=ke("panels-top-left",Iv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Tv=ke("pill",Pv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Av=ke("plus",Lv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Tp=ke("rocket",Dv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lp=ke("save",Rv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ap=ke("search",Ov);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dp=ke("settings",$v);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Rp=ke("smile",Fv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Op=ke("star",Hv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Bv=ke("sticky-note",Vv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$p=ke("target",Wv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ni=ke("trash-2",Uv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fp=ke("triangle-alert",Yv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],Gv=ke("triangle",Xv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fi=ke("type",qv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Kv=ke("underline",Qv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sh=ke("upload",Zv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hp=ke("user",Jv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vp=ke("x",ex);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lc=ke("zap",tx),nx=({topics:t,onSelect:r,onCreate:i,onDelete:l,loading:a})=>{const[u,c]=re.useState(""),d=f=>{f.preventDefault(),u.trim()&&(i(u.trim()),c(""))};return x.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 p-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("h2",{className:"text-3xl font-bold text-white",children:"Mis Temas"}),x.jsx("p",{className:"text-slate-400",children:"Selecciona un mapa mental existente o crea uno nuevo."})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[x.jsx("form",{onSubmit:d,className:"p-6 bg-slate-800/40 border-2 border-dashed border-slate-700 rounded-3xl hover:border-blue-500/50 transition-all group",children:x.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[x.jsx("div",{className:"p-3 bg-blue-500/10 rounded-2xl text-blue-400 group-hover:scale-110 transition-transform",children:x.jsx(Av,{size:32})}),x.jsxs("div",{className:"space-y-2 w-full",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider",children:"Nuevo Mapa"}),x.jsx("input",{type:"text",placeholder:"Ej: Cocina, Viajes...",value:u,onChange:f=>c(f.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors"}),x.jsx("button",{type:"submit",disabled:!u.trim()||a,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-xl font-bold transition-all",children:"Crear Tema"})]})]})}),t.map(f=>x.jsxs("div",{className:"group relative",children:[x.jsxs("button",{onClick:()=>r(f),disabled:a,className:"w-full p-6 bg-slate-800/60 border border-slate-700 rounded-3xl hover:bg-slate-700/60 hover:border-blue-500/50 transition-all flex items-center gap-4 text-left",children:[x.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-2xl text-emerald-400 group-hover:scale-110 transition-transform",children:x.jsx(Nv,{size:32})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"text-lg font-bold text-white truncate",children:f.name}),x.jsx("p",{className:"text-sm text-slate-500 tracking-tight",children:"Mapa Mental en Drive"})]})]}),x.jsx("button",{onClick:g=>{g.stopPropagation(),l(f.id)},className:"absolute top-4 right-4 p-2 bg-slate-900/80 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all z-10",title:"Eliminar Mapa",children:x.jsx(Ni,{size:18})})]},`topic-${f.id}`)),t.length===0&&!a&&x.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4 py-12 text-center text-slate-500",children:"No tienes temas creados an. Empieza con el primero!"},"empty-state")]})]})};function Ye(t){if(typeof t=="string"||typeof t=="number")return""+t;let r="";if(Array.isArray(t))for(let i=0,l;i<t.length;i++)(l=Ye(t[i]))!==""&&(r+=(r&&" ")+l);else for(let i in t)t[i]&&(r+=(r&&" ")+i);return r}var rx={value:()=>{}};function _l(){for(var t=0,r=arguments.length,i={},l;t<r;++t){if(!(l=arguments[t]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new ol(i)}function ol(t){this._=t}function ox(t,r){return t.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}ol.prototype=_l.prototype={constructor:ol,on:function(t,r){var i=this._,l=ox(t+"",i),a,u=-1,c=l.length;if(arguments.length<2){for(;++u<c;)if((a=(t=l[u]).type)&&(a=ix(i[a],t.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(a=(t=l[u]).type)i[a]=lh(i[a],t.name,r);else if(r==null)for(a in i)i[a]=lh(i[a],t.name,null);return this},copy:function(){var t={},r=this._;for(var i in r)t[i]=r[i].slice();return new ol(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,u;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],l=0,a=u.length;l<a;++l)u[l].value.apply(r,i)},apply:function(t,r,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var l=this._[t],a=0,u=l.length;a<u;++a)l[a].value.apply(r,i)}};function ix(t,r){for(var i=0,l=t.length,a;i<l;++i)if((a=t[i]).name===r)return a.value}function lh(t,r,i){for(var l=0,a=t.length;l<a;++l)if(t[l].name===r){t[l]=rx,t=t.slice(0,l).concat(t.slice(l+1));break}return i!=null&&t.push({name:r,value:i}),t}var Uu="http://www.w3.org/1999/xhtml";const ah={svg:"http://www.w3.org/2000/svg",xhtml:Uu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function El(t){var r=t+="",i=r.indexOf(":");return i>=0&&(r=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),ah.hasOwnProperty(r)?{space:ah[r],local:t}:t}function sx(t){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===Uu&&r.documentElement.namespaceURI===Uu?r.createElement(t):r.createElementNS(i,t)}}function lx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Bp(t){var r=El(t);return(r.local?lx:sx)(r)}function ax(){}function ac(t){return t==null?ax:function(){return this.querySelector(t)}}function ux(t){typeof t!="function"&&(t=ac(t));for(var r=this._groups,i=r.length,l=new Array(i),a=0;a<i;++a)for(var u=r[a],c=u.length,d=l[a]=new Array(c),f,g,m=0;m<c;++m)(f=u[m])&&(g=t.call(f,f.__data__,m,u))&&("__data__"in f&&(g.__data__=f.__data__),d[m]=g);return new bt(l,this._parents)}function cx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dx(){return[]}function Wp(t){return t==null?dx:function(){return this.querySelectorAll(t)}}function fx(t){return function(){return cx(t.apply(this,arguments))}}function hx(t){typeof t=="function"?t=fx(t):t=Wp(t);for(var r=this._groups,i=r.length,l=[],a=[],u=0;u<i;++u)for(var c=r[u],d=c.length,f,g=0;g<d;++g)(f=c[g])&&(l.push(t.call(f,f.__data__,g,c)),a.push(f));return new bt(l,a)}function Up(t){return function(){return this.matches(t)}}function Yp(t){return function(r){return r.matches(t)}}var px=Array.prototype.find;function gx(t){return function(){return px.call(this.children,t)}}function mx(){return this.firstElementChild}function yx(t){return this.select(t==null?mx:gx(typeof t=="function"?t:Yp(t)))}var vx=Array.prototype.filter;function xx(){return Array.from(this.children)}function wx(t){return function(){return vx.call(this.children,t)}}function kx(t){return this.selectAll(t==null?xx:wx(typeof t=="function"?t:Yp(t)))}function _x(t){typeof t!="function"&&(t=Up(t));for(var r=this._groups,i=r.length,l=new Array(i),a=0;a<i;++a)for(var u=r[a],c=u.length,d=l[a]=[],f,g=0;g<c;++g)(f=u[g])&&t.call(f,f.__data__,g,u)&&d.push(f);return new bt(l,this._parents)}function Xp(t){return new Array(t.length)}function Ex(){return new bt(this._enter||this._groups.map(Xp),this._parents)}function ul(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}ul.prototype={constructor:ul,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nx(t){return function(){return t}}function bx(t,r,i,l,a,u){for(var c=0,d,f=r.length,g=u.length;c<g;++c)(d=r[c])?(d.__data__=u[c],l[c]=d):i[c]=new ul(t,u[c]);for(;c<f;++c)(d=r[c])&&(a[c]=d)}function Sx(t,r,i,l,a,u,c){var d,f,g=new Map,m=r.length,p=u.length,v=new Array(m),w;for(d=0;d<m;++d)(f=r[d])&&(v[d]=w=c.call(f,f.__data__,d,r)+"",g.has(w)?a[d]=f:g.set(w,f));for(d=0;d<p;++d)w=c.call(t,u[d],d,u)+"",(f=g.get(w))?(l[d]=f,f.__data__=u[d],g.delete(w)):i[d]=new ul(t,u[d]);for(d=0;d<m;++d)(f=r[d])&&g.get(v[d])===f&&(a[d]=f)}function Cx(t){return t.__data__}function jx(t,r){if(!arguments.length)return Array.from(this,Cx);var i=r?Sx:bx,l=this._parents,a=this._groups;typeof t!="function"&&(t=Nx(t));for(var u=a.length,c=new Array(u),d=new Array(u),f=new Array(u),g=0;g<u;++g){var m=l[g],p=a[g],v=p.length,w=Mx(t.call(m,m&&m.__data__,g,l)),k=w.length,N=d[g]=new Array(k),M=c[g]=new Array(k),I=f[g]=new Array(v);i(m,p,N,M,I,w,r);for(var L=0,_=0,E,$;L<k;++L)if(E=N[L]){for(L>=_&&(_=L+1);!($=M[_])&&++_<k;);E._next=$||null}}return c=new bt(c,l),c._enter=d,c._exit=f,c}function Mx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zx(){return new bt(this._exit||this._groups.map(Xp),this._parents)}function Ix(t,r,i){var l=this.enter(),a=this,u=this.exit();return typeof t=="function"?(l=t(l),l&&(l=l.selection())):l=l.append(t+""),r!=null&&(a=r(a),a&&(a=a.selection())),i==null?u.remove():i(u),l&&a?l.merge(a).order():a}function Px(t){for(var r=t.selection?t.selection():t,i=this._groups,l=r._groups,a=i.length,u=l.length,c=Math.min(a,u),d=new Array(a),f=0;f<c;++f)for(var g=i[f],m=l[f],p=g.length,v=d[f]=new Array(p),w,k=0;k<p;++k)(w=g[k]||m[k])&&(v[k]=w);for(;f<a;++f)d[f]=i[f];return new bt(d,this._parents)}function Tx(){for(var t=this._groups,r=-1,i=t.length;++r<i;)for(var l=t[r],a=l.length-1,u=l[a],c;--a>=0;)(c=l[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function Lx(t){t||(t=Ax);function r(p,v){return p&&v?t(p.__data__,v.__data__):!p-!v}for(var i=this._groups,l=i.length,a=new Array(l),u=0;u<l;++u){for(var c=i[u],d=c.length,f=a[u]=new Array(d),g,m=0;m<d;++m)(g=c[m])&&(f[m]=g);f.sort(r)}return new bt(a,this._parents).order()}function Ax(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Dx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rx(){return Array.from(this)}function Ox(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var l=t[r],a=0,u=l.length;a<u;++a){var c=l[a];if(c)return c}return null}function $x(){let t=0;for(const r of this)++t;return t}function Fx(){return!this.node()}function Hx(t){for(var r=this._groups,i=0,l=r.length;i<l;++i)for(var a=r[i],u=0,c=a.length,d;u<c;++u)(d=a[u])&&t.call(d,d.__data__,u,a);return this}function Vx(t){return function(){this.removeAttribute(t)}}function Bx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wx(t,r){return function(){this.setAttribute(t,r)}}function Ux(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function Yx(t,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function Xx(t,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Gx(t,r){var i=El(t);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((r==null?i.local?Bx:Vx:typeof r=="function"?i.local?Xx:Yx:i.local?Ux:Wx)(i,r))}function Gp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qx(t){return function(){this.style.removeProperty(t)}}function Qx(t,r,i){return function(){this.style.setProperty(t,r,i)}}function Kx(t,r,i){return function(){var l=r.apply(this,arguments);l==null?this.style.removeProperty(t):this.style.setProperty(t,l,i)}}function Zx(t,r,i){return arguments.length>1?this.each((r==null?qx:typeof r=="function"?Kx:Qx)(t,r,i??"")):io(this.node(),t)}function io(t,r){return t.style.getPropertyValue(r)||Gp(t).getComputedStyle(t,null).getPropertyValue(r)}function Jx(t){return function(){delete this[t]}}function e1(t,r){return function(){this[t]=r}}function t1(t,r){return function(){var i=r.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function n1(t,r){return arguments.length>1?this.each((r==null?Jx:typeof r=="function"?t1:e1)(t,r)):this.node()[t]}function qp(t){return t.trim().split(/^|\s+/)}function uc(t){return t.classList||new Qp(t)}function Qp(t){this._node=t,this._names=qp(t.getAttribute("class")||"")}Qp.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Kp(t,r){for(var i=uc(t),l=-1,a=r.length;++l<a;)i.add(r[l])}function Zp(t,r){for(var i=uc(t),l=-1,a=r.length;++l<a;)i.remove(r[l])}function r1(t){return function(){Kp(this,t)}}function o1(t){return function(){Zp(this,t)}}function i1(t,r){return function(){(r.apply(this,arguments)?Kp:Zp)(this,t)}}function s1(t,r){var i=qp(t+"");if(arguments.length<2){for(var l=uc(this.node()),a=-1,u=i.length;++a<u;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof r=="function"?i1:r?r1:o1)(i,r))}function l1(){this.textContent=""}function a1(t){return function(){this.textContent=t}}function u1(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function c1(t){return arguments.length?this.each(t==null?l1:(typeof t=="function"?u1:a1)(t)):this.node().textContent}function d1(){this.innerHTML=""}function f1(t){return function(){this.innerHTML=t}}function h1(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function p1(t){return arguments.length?this.each(t==null?d1:(typeof t=="function"?h1:f1)(t)):this.node().innerHTML}function g1(){this.nextSibling&&this.parentNode.appendChild(this)}function m1(){return this.each(g1)}function y1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v1(){return this.each(y1)}function x1(t){var r=typeof t=="function"?t:Bp(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function w1(){return null}function k1(t,r){var i=typeof t=="function"?t:Bp(t),l=r==null?w1:typeof r=="function"?r:ac(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function _1(){var t=this.parentNode;t&&t.removeChild(this)}function E1(){return this.each(_1)}function N1(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function b1(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function S1(t){return this.select(t?b1:N1)}function C1(t){return arguments.length?this.property("__data__",t):this.node().__data__}function j1(t){return function(r){t.call(this,r,this.__data__)}}function M1(t){return t.trim().split(/^|\s+/).map(function(r){var i="",l=r.indexOf(".");return l>=0&&(i=r.slice(l+1),r=r.slice(0,l)),{type:r,name:i}})}function z1(t){return function(){var r=this.__on;if(r){for(var i=0,l=-1,a=r.length,u;i<a;++i)u=r[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):r[++l]=u;++l?r.length=l:delete this.__on}}}function I1(t,r,i){return function(){var l=this.__on,a,u=j1(r);if(l){for(var c=0,d=l.length;c<d;++c)if((a=l[c]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=i),a.value=r;return}}this.addEventListener(t.type,u,i),a={type:t.type,name:t.name,value:r,listener:u,options:i},l?l.push(a):this.__on=[a]}}function P1(t,r,i){var l=M1(t+""),a,u=l.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,g=d.length,m;f<g;++f)for(a=0,m=d[f];a<u;++a)if((c=l[a]).type===m.type&&c.name===m.name)return m.value}return}for(d=r?I1:z1,a=0;a<u;++a)this.each(d(l[a],r,i));return this}function Jp(t,r,i){var l=Gp(t),a=l.CustomEvent;typeof a=="function"?a=new a(r,i):(a=l.document.createEvent("Event"),i?(a.initEvent(r,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(r,!1,!1)),t.dispatchEvent(a)}function T1(t,r){return function(){return Jp(this,t,r)}}function L1(t,r){return function(){return Jp(this,t,r.apply(this,arguments))}}function A1(t,r){return this.each((typeof r=="function"?L1:T1)(t,r))}function*D1(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var l=t[r],a=0,u=l.length,c;a<u;++a)(c=l[a])&&(yield c)}var e0=[null];function bt(t,r){this._groups=t,this._parents=r}function bi(){return new bt([[document.documentElement]],e0)}function R1(){return this}bt.prototype=bi.prototype={constructor:bt,select:ux,selectAll:hx,selectChild:yx,selectChildren:kx,filter:_x,data:jx,enter:Ex,exit:zx,join:Ix,merge:Px,selection:R1,order:Tx,sort:Lx,call:Dx,nodes:Rx,node:Ox,size:$x,empty:Fx,each:Hx,attr:Gx,style:Zx,property:n1,classed:s1,text:c1,html:p1,raise:m1,lower:v1,append:x1,insert:k1,remove:E1,clone:S1,datum:C1,on:P1,dispatch:A1,[Symbol.iterator]:D1};function Nt(t){return typeof t=="string"?new bt([[document.querySelector(t)]],[document.documentElement]):new bt([[t]],e0)}function O1(t){let r;for(;r=t.sourceEvent;)t=r;return t}function Ft(t,r){if(t=O1(t),r===void 0&&(r=t.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=t.clientX,l.y=t.clientY,l=l.matrixTransform(r.getScreenCTM().inverse()),[l.x,l.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[t.clientX-a.left-r.clientLeft,t.clientY-a.top-r.clientTop]}}return[t.pageX,t.pageY]}const $1={passive:!1},hi={capture:!0,passive:!1};function zu(t){t.stopImmediatePropagation()}function ro(t){t.preventDefault(),t.stopImmediatePropagation()}function t0(t){var r=t.document.documentElement,i=Nt(t).on("dragstart.drag",ro,hi);"onselectstart"in r?i.on("selectstart.drag",ro,hi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function n0(t,r){var i=t.document.documentElement,l=Nt(t).on("dragstart.drag",null);r&&(l.on("click.drag",ro,hi),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const qs=t=>()=>t;function Yu(t,{sourceEvent:r,subject:i,target:l,identifier:a,active:u,x:c,y:d,dx:f,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}Yu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function F1(t){return!t.ctrlKey&&!t.button}function H1(){return this.parentNode}function V1(t,r){return r??{x:t.x,y:t.y}}function B1(){return navigator.maxTouchPoints||"ontouchstart"in this}function r0(){var t=F1,r=H1,i=V1,l=B1,a={},u=_l("start","drag","end"),c=0,d,f,g,m,p=0;function v(E){E.on("mousedown.drag",w).filter(l).on("touchstart.drag",M).on("touchmove.drag",I,$1).on("touchend.drag touchcancel.drag",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(E,$){if(!(m||!t.call(this,E,$))){var P=_(this,r.call(this,E,$),E,$,"mouse");P&&(Nt(E.view).on("mousemove.drag",k,hi).on("mouseup.drag",N,hi),t0(E.view),zu(E),g=!1,d=E.clientX,f=E.clientY,P("start",E))}}function k(E){if(ro(E),!g){var $=E.clientX-d,P=E.clientY-f;g=$*$+P*P>p}a.mouse("drag",E)}function N(E){Nt(E.view).on("mousemove.drag mouseup.drag",null),n0(E.view,g),ro(E),a.mouse("end",E)}function M(E,$){if(t.call(this,E,$)){var P=E.changedTouches,B=r.call(this,E,$),H=P.length,K,W;for(K=0;K<H;++K)(W=_(this,B,E,$,P[K].identifier,P[K]))&&(zu(E),W("start",E,P[K]))}}function I(E){var $=E.changedTouches,P=$.length,B,H;for(B=0;B<P;++B)(H=a[$[B].identifier])&&(ro(E),H("drag",E,$[B]))}function L(E){var $=E.changedTouches,P=$.length,B,H;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),B=0;B<P;++B)(H=a[$[B].identifier])&&(zu(E),H("end",E,$[B]))}function _(E,$,P,B,H,K){var W=u.copy(),V=Ft(K||P,$),U,G,C;if((C=i.call(E,new Yu("beforestart",{sourceEvent:P,target:v,identifier:H,active:c,x:V[0],y:V[1],dx:0,dy:0,dispatch:W}),B))!=null)return U=C.x-V[0]||0,G=C.y-V[1]||0,function X(R,O,j){var A=V,F;switch(R){case"start":a[H]=X,F=c++;break;case"end":delete a[H],--c;case"drag":V=Ft(j||O,$),F=c;break}W.call(R,E,new Yu(R,{sourceEvent:O,subject:C,target:v,identifier:H,active:F,x:V[0]+U,y:V[1]+G,dx:V[0]-A[0],dy:V[1]-A[1],dispatch:W}),B)}}return v.filter=function(E){return arguments.length?(t=typeof E=="function"?E:qs(!!E),v):t},v.container=function(E){return arguments.length?(r=typeof E=="function"?E:qs(E),v):r},v.subject=function(E){return arguments.length?(i=typeof E=="function"?E:qs(E),v):i},v.touchable=function(E){return arguments.length?(l=typeof E=="function"?E:qs(!!E),v):l},v.on=function(){var E=u.on.apply(u,arguments);return E===u?v:E},v.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,v):Math.sqrt(p)},v}function cc(t,r,i){t.prototype=r.prototype=i,i.constructor=t}function o0(t,r){var i=Object.create(t.prototype);for(var l in r)i[l]=r[l];return i}function Si(){}var pi=.7,cl=1/pi,oo="\\s*([+-]?\\d+)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W1=/^#([0-9a-f]{3,8})$/,U1=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),Y1=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),X1=new RegExp(`^rgba\\(${oo},${oo},${oo},${gi}\\)$`),G1=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${gi}\\)$`),q1=new RegExp(`^hsl\\(${gi},${Jt},${Jt}\\)$`),Q1=new RegExp(`^hsla\\(${gi},${Jt},${Jt},${gi}\\)$`),uh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cc(Si,mr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ch,formatHex:ch,formatHex8:K1,formatHsl:Z1,formatRgb:dh,toString:dh});function ch(){return this.rgb().formatHex()}function K1(){return this.rgb().formatHex8()}function Z1(){return i0(this).formatHsl()}function dh(){return this.rgb().formatRgb()}function mr(t){var r,i;return t=(t+"").trim().toLowerCase(),(r=W1.exec(t))?(i=r[1].length,r=parseInt(r[1],16),i===6?fh(r):i===3?new yt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?Qs(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?Qs(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=U1.exec(t))?new yt(r[1],r[2],r[3],1):(r=Y1.exec(t))?new yt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=X1.exec(t))?Qs(r[1],r[2],r[3],r[4]):(r=G1.exec(t))?Qs(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=q1.exec(t))?gh(r[1],r[2]/100,r[3]/100,1):(r=Q1.exec(t))?gh(r[1],r[2]/100,r[3]/100,r[4]):uh.hasOwnProperty(t)?fh(uh[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function fh(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function Qs(t,r,i,l){return l<=0&&(t=r=i=NaN),new yt(t,r,i,l)}function J1(t){return t instanceof Si||(t=mr(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Xu(t,r,i,l){return arguments.length===1?J1(t):new yt(t,r,i,l??1)}function yt(t,r,i,l){this.r=+t,this.g=+r,this.b=+i,this.opacity=+l}cc(yt,Xu,o0(Si,{brighter(t){return t=t==null?cl:Math.pow(cl,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pi:Math.pow(pi,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(hr(this.r),hr(this.g),hr(this.b),dl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hh,formatHex:hh,formatHex8:ew,formatRgb:ph,toString:ph}));function hh(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}`}function ew(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}${fr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ph(){const t=dl(this.opacity);return`${t===1?"rgb(":"rgba("}${hr(this.r)}, ${hr(this.g)}, ${hr(this.b)}${t===1?")":`, ${t})`}`}function dl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fr(t){return t=hr(t),(t<16?"0":"")+t.toString(16)}function gh(t,r,i,l){return l<=0?t=r=i=NaN:i<=0||i>=1?t=r=NaN:r<=0&&(t=NaN),new Ht(t,r,i,l)}function i0(t){if(t instanceof Ht)return new Ht(t.h,t.s,t.l,t.opacity);if(t instanceof Si||(t=mr(t)),!t)return new Ht;if(t instanceof Ht)return t;t=t.rgb();var r=t.r/255,i=t.g/255,l=t.b/255,a=Math.min(r,i,l),u=Math.max(r,i,l),c=NaN,d=u-a,f=(u+a)/2;return d?(r===u?c=(i-l)/d+(i<l)*6:i===u?c=(l-r)/d+2:c=(r-i)/d+4,d/=f<.5?u+a:2-u-a,c*=60):d=f>0&&f<1?0:c,new Ht(c,d,f,t.opacity)}function tw(t,r,i,l){return arguments.length===1?i0(t):new Ht(t,r,i,l??1)}function Ht(t,r,i,l){this.h=+t,this.s=+r,this.l=+i,this.opacity=+l}cc(Ht,tw,o0(Si,{brighter(t){return t=t==null?cl:Math.pow(cl,t),new Ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pi:Math.pow(pi,t),new Ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*r,a=2*i-l;return new yt(Iu(t>=240?t-240:t+120,a,l),Iu(t,a,l),Iu(t<120?t+240:t-120,a,l),this.opacity)},clamp(){return new Ht(mh(this.h),Ks(this.s),Ks(this.l),dl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dl(this.opacity);return`${t===1?"hsl(":"hsla("}${mh(this.h)}, ${Ks(this.s)*100}%, ${Ks(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mh(t){return t=(t||0)%360,t<0?t+360:t}function Ks(t){return Math.max(0,Math.min(1,t||0))}function Iu(t,r,i){return(t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r)*255}const dc=t=>()=>t;function nw(t,r){return function(i){return t+i*r}}function rw(t,r,i){return t=Math.pow(t,i),r=Math.pow(r,i)-t,i=1/i,function(l){return Math.pow(t+l*r,i)}}function ow(t){return(t=+t)==1?s0:function(r,i){return i-r?rw(r,i,t):dc(isNaN(r)?i:r)}}function s0(t,r){var i=r-t;return i?nw(t,i):dc(isNaN(t)?r:t)}const fl=(function t(r){var i=ow(r);function l(a,u){var c=i((a=Xu(a)).r,(u=Xu(u)).r),d=i(a.g,u.g),f=i(a.b,u.b),g=s0(a.opacity,u.opacity);return function(m){return a.r=c(m),a.g=d(m),a.b=f(m),a.opacity=g(m),a+""}}return l.gamma=t,l})(1);function iw(t,r){r||(r=[]);var i=t?Math.min(r.length,t.length):0,l=r.slice(),a;return function(u){for(a=0;a<i;++a)l[a]=t[a]*(1-u)+r[a]*u;return l}}function sw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lw(t,r){var i=r?r.length:0,l=t?Math.min(i,t.length):0,a=new Array(l),u=new Array(i),c;for(c=0;c<l;++c)a[c]=ui(t[c],r[c]);for(;c<i;++c)u[c]=r[c];return function(d){for(c=0;c<l;++c)u[c]=a[c](d);return u}}function aw(t,r){var i=new Date;return t=+t,r=+r,function(l){return i.setTime(t*(1-l)+r*l),i}}function Zt(t,r){return t=+t,r=+r,function(i){return t*(1-i)+r*i}}function uw(t,r){var i={},l={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?i[a]=ui(t[a],r[a]):l[a]=r[a];return function(u){for(a in i)l[a]=i[a](u);return l}}var Gu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pu=new RegExp(Gu.source,"g");function cw(t){return function(){return t}}function dw(t){return function(r){return t(r)+""}}function l0(t,r){var i=Gu.lastIndex=Pu.lastIndex=0,l,a,u,c=-1,d=[],f=[];for(t=t+"",r=r+"";(l=Gu.exec(t))&&(a=Pu.exec(r));)(u=a.index)>i&&(u=r.slice(i,u),d[c]?d[c]+=u:d[++c]=u),(l=l[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Zt(l,a)})),i=Pu.lastIndex;return i<r.length&&(u=r.slice(i),d[c]?d[c]+=u:d[++c]=u),d.length<2?f[0]?dw(f[0].x):cw(r):(r=f.length,function(g){for(var m=0,p;m<r;++m)d[(p=f[m]).i]=p.x(g);return d.join("")})}function ui(t,r){var i=typeof r,l;return r==null||i==="boolean"?dc(r):(i==="number"?Zt:i==="string"?(l=mr(r))?(r=l,fl):l0:r instanceof mr?fl:r instanceof Date?aw:sw(r)?iw:Array.isArray(r)?lw:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?uw:Zt)(t,r)}var yh=180/Math.PI,qu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a0(t,r,i,l,a,u){var c,d,f;return(c=Math.sqrt(t*t+r*r))&&(t/=c,r/=c),(f=t*i+r*l)&&(i-=t*f,l-=r*f),(d=Math.sqrt(i*i+l*l))&&(i/=d,l/=d,f/=d),t*l<r*i&&(t=-t,r=-r,f=-f,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(r,t)*yh,skewX:Math.atan(f)*yh,scaleX:c,scaleY:d}}var Zs;function fw(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?qu:a0(r.a,r.b,r.c,r.d,r.e,r.f)}function hw(t){return t==null||(Zs||(Zs=document.createElementNS("http://www.w3.org/2000/svg","g")),Zs.setAttribute("transform",t),!(t=Zs.transform.baseVal.consolidate()))?qu:(t=t.matrix,a0(t.a,t.b,t.c,t.d,t.e,t.f))}function u0(t,r,i,l){function a(g){return g.length?g.pop()+" ":""}function u(g,m,p,v,w,k){if(g!==p||m!==v){var N=w.push("translate(",null,r,null,i);k.push({i:N-4,x:Zt(g,p)},{i:N-2,x:Zt(m,v)})}else(p||v)&&w.push("translate("+p+r+v+i)}function c(g,m,p,v){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),v.push({i:p.push(a(p)+"rotate(",null,l)-2,x:Zt(g,m)})):m&&p.push(a(p)+"rotate("+m+l)}function d(g,m,p,v){g!==m?v.push({i:p.push(a(p)+"skewX(",null,l)-2,x:Zt(g,m)}):m&&p.push(a(p)+"skewX("+m+l)}function f(g,m,p,v,w,k){if(g!==p||m!==v){var N=w.push(a(w)+"scale(",null,",",null,")");k.push({i:N-4,x:Zt(g,p)},{i:N-2,x:Zt(m,v)})}else(p!==1||v!==1)&&w.push(a(w)+"scale("+p+","+v+")")}return function(g,m){var p=[],v=[];return g=t(g),m=t(m),u(g.translateX,g.translateY,m.translateX,m.translateY,p,v),c(g.rotate,m.rotate,p,v),d(g.skewX,m.skewX,p,v),f(g.scaleX,g.scaleY,m.scaleX,m.scaleY,p,v),g=m=null,function(w){for(var k=-1,N=v.length,M;++k<N;)p[(M=v[k]).i]=M.x(w);return p.join("")}}}var pw=u0(fw,"px, ","px)","deg)"),gw=u0(hw,", ",")",")"),mw=1e-12;function vh(t){return((t=Math.exp(t))+1/t)/2}function yw(t){return((t=Math.exp(t))-1/t)/2}function vw(t){return((t=Math.exp(2*t))-1)/(t+1)}const il=(function t(r,i,l){function a(u,c){var d=u[0],f=u[1],g=u[2],m=c[0],p=c[1],v=c[2],w=m-d,k=p-f,N=w*w+k*k,M,I;if(N<mw)I=Math.log(v/g)/r,M=function(B){return[d+B*w,f+B*k,g*Math.exp(r*B*I)]};else{var L=Math.sqrt(N),_=(v*v-g*g+l*N)/(2*g*i*L),E=(v*v-g*g-l*N)/(2*v*i*L),$=Math.log(Math.sqrt(_*_+1)-_),P=Math.log(Math.sqrt(E*E+1)-E);I=(P-$)/r,M=function(B){var H=B*I,K=vh($),W=g/(i*L)*(K*vw(r*H+$)-yw($));return[d+W*w,f+W*k,g*K/vh(r*H+$)]}}return M.duration=I*1e3*r/Math.SQRT2,M}return a.rho=function(u){var c=Math.max(.001,+u),d=c*c,f=d*d;return t(c,d,f)},a})(Math.SQRT2,2,4);var so=0,li=0,ii=0,c0=1e3,hl,ai,pl=0,yr=0,Nl=0,mi=typeof performance=="object"&&performance.now?performance:Date,d0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fc(){return yr||(d0(xw),yr=mi.now()+Nl)}function xw(){yr=0}function gl(){this._call=this._time=this._next=null}gl.prototype=f0.prototype={constructor:gl,restart:function(t,r,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?fc():+i)+(r==null?0:+r),!this._next&&ai!==this&&(ai?ai._next=this:hl=this,ai=this),this._call=t,this._time=i,Qu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qu())}};function f0(t,r,i){var l=new gl;return l.restart(t,r,i),l}function ww(){fc(),++so;for(var t=hl,r;t;)(r=yr-t._time)>=0&&t._call.call(void 0,r),t=t._next;--so}function xh(){yr=(pl=mi.now())+Nl,so=li=0;try{ww()}finally{so=0,_w(),yr=0}}function kw(){var t=mi.now(),r=t-pl;r>c0&&(Nl-=r,pl=t)}function _w(){for(var t,r=hl,i,l=1/0;r;)r._call?(l>r._time&&(l=r._time),t=r,r=r._next):(i=r._next,r._next=null,r=t?t._next=i:hl=i);ai=t,Qu(l)}function Qu(t){if(!so){li&&(li=clearTimeout(li));var r=t-yr;r>24?(t<1/0&&(li=setTimeout(xh,t-mi.now()-Nl)),ii&&(ii=clearInterval(ii))):(ii||(pl=mi.now(),ii=setInterval(kw,c0)),so=1,d0(xh))}}function wh(t,r,i){var l=new gl;return r=r==null?0:+r,l.restart(a=>{l.stop(),t(a+r)},r,i),l}var Ew=_l("start","end","cancel","interrupt"),Nw=[],h0=0,kh=1,Ku=2,sl=3,_h=4,Zu=5,ll=6;function bl(t,r,i,l,a,u){var c=t.__transition;if(!c)t.__transition={};else if(i in c)return;bw(t,i,{name:r,index:l,group:a,on:Ew,tween:Nw,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:h0})}function hc(t,r){var i=Ut(t,r);if(i.state>h0)throw new Error("too late; already scheduled");return i}function tn(t,r){var i=Ut(t,r);if(i.state>sl)throw new Error("too late; already running");return i}function Ut(t,r){var i=t.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function bw(t,r,i){var l=t.__transition,a;l[r]=i,i.timer=f0(u,0,i.time);function u(g){i.state=kh,i.timer.restart(c,i.delay,i.time),i.delay<=g&&c(g-i.delay)}function c(g){var m,p,v,w;if(i.state!==kh)return f();for(m in l)if(w=l[m],w.name===i.name){if(w.state===sl)return wh(c);w.state===_h?(w.state=ll,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete l[m]):+m<r&&(w.state=ll,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete l[m])}if(wh(function(){i.state===sl&&(i.state=_h,i.timer.restart(d,i.delay,i.time),d(g))}),i.state=Ku,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Ku){for(i.state=sl,a=new Array(v=i.tween.length),m=0,p=-1;m<v;++m)(w=i.tween[m].value.call(t,t.__data__,i.index,i.group))&&(a[++p]=w);a.length=p+1}}function d(g){for(var m=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(f),i.state=Zu,1),p=-1,v=a.length;++p<v;)a[p].call(t,m);i.state===Zu&&(i.on.call("end",t,t.__data__,i.index,i.group),f())}function f(){i.state=ll,i.timer.stop(),delete l[r];for(var g in l)return;delete t.__transition}}function al(t,r){var i=t.__transition,l,a,u=!0,c;if(i){r=r==null?null:r+"";for(c in i){if((l=i[c]).name!==r){u=!1;continue}a=l.state>Ku&&l.state<Zu,l.state=ll,l.timer.stop(),l.on.call(a?"interrupt":"cancel",t,t.__data__,l.index,l.group),delete i[c]}u&&delete t.__transition}}function Sw(t){return this.each(function(){al(this,t)})}function Cw(t,r){var i,l;return function(){var a=tn(this,t),u=a.tween;if(u!==i){l=i=u;for(var c=0,d=l.length;c<d;++c)if(l[c].name===r){l=l.slice(),l.splice(c,1);break}}a.tween=l}}function jw(t,r,i){var l,a;if(typeof i!="function")throw new Error;return function(){var u=tn(this,t),c=u.tween;if(c!==l){a=(l=c).slice();for(var d={name:r,value:i},f=0,g=a.length;f<g;++f)if(a[f].name===r){a[f]=d;break}f===g&&a.push(d)}u.tween=a}}function Mw(t,r){var i=this._id;if(t+="",arguments.length<2){for(var l=Ut(this.node(),i).tween,a=0,u=l.length,c;a<u;++a)if((c=l[a]).name===t)return c.value;return null}return this.each((r==null?Cw:jw)(i,t,r))}function pc(t,r,i){var l=t._id;return t.each(function(){var a=tn(this,l);(a.value||(a.value={}))[r]=i.apply(this,arguments)}),function(a){return Ut(a,l).value[r]}}function p0(t,r){var i;return(typeof r=="number"?Zt:r instanceof mr?fl:(i=mr(r))?(r=i,fl):l0)(t,r)}function zw(t){return function(){this.removeAttribute(t)}}function Iw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pw(t,r,i){var l,a=i+"",u;return function(){var c=this.getAttribute(t);return c===a?null:c===l?u:u=r(l=c,i)}}function Tw(t,r,i){var l,a=i+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===a?null:c===l?u:u=r(l=c,i)}}function Lw(t,r,i){var l,a,u;return function(){var c,d=i(this),f;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=d+"",c===f?null:c===l&&f===a?u:(a=f,u=r(l=c,d)))}}function Aw(t,r,i){var l,a,u;return function(){var c,d=i(this),f;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=d+"",c===f?null:c===l&&f===a?u:(a=f,u=r(l=c,d)))}}function Dw(t,r){var i=El(t),l=i==="transform"?gw:p0;return this.attrTween(t,typeof r=="function"?(i.local?Aw:Lw)(i,l,pc(this,"attr."+t,r)):r==null?(i.local?Iw:zw)(i):(i.local?Tw:Pw)(i,l,r))}function Rw(t,r){return function(i){this.setAttribute(t,r.call(this,i))}}function Ow(t,r){return function(i){this.setAttributeNS(t.space,t.local,r.call(this,i))}}function $w(t,r){var i,l;function a(){var u=r.apply(this,arguments);return u!==l&&(i=(l=u)&&Ow(t,u)),i}return a._value=r,a}function Fw(t,r){var i,l;function a(){var u=r.apply(this,arguments);return u!==l&&(i=(l=u)&&Rw(t,u)),i}return a._value=r,a}function Hw(t,r){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;var l=El(t);return this.tween(i,(l.local?$w:Fw)(l,r))}function Vw(t,r){return function(){hc(this,t).delay=+r.apply(this,arguments)}}function Bw(t,r){return r=+r,function(){hc(this,t).delay=r}}function Ww(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?Vw:Bw)(r,t)):Ut(this.node(),r).delay}function Uw(t,r){return function(){tn(this,t).duration=+r.apply(this,arguments)}}function Yw(t,r){return r=+r,function(){tn(this,t).duration=r}}function Xw(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?Uw:Yw)(r,t)):Ut(this.node(),r).duration}function Gw(t,r){if(typeof r!="function")throw new Error;return function(){tn(this,t).ease=r}}function qw(t){var r=this._id;return arguments.length?this.each(Gw(r,t)):Ut(this.node(),r).ease}function Qw(t,r){return function(){var i=r.apply(this,arguments);if(typeof i!="function")throw new Error;tn(this,t).ease=i}}function Kw(t){if(typeof t!="function")throw new Error;return this.each(Qw(this._id,t))}function Zw(t){typeof t!="function"&&(t=Up(t));for(var r=this._groups,i=r.length,l=new Array(i),a=0;a<i;++a)for(var u=r[a],c=u.length,d=l[a]=[],f,g=0;g<c;++g)(f=u[g])&&t.call(f,f.__data__,g,u)&&d.push(f);return new yn(l,this._parents,this._name,this._id)}function Jw(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,i=t._groups,l=r.length,a=i.length,u=Math.min(l,a),c=new Array(l),d=0;d<u;++d)for(var f=r[d],g=i[d],m=f.length,p=c[d]=new Array(m),v,w=0;w<m;++w)(v=f[w]||g[w])&&(p[w]=v);for(;d<l;++d)c[d]=r[d];return new yn(c,this._parents,this._name,this._id)}function e2(t){return(t+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||r==="start"})}function t2(t,r,i){var l,a,u=e2(r)?hc:tn;return function(){var c=u(this,t),d=c.on;d!==l&&(a=(l=d).copy()).on(r,i),c.on=a}}function n2(t,r){var i=this._id;return arguments.length<2?Ut(this.node(),i).on.on(t):this.each(t2(i,t,r))}function r2(t){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==t)return;r&&r.removeChild(this)}}function o2(){return this.on("end.remove",r2(this._id))}function i2(t){var r=this._name,i=this._id;typeof t!="function"&&(t=ac(t));for(var l=this._groups,a=l.length,u=new Array(a),c=0;c<a;++c)for(var d=l[c],f=d.length,g=u[c]=new Array(f),m,p,v=0;v<f;++v)(m=d[v])&&(p=t.call(m,m.__data__,v,d))&&("__data__"in m&&(p.__data__=m.__data__),g[v]=p,bl(g[v],r,i,v,g,Ut(m,i)));return new yn(u,this._parents,r,i)}function s2(t){var r=this._name,i=this._id;typeof t!="function"&&(t=Wp(t));for(var l=this._groups,a=l.length,u=[],c=[],d=0;d<a;++d)for(var f=l[d],g=f.length,m,p=0;p<g;++p)if(m=f[p]){for(var v=t.call(m,m.__data__,p,f),w,k=Ut(m,i),N=0,M=v.length;N<M;++N)(w=v[N])&&bl(w,r,i,N,v,k);u.push(v),c.push(m)}return new yn(u,c,r,i)}var l2=bi.prototype.constructor;function a2(){return new l2(this._groups,this._parents)}function u2(t,r){var i,l,a;return function(){var u=io(this,t),c=(this.style.removeProperty(t),io(this,t));return u===c?null:u===i&&c===l?a:a=r(i=u,l=c)}}function g0(t){return function(){this.style.removeProperty(t)}}function c2(t,r,i){var l,a=i+"",u;return function(){var c=io(this,t);return c===a?null:c===l?u:u=r(l=c,i)}}function d2(t,r,i){var l,a,u;return function(){var c=io(this,t),d=i(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(t),io(this,t))),c===f?null:c===l&&f===a?u:(a=f,u=r(l=c,d))}}function f2(t,r){var i,l,a,u="style."+r,c="end."+u,d;return function(){var f=tn(this,t),g=f.on,m=f.value[u]==null?d||(d=g0(r)):void 0;(g!==i||a!==m)&&(l=(i=g).copy()).on(c,a=m),f.on=l}}function h2(t,r,i){var l=(t+="")=="transform"?pw:p0;return r==null?this.styleTween(t,u2(t,l)).on("end.style."+t,g0(t)):typeof r=="function"?this.styleTween(t,d2(t,l,pc(this,"style."+t,r))).each(f2(this._id,t)):this.styleTween(t,c2(t,l,r),i).on("end.style."+t,null)}function p2(t,r,i){return function(l){this.style.setProperty(t,r.call(this,l),i)}}function g2(t,r,i){var l,a;function u(){var c=r.apply(this,arguments);return c!==a&&(l=(a=c)&&p2(t,c,i)),l}return u._value=r,u}function m2(t,r,i){var l="style."+(t+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(r==null)return this.tween(l,null);if(typeof r!="function")throw new Error;return this.tween(l,g2(t,r,i??""))}function y2(t){return function(){this.textContent=t}}function v2(t){return function(){var r=t(this);this.textContent=r??""}}function x2(t){return this.tween("text",typeof t=="function"?v2(pc(this,"text",t)):y2(t==null?"":t+""))}function w2(t){return function(r){this.textContent=t.call(this,r)}}function k2(t){var r,i;function l(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&w2(a)),r}return l._value=t,l}function _2(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,k2(t))}function E2(){for(var t=this._name,r=this._id,i=m0(),l=this._groups,a=l.length,u=0;u<a;++u)for(var c=l[u],d=c.length,f,g=0;g<d;++g)if(f=c[g]){var m=Ut(f,r);bl(f,t,i,g,c,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new yn(l,this._parents,t,i)}function N2(){var t,r,i=this,l=i._id,a=i.size();return new Promise(function(u,c){var d={value:c},f={value:function(){--a===0&&u()}};i.each(function(){var g=tn(this,l),m=g.on;m!==t&&(r=(t=m).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(f)),g.on=r}),a===0&&u()})}var b2=0;function yn(t,r,i,l){this._groups=t,this._parents=r,this._name=i,this._id=l}function m0(){return++b2}var gn=bi.prototype;yn.prototype={constructor:yn,select:i2,selectAll:s2,selectChild:gn.selectChild,selectChildren:gn.selectChildren,filter:Zw,merge:Jw,selection:a2,transition:E2,call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:n2,attr:Dw,attrTween:Hw,style:h2,styleTween:m2,text:x2,textTween:_2,remove:o2,tween:Mw,delay:Ww,duration:Xw,ease:qw,easeVarying:Kw,end:N2,[Symbol.iterator]:gn[Symbol.iterator]};function S2(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var C2={time:null,delay:0,duration:250,ease:S2};function j2(t,r){for(var i;!(i=t.__transition)||!(i=i[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return i}function M2(t){var r,i;t instanceof yn?(r=t._id,t=t._name):(r=m0(),(i=C2).time=fc(),t=t==null?null:t+"");for(var l=this._groups,a=l.length,u=0;u<a;++u)for(var c=l[u],d=c.length,f,g=0;g<d;++g)(f=c[g])&&bl(f,t,r,g,c,i||j2(f,r));return new yn(l,this._parents,t,r)}bi.prototype.interrupt=Sw;bi.prototype.transition=M2;const Js=t=>()=>t;function z2(t,{sourceEvent:r,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function mn(t,r,i){this.k=t,this.x=r,this.y=i}mn.prototype={constructor:mn,scale:function(t){return t===1?this:new mn(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new mn(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sl=new mn(1,0,0);y0.prototype=mn.prototype;function y0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Sl;return t.__zoom}function Tu(t){t.stopImmediatePropagation()}function si(t){t.preventDefault(),t.stopImmediatePropagation()}function I2(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function P2(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Eh(){return this.__zoom||Sl}function T2(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function L2(){return navigator.maxTouchPoints||"ontouchstart"in this}function A2(t,r,i){var l=t.invertX(r[0][0])-i[0][0],a=t.invertX(r[1][0])-i[1][0],u=t.invertY(r[0][1])-i[0][1],c=t.invertY(r[1][1])-i[1][1];return t.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function v0(){var t=I2,r=P2,i=A2,l=T2,a=L2,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,f=il,g=_l("start","zoom","end"),m,p,v,w=500,k=150,N=0,M=10;function I(C){C.property("__zoom",Eh).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",W).filter(a).on("touchstart.zoom",V).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}I.transform=function(C,X,R,O){var j=C.selection?C.selection():C;j.property("__zoom",Eh),C!==j?$(C,X,R,O):j.interrupt().each(function(){P(this,arguments).event(O).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},I.scaleBy=function(C,X,R,O){I.scaleTo(C,function(){var j=this.__zoom.k,A=typeof X=="function"?X.apply(this,arguments):X;return j*A},R,O)},I.scaleTo=function(C,X,R,O){I.transform(C,function(){var j=r.apply(this,arguments),A=this.__zoom,F=R==null?E(j):typeof R=="function"?R.apply(this,arguments):R,S=A.invert(F),T=typeof X=="function"?X.apply(this,arguments):X;return i(_(L(A,T),F,S),j,c)},R,O)},I.translateBy=function(C,X,R,O){I.transform(C,function(){return i(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof R=="function"?R.apply(this,arguments):R),r.apply(this,arguments),c)},null,O)},I.translateTo=function(C,X,R,O,j){I.transform(C,function(){var A=r.apply(this,arguments),F=this.__zoom,S=O==null?E(A):typeof O=="function"?O.apply(this,arguments):O;return i(Sl.translate(S[0],S[1]).scale(F.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof R=="function"?-R.apply(this,arguments):-R),A,c)},O,j)};function L(C,X){return X=Math.max(u[0],Math.min(u[1],X)),X===C.k?C:new mn(X,C.x,C.y)}function _(C,X,R){var O=X[0]-R[0]*C.k,j=X[1]-R[1]*C.k;return O===C.x&&j===C.y?C:new mn(C.k,O,j)}function E(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function $(C,X,R,O){C.on("start.zoom",function(){P(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(O).end()}).tween("zoom",function(){var j=this,A=arguments,F=P(j,A).event(O),S=r.apply(j,A),T=R==null?E(S):typeof R=="function"?R.apply(j,A):R,J=Math.max(S[1][0]-S[0][0],S[1][1]-S[0][1]),D=j.__zoom,z=typeof X=="function"?X.apply(j,A):X,Y=f(D.invert(T).concat(J/D.k),z.invert(T).concat(J/z.k));return function(Z){if(Z===1)Z=z;else{var Q=Y(Z),ne=J/Q[2];Z=new mn(ne,T[0]-Q[0]*ne,T[1]-Q[1]*ne)}F.zoom(null,Z)}})}function P(C,X,R){return!R&&C.__zooming||new B(C,X)}function B(C,X){this.that=C,this.args=X,this.active=0,this.sourceEvent=null,this.extent=r.apply(C,X),this.taps=0}B.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,X){return this.mouse&&C!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var X=Nt(this.that).datum();g.call(C,this.that,new z2(C,{sourceEvent:this.sourceEvent,target:I,transform:this.that.__zoom,dispatch:g}),X)}};function H(C,...X){if(!t.apply(this,arguments))return;var R=P(this,X).event(C),O=this.__zoom,j=Math.max(u[0],Math.min(u[1],O.k*Math.pow(2,l.apply(this,arguments)))),A=Ft(C);if(R.wheel)(R.mouse[0][0]!==A[0]||R.mouse[0][1]!==A[1])&&(R.mouse[1]=O.invert(R.mouse[0]=A)),clearTimeout(R.wheel);else{if(O.k===j)return;R.mouse=[A,O.invert(A)],al(this),R.start()}si(C),R.wheel=setTimeout(F,k),R.zoom("mouse",i(_(L(O,j),R.mouse[0],R.mouse[1]),R.extent,c));function F(){R.wheel=null,R.end()}}function K(C,...X){if(v||!t.apply(this,arguments))return;var R=C.currentTarget,O=P(this,X,!0).event(C),j=Nt(C.view).on("mousemove.zoom",T,!0).on("mouseup.zoom",J,!0),A=Ft(C,R),F=C.clientX,S=C.clientY;t0(C.view),Tu(C),O.mouse=[A,this.__zoom.invert(A)],al(this),O.start();function T(D){if(si(D),!O.moved){var z=D.clientX-F,Y=D.clientY-S;O.moved=z*z+Y*Y>N}O.event(D).zoom("mouse",i(_(O.that.__zoom,O.mouse[0]=Ft(D,R),O.mouse[1]),O.extent,c))}function J(D){j.on("mousemove.zoom mouseup.zoom",null),n0(D.view,O.moved),si(D),O.event(D).end()}}function W(C,...X){if(t.apply(this,arguments)){var R=this.__zoom,O=Ft(C.changedTouches?C.changedTouches[0]:C,this),j=R.invert(O),A=R.k*(C.shiftKey?.5:2),F=i(_(L(R,A),O,j),r.apply(this,X),c);si(C),d>0?Nt(this).transition().duration(d).call($,F,O,C):Nt(this).call(I.transform,F,O,C)}}function V(C,...X){if(t.apply(this,arguments)){var R=C.touches,O=R.length,j=P(this,X,C.changedTouches.length===O).event(C),A,F,S,T;for(Tu(C),F=0;F<O;++F)S=R[F],T=Ft(S,this),T=[T,this.__zoom.invert(T),S.identifier],j.touch0?!j.touch1&&j.touch0[2]!==T[2]&&(j.touch1=T,j.taps=0):(j.touch0=T,A=!0,j.taps=1+!!m);m&&(m=clearTimeout(m)),A&&(j.taps<2&&(p=T[0],m=setTimeout(function(){m=null},w)),al(this),j.start())}}function U(C,...X){if(this.__zooming){var R=P(this,X).event(C),O=C.changedTouches,j=O.length,A,F,S,T;for(si(C),A=0;A<j;++A)F=O[A],S=Ft(F,this),R.touch0&&R.touch0[2]===F.identifier?R.touch0[0]=S:R.touch1&&R.touch1[2]===F.identifier&&(R.touch1[0]=S);if(F=R.that.__zoom,R.touch1){var J=R.touch0[0],D=R.touch0[1],z=R.touch1[0],Y=R.touch1[1],Z=(Z=z[0]-J[0])*Z+(Z=z[1]-J[1])*Z,Q=(Q=Y[0]-D[0])*Q+(Q=Y[1]-D[1])*Q;F=L(F,Math.sqrt(Z/Q)),S=[(J[0]+z[0])/2,(J[1]+z[1])/2],T=[(D[0]+Y[0])/2,(D[1]+Y[1])/2]}else if(R.touch0)S=R.touch0[0],T=R.touch0[1];else return;R.zoom("touch",i(_(F,S,T),R.extent,c))}}function G(C,...X){if(this.__zooming){var R=P(this,X).event(C),O=C.changedTouches,j=O.length,A,F;for(Tu(C),v&&clearTimeout(v),v=setTimeout(function(){v=null},w),A=0;A<j;++A)F=O[A],R.touch0&&R.touch0[2]===F.identifier?delete R.touch0:R.touch1&&R.touch1[2]===F.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(F=Ft(F,this),Math.hypot(p[0]-F[0],p[1]-F[1])<M)){var S=Nt(this).on("dblclick.zoom");S&&S.apply(this,arguments)}}}return I.wheelDelta=function(C){return arguments.length?(l=typeof C=="function"?C:Js(+C),I):l},I.filter=function(C){return arguments.length?(t=typeof C=="function"?C:Js(!!C),I):t},I.touchable=function(C){return arguments.length?(a=typeof C=="function"?C:Js(!!C),I):a},I.extent=function(C){return arguments.length?(r=typeof C=="function"?C:Js([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),I):r},I.scaleExtent=function(C){return arguments.length?(u[0]=+C[0],u[1]=+C[1],I):[u[0],u[1]]},I.translateExtent=function(C){return arguments.length?(c[0][0]=+C[0][0],c[1][0]=+C[1][0],c[0][1]=+C[0][1],c[1][1]=+C[1][1],I):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},I.constrain=function(C){return arguments.length?(i=C,I):i},I.duration=function(C){return arguments.length?(d=+C,I):d},I.interpolate=function(C){return arguments.length?(f=C,I):f},I.on=function(){var C=g.on.apply(g,arguments);return C===g?I:C},I.clickDistance=function(C){return arguments.length?(N=(C=+C)*C,I):Math.sqrt(N)},I.tapDistance=function(C){return arguments.length?(M=+C,I):M},I}const en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:r,sourceHandle:i,targetHandle:l})=>`Couldn't create edge for ${t} handle id: "${t==="source"?i:l}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},yi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],x0=["Enter"," ","Escape"],w0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:r,y:i})=>`Moved selected node ${t}. New position, x: ${r}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var lo;(function(t){t.Strict="strict",t.Loose="loose"})(lo||(lo={}));var pr;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(pr||(pr={}));var vi;(function(t){t.Partial="partial",t.Full="full"})(vi||(vi={}));const k0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Bn;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Bn||(Bn={}));var ml;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(ml||(ml={}));var he;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(he||(he={}));const Nh={[he.Left]:he.Right,[he.Right]:he.Left,[he.Top]:he.Bottom,[he.Bottom]:he.Top};function _0(t){return t===null?null:t?"valid":"invalid"}const E0=t=>"id"in t&&"source"in t&&"target"in t,D2=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),gc=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Ci=(t,r=[0,0])=>{const{width:i,height:l}=vn(t),a=t.origin??r,u=i*a[0],c=l*a[1];return{x:t.position.x-u,y:t.position.y-c}},R2=(t,r={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((l,a)=>{const u=typeof a=="string";let c=!r.nodeLookup&&!u?a:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(a):gc(a)?a:r.nodeLookup.get(a.id));const d=c?yl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Cl(l,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return jl(i)},ho=(t,r={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},l=!1;return t.forEach(a=>{(r.filter===void 0||r.filter(a))&&(i=Cl(i,yl(a)),l=!0)}),l?jl(i):{x:0,y:0,width:0,height:0}},mc=(t,r,[i,l,a]=[0,0,1],u=!1,c=!1)=>{const d={...Mi(r,[i,l,a]),width:r.width/a,height:r.height/a},f=[];for(const g of t.values()){const{measured:m,selectable:p=!0,hidden:v=!1}=g;if(c&&!p||v)continue;const w=m.width??g.width??g.initialWidth??null,k=m.height??g.height??g.initialHeight??null,N=xi(d,uo(g)),M=(w??0)*(k??0),I=u&&N>0;(!g.internals.handleBounds||I||N>=M||g.dragging)&&f.push(g)}return f},O2=(t,r)=>{const i=new Set;return t.forEach(l=>{i.add(l.id)}),r.filter(l=>i.has(l.source)||i.has(l.target))};function $2(t,r){const i=new Map,l=r!=null&&r.nodes?new Set(r.nodes.map(a=>a.id)):null;return t.forEach(a=>{a.measured.width&&a.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden)&&(!l||l.has(a.id))&&i.set(a.id,a)}),i}async function F2({nodes:t,width:r,height:i,panZoom:l,minZoom:a,maxZoom:u},c){if(t.size===0)return Promise.resolve(!0);const d=$2(t,c),f=ho(d),g=yc(f,r,i,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await l.setViewport(g,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function N0({nodeId:t,nextPosition:r,nodeLookup:i,nodeOrigin:l=[0,0],nodeExtent:a,onError:u}){const c=i.get(t),d=c.parentId?i.get(c.parentId):void 0,{x:f,y:g}=d?d.internals.positionAbsolute:{x:0,y:0},m=c.origin??l;let p=c.extent||a;if(c.extent==="parent"&&!c.expandParent)if(!d)u==null||u("005",en.error005());else{const w=d.measured.width,k=d.measured.height;w&&k&&(p=[[f,g],[f+w,g+k]])}else d&&co(c.extent)&&(p=[[c.extent[0][0]+f,c.extent[0][1]+g],[c.extent[1][0]+f,c.extent[1][1]+g]]);const v=co(p)?vr(r,p,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",en.error015())),{position:{x:v.x-f+(c.measured.width??0)*m[0],y:v.y-g+(c.measured.height??0)*m[1]},positionAbsolute:v}}async function H2({nodesToRemove:t=[],edgesToRemove:r=[],nodes:i,edges:l,onBeforeDelete:a}){const u=new Set(t.map(v=>v.id)),c=[];for(const v of i){if(v.deletable===!1)continue;const w=u.has(v.id),k=!w&&v.parentId&&c.find(N=>N.id===v.parentId);(w||k)&&c.push(v)}const d=new Set(r.map(v=>v.id)),f=l.filter(v=>v.deletable!==!1),m=O2(c,f);for(const v of f)d.has(v.id)&&!m.find(k=>k.id===v.id)&&m.push(v);if(!a)return{edges:m,nodes:c};const p=await a({nodes:c,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:c}:{edges:[],nodes:[]}:p}const ao=(t,r=0,i=1)=>Math.min(Math.max(t,r),i),vr=(t={x:0,y:0},r,i)=>({x:ao(t.x,r[0][0],r[1][0]-((i==null?void 0:i.width)??0)),y:ao(t.y,r[0][1],r[1][1]-((i==null?void 0:i.height)??0))});function b0(t,r,i){const{width:l,height:a}=vn(i),{x:u,y:c}=i.internals.positionAbsolute;return vr(t,[[u,c],[u+l,c+a]],r)}const bh=(t,r,i)=>t<r?ao(Math.abs(t-r),1,r)/r:t>i?-ao(Math.abs(t-i),1,r)/r:0,S0=(t,r,i=15,l=40)=>{const a=bh(t.x,l,r.width-l)*i,u=bh(t.y,l,r.height-l)*i;return[a,u]},Cl=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),x2:Math.max(t.x2,r.x2),y2:Math.max(t.y2,r.y2)}),Ju=({x:t,y:r,width:i,height:l})=>({x:t,y:r,x2:t+i,y2:r+l}),jl=({x:t,y:r,x2:i,y2:l})=>({x:t,y:r,width:i-t,height:l-r}),uo=(t,r=[0,0])=>{var a,u;const{x:i,y:l}=gc(t)?t.internals.positionAbsolute:Ci(t,r);return{x:i,y:l,width:((a=t.measured)==null?void 0:a.width)??t.width??t.initialWidth??0,height:((u=t.measured)==null?void 0:u.height)??t.height??t.initialHeight??0}},yl=(t,r=[0,0])=>{var a,u;const{x:i,y:l}=gc(t)?t.internals.positionAbsolute:Ci(t,r);return{x:i,y:l,x2:i+(((a=t.measured)==null?void 0:a.width)??t.width??t.initialWidth??0),y2:l+(((u=t.measured)==null?void 0:u.height)??t.height??t.initialHeight??0)}},C0=(t,r)=>jl(Cl(Ju(t),Ju(r))),xi=(t,r)=>{const i=Math.max(0,Math.min(t.x+t.width,r.x+r.width)-Math.max(t.x,r.x)),l=Math.max(0,Math.min(t.y+t.height,r.y+r.height)-Math.max(t.y,r.y));return Math.ceil(i*l)},Sh=t=>Vt(t.width)&&Vt(t.height)&&Vt(t.x)&&Vt(t.y),Vt=t=>!isNaN(t)&&isFinite(t),V2=(t,r)=>{},ji=(t,r=[1,1])=>({x:r[0]*Math.round(t.x/r[0]),y:r[1]*Math.round(t.y/r[1])}),Mi=({x:t,y:r},[i,l,a],u=!1,c=[1,1])=>{const d={x:(t-i)/a,y:(r-l)/a};return u?ji(d,c):d},vl=({x:t,y:r},[i,l,a])=>({x:t*a+i,y:r*a+l});function Jr(t,r){if(typeof t=="number")return Math.floor((r-r/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(i)}if(typeof t=="string"&&t.endsWith("%")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(r*i*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function B2(t,r,i){if(typeof t=="string"||typeof t=="number"){const l=Jr(t,i),a=Jr(t,r);return{top:l,right:a,bottom:l,left:a,x:a*2,y:l*2}}if(typeof t=="object"){const l=Jr(t.top??t.y??0,i),a=Jr(t.bottom??t.y??0,i),u=Jr(t.left??t.x??0,r),c=Jr(t.right??t.x??0,r);return{top:l,right:c,bottom:a,left:u,x:u+c,y:l+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function W2(t,r,i,l,a,u){const{x:c,y:d}=vl(t,[r,i,l]),{x:f,y:g}=vl({x:t.x+t.width,y:t.y+t.height},[r,i,l]),m=a-f,p=u-g;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(m),bottom:Math.floor(p)}}const yc=(t,r,i,l,a,u)=>{const c=B2(u,r,i),d=(r-c.x)/t.width,f=(i-c.y)/t.height,g=Math.min(d,f),m=ao(g,l,a),p=t.x+t.width/2,v=t.y+t.height/2,w=r/2-p*m,k=i/2-v*m,N=W2(t,w,k,m,r,i),M={left:Math.min(N.left-c.left,0),top:Math.min(N.top-c.top,0),right:Math.min(N.right-c.right,0),bottom:Math.min(N.bottom-c.bottom,0)};return{x:w-M.left+M.right,y:k-M.top+M.bottom,zoom:m}},wi=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function co(t){return t!=null&&t!=="parent"}function vn(t){var r,i;return{width:((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth??0,height:((i=t.measured)==null?void 0:i.height)??t.height??t.initialHeight??0}}function j0(t){var r,i;return(((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth)!==void 0&&(((i=t.measured)==null?void 0:i.height)??t.height??t.initialHeight)!==void 0}function M0(t,r={width:0,height:0},i,l,a){const u={...t},c=l.get(i);if(c){const d=c.origin||a;u.x+=c.internals.positionAbsolute.x-(r.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*d[1]}return u}function Ch(t,r){if(t.size!==r.size)return!1;for(const i of t)if(!r.has(i))return!1;return!0}function U2(){let t,r;return{promise:new Promise((l,a)=>{t=l,r=a}),resolve:t,reject:r}}function Y2(t){return{...w0,...t||{}}}function ci(t,{snapGrid:r=[0,0],snapToGrid:i=!1,transform:l,containerBounds:a}){const{x:u,y:c}=Bt(t),d=Mi({x:u-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},l),{x:f,y:g}=i?ji(d,r):d;return{xSnapped:f,ySnapped:g,...d}}const vc=t=>({width:t.offsetWidth,height:t.offsetHeight}),z0=t=>{var r;return((r=t==null?void 0:t.getRootNode)==null?void 0:r.call(t))||(window==null?void 0:window.document)},X2=["INPUT","SELECT","TEXTAREA"];function I0(t){var l,a;const r=((a=(l=t.composedPath)==null?void 0:l.call(t))==null?void 0:a[0])||t.target;return(r==null?void 0:r.nodeType)!==1?!1:X2.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const P0=t=>"clientX"in t,Bt=(t,r)=>{var u,c;const i=P0(t),l=i?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,a=i?t.clientY:(c=t.touches)==null?void 0:c[0].clientY;return{x:l-((r==null?void 0:r.left)??0),y:a-((r==null?void 0:r.top)??0)}},jh=(t,r,i,l,a)=>{const u=r.querySelectorAll(`.${t}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:t,nodeId:a,position:c.getAttribute("data-handlepos"),x:(d.left-i.left)/l,y:(d.top-i.top)/l,...vc(c)}})};function T0({sourceX:t,sourceY:r,targetX:i,targetY:l,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d}){const f=t*.125+a*.375+c*.375+i*.125,g=r*.125+u*.375+d*.375+l*.125,m=Math.abs(f-t),p=Math.abs(g-r);return[f,g,m,p]}function el(t,r){return t>=0?.5*t:r*25*Math.sqrt(-t)}function Mh({pos:t,x1:r,y1:i,x2:l,y2:a,c:u}){switch(t){case he.Left:return[r-el(r-l,u),i];case he.Right:return[r+el(l-r,u),i];case he.Top:return[r,i-el(i-a,u)];case he.Bottom:return[r,i+el(a-i,u)]}}function L0({sourceX:t,sourceY:r,sourcePosition:i=he.Bottom,targetX:l,targetY:a,targetPosition:u=he.Top,curvature:c=.25}){const[d,f]=Mh({pos:i,x1:t,y1:r,x2:l,y2:a,c}),[g,m]=Mh({pos:u,x1:l,y1:a,x2:t,y2:r,c}),[p,v,w,k]=T0({sourceX:t,sourceY:r,targetX:l,targetY:a,sourceControlX:d,sourceControlY:f,targetControlX:g,targetControlY:m});return[`M${t},${r} C${d},${f} ${g},${m} ${l},${a}`,p,v,w,k]}function A0({sourceX:t,sourceY:r,targetX:i,targetY:l}){const a=Math.abs(i-t)/2,u=i<t?i+a:i-a,c=Math.abs(l-r)/2,d=l<r?l+c:l-c;return[u,d,a,c]}function G2({sourceNode:t,targetNode:r,selected:i=!1,zIndex:l=0,elevateOnSelect:a=!1,zIndexMode:u="basic"}){if(u==="manual")return l;const c=a&&i?l+1e3:l,d=Math.max(t.parentId||a&&t.selected?t.internals.z:0,r.parentId||a&&r.selected?r.internals.z:0);return c+d}function q2({sourceNode:t,targetNode:r,width:i,height:l,transform:a}){const u=Cl(yl(t),yl(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:i/a[2],height:l/a[2]};return xi(c,jl(u))>0}const Q2=({source:t,sourceHandle:r,target:i,targetHandle:l})=>`xy-edge__${t}${r||""}-${i}${l||""}`,K2=(t,r)=>r.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),D0=(t,r,i={})=>{if(!t.source||!t.target)return r;const l=i.getEdgeId||Q2;let a;return E0(t)?a={...t}:a={...t,id:l(t)},K2(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function R0({sourceX:t,sourceY:r,targetX:i,targetY:l}){const[a,u,c,d]=A0({sourceX:t,sourceY:r,targetX:i,targetY:l});return[`M ${t},${r}L ${i},${l}`,a,u,c,d]}const zh={[he.Left]:{x:-1,y:0},[he.Right]:{x:1,y:0},[he.Top]:{x:0,y:-1},[he.Bottom]:{x:0,y:1}},Z2=({source:t,sourcePosition:r=he.Bottom,target:i})=>r===he.Left||r===he.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},Ih=(t,r)=>Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));function J2({source:t,sourcePosition:r=he.Bottom,target:i,targetPosition:l=he.Top,center:a,offset:u,stepPosition:c}){const d=zh[r],f=zh[l],g={x:t.x+d.x*u,y:t.y+d.y*u},m={x:i.x+f.x*u,y:i.y+f.y*u},p=Z2({source:g,sourcePosition:r,target:m}),v=p.x!==0?"x":"y",w=p[v];let k=[],N,M;const I={x:0,y:0},L={x:0,y:0},[,,_,E]=A0({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(d[v]*f[v]===-1){v==="x"?(N=a.x??g.x+(m.x-g.x)*c,M=a.y??(g.y+m.y)/2):(N=a.x??(g.x+m.x)/2,M=a.y??g.y+(m.y-g.y)*c);const P=[{x:N,y:g.y},{x:N,y:m.y}],B=[{x:g.x,y:M},{x:m.x,y:M}];d[v]===w?k=v==="x"?P:B:k=v==="x"?B:P}else{const P=[{x:g.x,y:m.y}],B=[{x:m.x,y:g.y}];if(v==="x"?k=d.x===w?B:P:k=d.y===w?P:B,r===l){const U=Math.abs(t[v]-i[v]);if(U<=u){const G=Math.min(u-1,u-U);d[v]===w?I[v]=(g[v]>t[v]?-1:1)*G:L[v]=(m[v]>i[v]?-1:1)*G}}if(r!==l){const U=v==="x"?"y":"x",G=d[v]===f[U],C=g[U]>m[U],X=g[U]<m[U];(d[v]===1&&(!G&&C||G&&X)||d[v]!==1&&(!G&&X||G&&C))&&(k=v==="x"?P:B)}const H={x:g.x+I.x,y:g.y+I.y},K={x:m.x+L.x,y:m.y+L.y},W=Math.max(Math.abs(H.x-k[0].x),Math.abs(K.x-k[0].x)),V=Math.max(Math.abs(H.y-k[0].y),Math.abs(K.y-k[0].y));W>=V?(N=(H.x+K.x)/2,M=k[0].y):(N=k[0].x,M=(H.y+K.y)/2)}return[[t,{x:g.x+I.x,y:g.y+I.y},...k,{x:m.x+L.x,y:m.y+L.y},i],N,M,_,E]}function ek(t,r,i,l){const a=Math.min(Ih(t,r)/2,Ih(r,i)/2,l),{x:u,y:c}=r;if(t.x===u&&u===i.x||t.y===c&&c===i.y)return`L${u} ${c}`;if(t.y===c){const g=t.x<i.x?-1:1,m=t.y<i.y?1:-1;return`L ${u+a*g},${c}Q ${u},${c} ${u},${c+a*m}`}const d=t.x<i.x?1:-1,f=t.y<i.y?-1:1;return`L ${u},${c+a*f}Q ${u},${c} ${u+a*d},${c}`}function ec({sourceX:t,sourceY:r,sourcePosition:i=he.Bottom,targetX:l,targetY:a,targetPosition:u=he.Top,borderRadius:c=5,centerX:d,centerY:f,offset:g=20,stepPosition:m=.5}){const[p,v,w,k,N]=J2({source:{x:t,y:r},sourcePosition:i,target:{x:l,y:a},targetPosition:u,center:{x:d,y:f},offset:g,stepPosition:m});return[p.reduce((I,L,_)=>{let E="";return _>0&&_<p.length-1?E=ek(p[_-1],L,p[_+1],c):E=`${_===0?"M":"L"}${L.x} ${L.y}`,I+=E,I},""),v,w,k,N]}function Ph(t){var r;return t&&!!(t.internals.handleBounds||(r=t.handles)!=null&&r.length)&&!!(t.measured.width||t.width||t.initialWidth)}function tk(t){var p;const{sourceNode:r,targetNode:i}=t;if(!Ph(r)||!Ph(i))return null;const l=r.internals.handleBounds||Th(r.handles),a=i.internals.handleBounds||Th(i.handles),u=Lh((l==null?void 0:l.source)??[],t.sourceHandle),c=Lh(t.connectionMode===lo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),t.targetHandle);if(!u||!c)return(p=t.onError)==null||p.call(t,"008",en.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const d=(u==null?void 0:u.position)||he.Bottom,f=(c==null?void 0:c.position)||he.Top,g=xr(r,u,d),m=xr(i,c,f);return{sourceX:g.x,sourceY:g.y,targetX:m.x,targetY:m.y,sourcePosition:d,targetPosition:f}}function Th(t){if(!t)return null;const r=[],i=[];for(const l of t)l.width=l.width??1,l.height=l.height??1,l.type==="source"?r.push(l):l.type==="target"&&i.push(l);return{source:r,target:i}}function xr(t,r,i=he.Left,l=!1){const a=((r==null?void 0:r.x)??0)+t.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+t.internals.positionAbsolute.y,{width:c,height:d}=r??vn(t);if(l)return{x:a+c/2,y:u+d/2};switch((r==null?void 0:r.position)??i){case he.Top:return{x:a+c/2,y:u};case he.Right:return{x:a+c,y:u+d/2};case he.Bottom:return{x:a+c/2,y:u+d};case he.Left:return{x:a,y:u+d/2}}}function Lh(t,r){return t&&(r?t.find(i=>i.id===r):t[0])||null}function tc(t,r){return t?typeof t=="string"?t:`${r?`${r}__`:""}${Object.keys(t).sort().map(l=>`${l}=${t[l]}`).join("&")}`:""}function nk(t,{id:r,defaultColor:i,defaultMarkerStart:l,defaultMarkerEnd:a}){const u=new Set;return t.reduce((c,d)=>([d.markerStart||l,d.markerEnd||a].forEach(f=>{if(f&&typeof f=="object"){const g=tc(f,r);u.has(g)||(c.push({id:g,color:f.color||i,...f}),u.add(g))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}function rk(t,r,i,l,a){let u=.5;a==="start"?u=0:a==="end"&&(u=1);let c=[(t.x+t.width*u)*r.zoom+r.x,t.y*r.zoom+r.y-l],d=[-100*u,-100];switch(i){case he.Right:c=[(t.x+t.width)*r.zoom+r.x+l,(t.y+t.height*u)*r.zoom+r.y],d=[0,-100*u];break;case he.Bottom:c[1]=(t.y+t.height)*r.zoom+r.y+l,d[1]=0;break;case he.Left:c=[t.x*r.zoom+r.x-l,(t.y+t.height*u)*r.zoom+r.y],d=[-100,-100*u];break}return`translate(${c[0]}px, ${c[1]}px) translate(${d[0]}%, ${d[1]}%)`}const O0=1e3,ok=10,xc={nodeOrigin:[0,0],nodeExtent:yi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},ik={...xc,checkEquality:!0};function wc(t,r){const i={...t};for(const l in r)r[l]!==void 0&&(i[l]=r[l]);return i}function sk(t,r,i){const l=wc(xc,i);for(const a of t.values())if(a.parentId)_c(a,t,r,l);else{const u=Ci(a,l.nodeOrigin),c=co(a.extent)?a.extent:l.nodeExtent,d=vr(u,c,vn(a));a.internals.positionAbsolute=d}}function lk(t,r){if(!t.handles)return t.measured?r==null?void 0:r.internals.handleBounds:void 0;const i=[],l=[];for(const a of t.handles){const u={id:a.id,width:a.width??1,height:a.height??1,nodeId:t.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?i.push(u):a.type==="target"&&l.push(u)}return{source:i,target:l}}function kc(t){return t==="manual"}function nc(t,r,i,l={}){var g,m;const a=wc(ik,l),u={i:0},c=new Map(r),d=a!=null&&a.elevateNodesOnSelect&&!kc(a.zIndexMode)?O0:0;let f=t.length>0;r.clear(),i.clear();for(const p of t){let v=c.get(p.id);if(a.checkEquality&&p===(v==null?void 0:v.internals.userNode))r.set(p.id,v);else{const w=Ci(p,a.nodeOrigin),k=co(p.extent)?p.extent:a.nodeExtent,N=vr(w,k,vn(p));v={...a.defaults,...p,measured:{width:(g=p.measured)==null?void 0:g.width,height:(m=p.measured)==null?void 0:m.height},internals:{positionAbsolute:N,handleBounds:lk(p,v),z:$0(p,d,a.zIndexMode),userNode:p}},r.set(p.id,v)}(v.measured===void 0||v.measured.width===void 0||v.measured.height===void 0)&&!v.hidden&&(f=!1),p.parentId&&_c(v,r,i,l,u)}return f}function ak(t,r){if(!t.parentId)return;const i=r.get(t.parentId);i?i.set(t.id,t):r.set(t.parentId,new Map([[t.id,t]]))}function _c(t,r,i,l,a){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:d,zIndexMode:f}=wc(xc,l),g=t.parentId,m=r.get(g);if(!m){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ak(t,i),a&&!m.parentId&&m.internals.rootParentIndex===void 0&&f==="auto"&&(m.internals.rootParentIndex=++a.i,m.internals.z=m.internals.z+a.i*ok),a&&m.internals.rootParentIndex!==void 0&&(a.i=m.internals.rootParentIndex);const p=u&&!kc(f)?O0:0,{x:v,y:w,z:k}=uk(t,m,c,d,p,f),{positionAbsolute:N}=t.internals,M=v!==N.x||w!==N.y;(M||k!==t.internals.z)&&r.set(t.id,{...t,internals:{...t.internals,positionAbsolute:M?{x:v,y:w}:N,z:k}})}function $0(t,r,i){const l=Vt(t.zIndex)?t.zIndex:0;return kc(i)?l:l+(t.selected?r:0)}function uk(t,r,i,l,a,u){const{x:c,y:d}=r.internals.positionAbsolute,f=vn(t),g=Ci(t,i),m=co(t.extent)?vr(g,t.extent,f):g;let p=vr({x:c+m.x,y:d+m.y},l,f);t.extent==="parent"&&(p=b0(p,f,r));const v=$0(t,a,u),w=r.internals.z??0;return{x:p.x,y:p.y,z:w>=v?w+1:v}}function Ec(t,r,i,l=[0,0]){var c;const a=[],u=new Map;for(const d of t){const f=r.get(d.parentId);if(!f)continue;const g=((c=u.get(d.parentId))==null?void 0:c.expandedRect)??uo(f),m=C0(g,d.rect);u.set(d.parentId,{expandedRect:m,parent:f})}return u.size>0&&u.forEach(({expandedRect:d,parent:f},g)=>{var _;const m=f.internals.positionAbsolute,p=vn(f),v=f.origin??l,w=d.x<m.x?Math.round(Math.abs(m.x-d.x)):0,k=d.y<m.y?Math.round(Math.abs(m.y-d.y)):0,N=Math.max(p.width,Math.round(d.width)),M=Math.max(p.height,Math.round(d.height)),I=(N-p.width)*v[0],L=(M-p.height)*v[1];(w>0||k>0||I||L)&&(a.push({id:g,type:"position",position:{x:f.position.x-w+I,y:f.position.y-k+L}}),(_=i.get(g))==null||_.forEach(E=>{t.some($=>$.id===E.id)||a.push({id:E.id,type:"position",position:{x:E.position.x+w,y:E.position.y+k}})})),(p.width<d.width||p.height<d.height||w||k)&&a.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:N+(w?v[0]*w-I:0),height:M+(k?v[1]*k-L:0)}})}),a}function ck(t,r,i,l,a,u,c){const d=l==null?void 0:l.querySelector(".xyflow__viewport");let f=!1;if(!d)return{changes:[],updatedInternals:f};const g=[],m=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const w of t.values()){const k=r.get(w.id);if(!k)continue;if(k.hidden){r.set(k.id,{...k,internals:{...k.internals,handleBounds:void 0}}),f=!0;continue}const N=vc(w.nodeElement),M=k.measured.width!==N.width||k.measured.height!==N.height;if(!!(N.width&&N.height&&(M||!k.internals.handleBounds||w.force))){const L=w.nodeElement.getBoundingClientRect(),_=co(k.extent)?k.extent:u;let{positionAbsolute:E}=k.internals;k.parentId&&k.extent==="parent"?E=b0(E,N,r.get(k.parentId)):_&&(E=vr(E,_,N));const $={...k,measured:N,internals:{...k.internals,positionAbsolute:E,handleBounds:{source:jh("source",w.nodeElement,L,p,k.id),target:jh("target",w.nodeElement,L,p,k.id)}}};r.set(k.id,$),k.parentId&&_c($,r,i,{nodeOrigin:a,zIndexMode:c}),f=!0,M&&(g.push({id:k.id,type:"dimensions",dimensions:N}),k.expandParent&&k.parentId&&v.push({id:k.id,parentId:k.parentId,rect:uo($,a)}))}}if(v.length>0){const w=Ec(v,r,i,a);g.push(...w)}return{changes:g,updatedInternals:f}}async function dk({delta:t,panZoom:r,transform:i,translateExtent:l,width:a,height:u}){if(!r||!t.x&&!t.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:i[0]+t.x,y:i[1]+t.y,zoom:i[2]},[[0,0],[a,u]],l),d=!!c&&(c.x!==i[0]||c.y!==i[1]||c.k!==i[2]);return Promise.resolve(d)}function Ah(t,r,i,l,a,u){let c=a;const d=l.get(c)||new Map;l.set(c,d.set(i,r)),c=`${a}-${t}`;const f=l.get(c)||new Map;if(l.set(c,f.set(i,r)),u){c=`${a}-${t}-${u}`;const g=l.get(c)||new Map;l.set(c,g.set(i,r))}}function F0(t,r,i){t.clear(),r.clear();for(const l of i){const{source:a,target:u,sourceHandle:c=null,targetHandle:d=null}=l,f={edgeId:l.id,source:a,target:u,sourceHandle:c,targetHandle:d},g=`${a}-${c}--${u}-${d}`,m=`${u}-${d}--${a}-${c}`;Ah("source",f,m,t,a,c),Ah("target",f,g,t,u,d),r.set(l.id,l)}}function H0(t,r){if(!t.parentId)return!1;const i=r.get(t.parentId);return i?i.selected?!0:H0(i,r):!1}function Dh(t,r,i){var a;let l=t;do{if((a=l==null?void 0:l.matches)!=null&&a.call(l,r))return!0;if(l===i)return!1;l=l==null?void 0:l.parentElement}while(l);return!1}function fk(t,r,i,l){const a=new Map;for(const[u,c]of t)if((c.selected||c.id===l)&&(!c.parentId||!H0(c,t))&&(c.draggable||r&&typeof c.draggable>"u")){const d=t.get(u);d&&a.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:i.x-d.internals.positionAbsolute.x,y:i.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function Lu({nodeId:t,dragItems:r,nodeLookup:i,dragging:l=!0}){var c,d,f;const a=[];for(const[g,m]of r){const p=(c=i.get(g))==null?void 0:c.internals.userNode;p&&a.push({...p,position:m.position,dragging:l})}if(!t)return[a[0],a];const u=(d=i.get(t))==null?void 0:d.internals.userNode;return[u?{...u,position:((f=r.get(t))==null?void 0:f.position)||u.position,dragging:l}:a[0],a]}function hk({dragItems:t,snapGrid:r,x:i,y:l}){const a=t.values().next().value;if(!a)return null;const u={x:i-a.distance.x,y:l-a.distance.y},c=ji(u,r);return{x:c.x-u.x,y:c.y-u.y}}function pk({onNodeMouseDown:t,getStoreItems:r,onDragStart:i,onDrag:l,onDragStop:a}){let u={x:null,y:null},c=0,d=new Map,f=!1,g={x:0,y:0},m=null,p=!1,v=null,w=!1,k=!1,N=null;function M({noDragClassName:L,handleSelector:_,domNode:E,isSelectable:$,nodeId:P,nodeClickDistance:B=0}){v=Nt(E);function H({x:U,y:G}){const{nodeLookup:C,nodeExtent:X,snapGrid:R,snapToGrid:O,nodeOrigin:j,onNodeDrag:A,onSelectionDrag:F,onError:S,updateNodePositions:T}=r();u={x:U,y:G};let J=!1;const D=d.size>1,z=D&&X?Ju(ho(d)):null,Y=D&&O?hk({dragItems:d,snapGrid:R,x:U,y:G}):null;for(const[Z,Q]of d){if(!C.has(Z))continue;let ne={x:U-Q.distance.x,y:G-Q.distance.y};O&&(ne=Y?{x:Math.round(ne.x+Y.x),y:Math.round(ne.y+Y.y)}:ji(ne,R));let le=null;if(D&&X&&!Q.extent&&z){const{positionAbsolute:me}=Q.internals,_e=me.x-z.x+X[0][0],Ee=me.x+Q.measured.width-z.x2+X[1][0],Ce=me.y-z.y+X[0][1],Ae=me.y+Q.measured.height-z.y2+X[1][1];le=[[_e,Ce],[Ee,Ae]]}const{position:ae,positionAbsolute:pe}=N0({nodeId:Z,nextPosition:ne,nodeLookup:C,nodeExtent:le||X,nodeOrigin:j,onError:S});J=J||Q.position.x!==ae.x||Q.position.y!==ae.y,Q.position=ae,Q.internals.positionAbsolute=pe}if(k=k||J,!!J&&(T(d,!0),N&&(l||A||!P&&F))){const[Z,Q]=Lu({nodeId:P,dragItems:d,nodeLookup:C});l==null||l(N,d,Z,Q),A==null||A(N,Z,Q),P||F==null||F(N,Q)}}async function K(){if(!m)return;const{transform:U,panBy:G,autoPanSpeed:C,autoPanOnNodeDrag:X}=r();if(!X){f=!1,cancelAnimationFrame(c);return}const[R,O]=S0(g,m,C);(R!==0||O!==0)&&(u.x=(u.x??0)-R/U[2],u.y=(u.y??0)-O/U[2],await G({x:R,y:O})&&H(u)),c=requestAnimationFrame(K)}function W(U){var D;const{nodeLookup:G,multiSelectionActive:C,nodesDraggable:X,transform:R,snapGrid:O,snapToGrid:j,selectNodesOnDrag:A,onNodeDragStart:F,onSelectionDragStart:S,unselectNodesAndEdges:T}=r();p=!0,(!A||!$)&&!C&&P&&((D=G.get(P))!=null&&D.selected||T()),$&&A&&P&&(t==null||t(P));const J=ci(U.sourceEvent,{transform:R,snapGrid:O,snapToGrid:j,containerBounds:m});if(u=J,d=fk(G,X,J,P),d.size>0&&(i||F||!P&&S)){const[z,Y]=Lu({nodeId:P,dragItems:d,nodeLookup:G});i==null||i(U.sourceEvent,d,z,Y),F==null||F(U.sourceEvent,z,Y),P||S==null||S(U.sourceEvent,Y)}}const V=r0().clickDistance(B).on("start",U=>{const{domNode:G,nodeDragThreshold:C,transform:X,snapGrid:R,snapToGrid:O}=r();m=(G==null?void 0:G.getBoundingClientRect())||null,w=!1,k=!1,N=U.sourceEvent,C===0&&W(U),u=ci(U.sourceEvent,{transform:X,snapGrid:R,snapToGrid:O,containerBounds:m}),g=Bt(U.sourceEvent,m)}).on("drag",U=>{const{autoPanOnNodeDrag:G,transform:C,snapGrid:X,snapToGrid:R,nodeDragThreshold:O,nodeLookup:j}=r(),A=ci(U.sourceEvent,{transform:C,snapGrid:X,snapToGrid:R,containerBounds:m});if(N=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||P&&!j.has(P))&&(w=!0),!w){if(!f&&G&&p&&(f=!0,K()),!p){const F=Bt(U.sourceEvent,m),S=F.x-g.x,T=F.y-g.y;Math.sqrt(S*S+T*T)>O&&W(U)}(u.x!==A.xSnapped||u.y!==A.ySnapped)&&d&&p&&(g=Bt(U.sourceEvent,m),H(A))}}).on("end",U=>{if(!(!p||w)&&(f=!1,p=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:G,updateNodePositions:C,onNodeDragStop:X,onSelectionDragStop:R}=r();if(k&&(C(d,!1),k=!1),a||X||!P&&R){const[O,j]=Lu({nodeId:P,dragItems:d,nodeLookup:G,dragging:!1});a==null||a(U.sourceEvent,d,O,j),X==null||X(U.sourceEvent,O,j),P||R==null||R(U.sourceEvent,j)}}}).filter(U=>{const G=U.target;return!U.button&&(!L||!Dh(G,`.${L}`,E))&&(!_||Dh(G,_,E))});v.call(V)}function I(){v==null||v.on(".drag",null)}return{update:M,destroy:I}}function gk(t,r,i){const l=[],a={x:t.x-i,y:t.y-i,width:i*2,height:i*2};for(const u of r.values())xi(a,uo(u))>0&&l.push(u);return l}const mk=250;function yk(t,r,i,l){var d,f;let a=[],u=1/0;const c=gk(t,i,r+mk);for(const g of c){const m=[...((d=g.internals.handleBounds)==null?void 0:d.source)??[],...((f=g.internals.handleBounds)==null?void 0:f.target)??[]];for(const p of m){if(l.nodeId===p.nodeId&&l.type===p.type&&l.id===p.id)continue;const{x:v,y:w}=xr(g,p,p.position,!0),k=Math.sqrt(Math.pow(v-t.x,2)+Math.pow(w-t.y,2));k>r||(k<u?(a=[{...p,x:v,y:w}],u=k):k===u&&a.push({...p,x:v,y:w}))}}if(!a.length)return null;if(a.length>1){const g=l.type==="source"?"target":"source";return a.find(m=>m.type===g)??a[0]}return a[0]}function V0(t,r,i,l,a,u=!1){var g,m,p;const c=l.get(t);if(!c)return null;const d=a==="strict"?(g=c.internals.handleBounds)==null?void 0:g[r]:[...((m=c.internals.handleBounds)==null?void 0:m.source)??[],...((p=c.internals.handleBounds)==null?void 0:p.target)??[]],f=(i?d==null?void 0:d.find(v=>v.id===i):d==null?void 0:d[0])??null;return f&&u?{...f,...xr(c,f,f.position,!0)}:f}function B0(t,r){return t||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function vk(t,r){let i=null;return r?i=!0:t&&!r&&(i=!1),i}const W0=()=>!0;function xk(t,{connectionMode:r,connectionRadius:i,handleId:l,nodeId:a,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:f,lib:g,autoPanOnConnect:m,flowId:p,panBy:v,cancelConnection:w,onConnectStart:k,onConnect:N,onConnectEnd:M,isValidConnection:I=W0,onReconnectEnd:L,updateConnection:_,getTransform:E,getFromHandle:$,autoPanSpeed:P,dragThreshold:B=1,handleDomNode:H}){const K=z0(t.target);let W=0,V;const{x:U,y:G}=Bt(t),C=B0(u,H),X=d==null?void 0:d.getBoundingClientRect();let R=!1;if(!X||!C)return;const O=V0(a,C,l,f,r);if(!O)return;let j=Bt(t,X),A=!1,F=null,S=!1,T=null;function J(){if(!m||!X)return;const[ae,pe]=S0(j,X,P);v({x:ae,y:pe}),W=requestAnimationFrame(J)}const D={...O,nodeId:a,type:C,position:O.position},z=f.get(a);let Z={inProgress:!0,isValid:null,from:xr(z,D,he.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:z,to:j,toHandle:null,toPosition:Nh[D.position],toNode:null,pointer:j};function Q(){R=!0,_(Z),k==null||k(t,{nodeId:a,handleId:l,handleType:C})}B===0&&Q();function ne(ae){if(!R){const{x:Ae,y:tt}=Bt(ae),ot=Ae-U,vt=tt-G;if(!(ot*ot+vt*vt>B*B))return;Q()}if(!$()||!D){le(ae);return}const pe=E();j=Bt(ae,X),V=yk(Mi(j,pe,!1,[1,1]),i,f,D),A||(J(),A=!0);const me=U0(ae,{handle:V,connectionMode:r,fromNodeId:a,fromHandleId:l,fromType:c?"target":"source",isValidConnection:I,doc:K,lib:g,flowId:p,nodeLookup:f});T=me.handleDomNode,F=me.connection,S=vk(!!V,me.isValid);const _e=f.get(a),Ee=_e?xr(_e,D,he.Left,!0):Z.from,Ce={...Z,from:Ee,isValid:S,to:me.toHandle&&S?vl({x:me.toHandle.x,y:me.toHandle.y},pe):j,toHandle:me.toHandle,toPosition:S&&me.toHandle?me.toHandle.position:Nh[D.position],toNode:me.toHandle?f.get(me.toHandle.nodeId):null,pointer:j};_(Ce),Z=Ce}function le(ae){if(!("touches"in ae&&ae.touches.length>0)){if(R){(V||T)&&F&&S&&(N==null||N(F));const{inProgress:pe,...me}=Z,_e={...me,toPosition:Z.toHandle?Z.toPosition:null};M==null||M(ae,_e),u&&(L==null||L(ae,_e))}w(),cancelAnimationFrame(W),A=!1,S=!1,F=null,T=null,K.removeEventListener("mousemove",ne),K.removeEventListener("mouseup",le),K.removeEventListener("touchmove",ne),K.removeEventListener("touchend",le)}}K.addEventListener("mousemove",ne),K.addEventListener("mouseup",le),K.addEventListener("touchmove",ne),K.addEventListener("touchend",le)}function U0(t,{handle:r,connectionMode:i,fromNodeId:l,fromHandleId:a,fromType:u,doc:c,lib:d,flowId:f,isValidConnection:g=W0,nodeLookup:m}){const p=u==="target",v=r?c.querySelector(`.${d}-flow__handle[data-id="${f}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:w,y:k}=Bt(t),N=c.elementFromPoint(w,k),M=N!=null&&N.classList.contains(`${d}-flow__handle`)?N:v,I={handleDomNode:M,isValid:!1,connection:null,toHandle:null};if(M){const L=B0(void 0,M),_=M.getAttribute("data-nodeid"),E=M.getAttribute("data-handleid"),$=M.classList.contains("connectable"),P=M.classList.contains("connectableend");if(!_||!L)return I;const B={source:p?_:l,sourceHandle:p?E:a,target:p?l:_,targetHandle:p?a:E};I.connection=B;const K=$&&P&&(i===lo.Strict?p&&L==="source"||!p&&L==="target":_!==l||E!==a);I.isValid=K&&g(B),I.toHandle=V0(_,L,E,m,i,!0)}return I}const rc={onPointerDown:xk,isValid:U0};function wk({domNode:t,panZoom:r,getTransform:i,getViewScale:l}){const a=Nt(t);function u({translateExtent:d,width:f,height:g,zoomStep:m=1,pannable:p=!0,zoomable:v=!0,inversePan:w=!1}){const k=_=>{if(_.sourceEvent.type!=="wheel"||!r)return;const E=i(),$=_.sourceEvent.ctrlKey&&wi()?10:1,P=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*m,B=E[2]*Math.pow(2,P*$);r.scaleTo(B)};let N=[0,0];const M=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(N=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},I=_=>{const E=i();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!r)return;const $=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],P=[$[0]-N[0],$[1]-N[1]];N=$;const B=l()*Math.max(E[2],Math.log(E[2]))*(w?-1:1),H={x:E[0]-P[0]*B,y:E[1]-P[1]*B},K=[[0,0],[f,g]];r.setViewportConstrained({x:H.x,y:H.y,zoom:E[2]},K,d)},L=v0().on("start",M).on("zoom",p?I:null).on("zoom.wheel",v?k:null);a.call(L,{})}function c(){a.on("zoom",null)}return{update:u,destroy:c,pointer:Ft}}const Ml=t=>({x:t.x,y:t.y,zoom:t.k}),Au=({x:t,y:r,zoom:i})=>Sl.translate(t,r).scale(i),to=(t,r)=>t.target.closest(`.${r}`),Y0=(t,r)=>r===2&&Array.isArray(t)&&t.includes(2),kk=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Du=(t,r=0,i=kk,l=()=>{})=>{const a=typeof r=="number"&&r>0;return a||l(),a?t.transition().duration(r).ease(i).on("end",l):t},X0=t=>{const r=t.ctrlKey&&wi()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*r};function _k({zoomPanValues:t,noWheelClassName:r,d3Selection:i,d3Zoom:l,panOnScrollMode:a,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:f,onPanZoomEnd:g}){return m=>{if(to(m,r))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=i.property("__zoom").k||1;if(m.ctrlKey&&c){const M=Ft(m),I=X0(m),L=p*Math.pow(2,I);l.scaleTo(i,L,M,m);return}const v=m.deltaMode===1?20:1;let w=a===pr.Vertical?0:m.deltaX*v,k=a===pr.Horizontal?0:m.deltaY*v;!wi()&&m.shiftKey&&a!==pr.Vertical&&(w=m.deltaY*v,k=0),l.translateBy(i,-(w/p)*u,-(k/p)*u,{internal:!0});const N=Ml(i.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(f==null||f(m,N),t.panScrollTimeout=setTimeout(()=>{g==null||g(m,N),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,d==null||d(m,N))}}function Ek({noWheelClassName:t,preventScrolling:r,d3ZoomHandler:i}){return function(l,a){const u=l.type==="wheel",c=!r&&u&&!l.ctrlKey,d=to(l,t);if(l.ctrlKey&&u&&d&&l.preventDefault(),c||d)return null;l.preventDefault(),i.call(this,l,a)}}function Nk({zoomPanValues:t,onDraggingChange:r,onPanZoomStart:i}){return l=>{var u,c,d;if((u=l.sourceEvent)!=null&&u.internal)return;const a=Ml(l.transform);t.mouseButton=((c=l.sourceEvent)==null?void 0:c.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=a,((d=l.sourceEvent)==null?void 0:d.type)==="mousedown"&&r(!0),i&&(i==null||i(l.sourceEvent,a))}}function bk({zoomPanValues:t,panOnDrag:r,onPaneContextMenu:i,onTransformChange:l,onPanZoom:a}){return u=>{var c,d;t.usedRightMouseButton=!!(i&&Y0(r,t.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||l([u.transform.x,u.transform.y,u.transform.k]),a&&!((d=u.sourceEvent)!=null&&d.internal)&&(a==null||a(u.sourceEvent,Ml(u.transform)))}}function Sk({zoomPanValues:t,panOnDrag:r,panOnScroll:i,onDraggingChange:l,onPanZoomEnd:a,onPaneContextMenu:u}){return c=>{var d;if(!((d=c.sourceEvent)!=null&&d.internal)&&(t.isZoomingOrPanning=!1,u&&Y0(r,t.mouseButton??0)&&!t.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),t.usedRightMouseButton=!1,l(!1),a)){const f=Ml(c.transform);t.prevViewport=f,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,f)},i?150:0)}}}function Ck({zoomActivationKeyPressed:t,zoomOnScroll:r,zoomOnPinch:i,panOnDrag:l,panOnScroll:a,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:f,lib:g,connectionInProgress:m}){return p=>{var M;const v=t||r,w=i&&p.ctrlKey,k=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(to(p,`${g}-flow__node`)||to(p,`${g}-flow__edge`)))return!0;if(!l&&!v&&!a&&!u&&!i||c||m&&!k||to(p,d)&&k||to(p,f)&&(!k||a&&k&&!t)||!i&&p.ctrlKey&&k)return!1;if(!i&&p.type==="touchstart"&&((M=p.touches)==null?void 0:M.length)>1)return p.preventDefault(),!1;if(!v&&!a&&!w&&k||!l&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(l)&&!l.includes(p.button)&&p.type==="mousedown")return!1;const N=Array.isArray(l)&&l.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||k)&&N}}function jk({domNode:t,minZoom:r,maxZoom:i,translateExtent:l,viewport:a,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:d,onDraggingChange:f}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=v0().scaleExtent([r,i]).translateExtent(l),v=Nt(t).call(p);L({x:a.x,y:a.y,zoom:ao(a.zoom,r,i)},[[0,0],[m.width,m.height]],l);const w=v.on("wheel.zoom"),k=v.on("dblclick.zoom");p.wheelDelta(X0);function N(V,U){return v?new Promise(G=>{p==null||p.interpolate((U==null?void 0:U.interpolate)==="linear"?ui:il).transform(Du(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>G(!0)),V)}):Promise.resolve(!1)}function M({noWheelClassName:V,noPanClassName:U,onPaneContextMenu:G,userSelectionActive:C,panOnScroll:X,panOnDrag:R,panOnScrollMode:O,panOnScrollSpeed:j,preventScrolling:A,zoomOnPinch:F,zoomOnScroll:S,zoomOnDoubleClick:T,zoomActivationKeyPressed:J,lib:D,onTransformChange:z,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:Q}){C&&!g.isZoomingOrPanning&&I();const ne=X&&!J&&!C;p.clickDistance(Q?1/0:!Vt(Z)||Z<0?0:Z);const le=ne?_k({zoomPanValues:g,noWheelClassName:V,d3Selection:v,d3Zoom:p,panOnScrollMode:O,panOnScrollSpeed:j,zoomOnPinch:F,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:d}):Ek({noWheelClassName:V,preventScrolling:A,d3ZoomHandler:w});if(v.on("wheel.zoom",le,{passive:!1}),!C){const pe=Nk({zoomPanValues:g,onDraggingChange:f,onPanZoomStart:c});p.on("start",pe);const me=bk({zoomPanValues:g,panOnDrag:R,onPaneContextMenu:!!G,onPanZoom:u,onTransformChange:z});p.on("zoom",me);const _e=Sk({zoomPanValues:g,panOnDrag:R,panOnScroll:X,onPaneContextMenu:G,onPanZoomEnd:d,onDraggingChange:f});p.on("end",_e)}const ae=Ck({zoomActivationKeyPressed:J,panOnDrag:R,zoomOnScroll:S,panOnScroll:X,zoomOnDoubleClick:T,zoomOnPinch:F,userSelectionActive:C,noPanClassName:U,noWheelClassName:V,lib:D,connectionInProgress:Y});p.filter(ae),T?v.on("dblclick.zoom",k):v.on("dblclick.zoom",null)}function I(){p.on("zoom",null)}async function L(V,U,G){const C=Au(V),X=p==null?void 0:p.constrain()(C,U,G);return X&&await N(X),new Promise(R=>R(X))}async function _(V,U){const G=Au(V);return await N(G,U),new Promise(C=>C(G))}function E(V){if(v){const U=Au(V),G=v.property("__zoom");(G.k!==V.zoom||G.x!==V.x||G.y!==V.y)&&(p==null||p.transform(v,U,null,{sync:!0}))}}function $(){const V=v?y0(v.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function P(V,U){return v?new Promise(G=>{p==null||p.interpolate((U==null?void 0:U.interpolate)==="linear"?ui:il).scaleTo(Du(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>G(!0)),V)}):Promise.resolve(!1)}function B(V,U){return v?new Promise(G=>{p==null||p.interpolate((U==null?void 0:U.interpolate)==="linear"?ui:il).scaleBy(Du(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>G(!0)),V)}):Promise.resolve(!1)}function H(V){p==null||p.scaleExtent(V)}function K(V){p==null||p.translateExtent(V)}function W(V){const U=!Vt(V)||V<0?0:V;p==null||p.clickDistance(U)}return{update:M,destroy:I,setViewport:_,setViewportConstrained:L,getViewport:$,scaleTo:P,scaleBy:B,setScaleExtent:H,setTranslateExtent:K,syncViewport:E,setClickDistance:W}}var wr;(function(t){t.Line="line",t.Handle="handle"})(wr||(wr={}));const Mk=["top-left","top-right","bottom-left","bottom-right"],zk=["top","right","bottom","left"];function Ik({width:t,prevWidth:r,height:i,prevHeight:l,affectsX:a,affectsY:u}){const c=t-r,d=i-l,f=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&a&&(f[0]=f[0]*-1),d&&u&&(f[1]=f[1]*-1),f}function Rh(t){const r=t.includes("right")||t.includes("left"),i=t.includes("bottom")||t.includes("top"),l=t.includes("left"),a=t.includes("top");return{isHorizontal:r,isVertical:i,affectsX:l,affectsY:a}}function Hn(t,r){return Math.max(0,r-t)}function Vn(t,r){return Math.max(0,t-r)}function tl(t,r,i){return Math.max(0,r-t,t-i)}function Oh(t,r){return t?!r:r}function Pk(t,r,i,l,a,u,c,d){let{affectsX:f,affectsY:g}=r;const{isHorizontal:m,isVertical:p}=r,v=m&&p,{xSnapped:w,ySnapped:k}=i,{minWidth:N,maxWidth:M,minHeight:I,maxHeight:L}=l,{x:_,y:E,width:$,height:P,aspectRatio:B}=t;let H=Math.floor(m?w-t.pointerX:0),K=Math.floor(p?k-t.pointerY:0);const W=$+(f?-H:H),V=P+(g?-K:K),U=-u[0]*$,G=-u[1]*P;let C=tl(W,N,M),X=tl(V,I,L);if(c){let j=0,A=0;f&&H<0?j=Hn(_+H+U,c[0][0]):!f&&H>0&&(j=Vn(_+W+U,c[1][0])),g&&K<0?A=Hn(E+K+G,c[0][1]):!g&&K>0&&(A=Vn(E+V+G,c[1][1])),C=Math.max(C,j),X=Math.max(X,A)}if(d){let j=0,A=0;f&&H>0?j=Vn(_+H,d[0][0]):!f&&H<0&&(j=Hn(_+W,d[1][0])),g&&K>0?A=Vn(E+K,d[0][1]):!g&&K<0&&(A=Hn(E+V,d[1][1])),C=Math.max(C,j),X=Math.max(X,A)}if(a){if(m){const j=tl(W/B,I,L)*B;if(C=Math.max(C,j),c){let A=0;!f&&!g||f&&!g&&v?A=Vn(E+G+W/B,c[1][1])*B:A=Hn(E+G+(f?H:-H)/B,c[0][1])*B,C=Math.max(C,A)}if(d){let A=0;!f&&!g||f&&!g&&v?A=Hn(E+W/B,d[1][1])*B:A=Vn(E+(f?H:-H)/B,d[0][1])*B,C=Math.max(C,A)}}if(p){const j=tl(V*B,N,M)/B;if(X=Math.max(X,j),c){let A=0;!f&&!g||g&&!f&&v?A=Vn(_+V*B+U,c[1][0])/B:A=Hn(_+(g?K:-K)*B+U,c[0][0])/B,X=Math.max(X,A)}if(d){let A=0;!f&&!g||g&&!f&&v?A=Hn(_+V*B,d[1][0])/B:A=Vn(_+(g?K:-K)*B,d[0][0])/B,X=Math.max(X,A)}}}K=K+(K<0?X:-X),H=H+(H<0?C:-C),a&&(v?W>V*B?K=(Oh(f,g)?-H:H)/B:H=(Oh(f,g)?-K:K)*B:m?(K=H/B,g=f):(H=K*B,f=g));const R=f?_+H:_,O=g?E+K:E;return{width:$+(f?-H:H),height:P+(g?-K:K),x:u[0]*H*(f?-1:1)+R,y:u[1]*K*(g?-1:1)+O}}const G0={width:0,height:0,x:0,y:0},Tk={...G0,pointerX:0,pointerY:0,aspectRatio:1};function Lk(t){return[[0,0],[t.measured.width,t.measured.height]]}function Ak(t,r,i){const l=r.position.x+t.position.x,a=r.position.y+t.position.y,u=t.measured.width??0,c=t.measured.height??0,d=i[0]*u,f=i[1]*c;return[[l-d,a-f],[l+u-d,a+c-f]]}function Dk({domNode:t,nodeId:r,getStoreItems:i,onChange:l,onEnd:a}){const u=Nt(t);let c={controlDirection:Rh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:g,boundaries:m,keepAspectRatio:p,resizeDirection:v,onResizeStart:w,onResize:k,onResizeEnd:N,shouldResize:M}){let I={...G0},L={...Tk};c={boundaries:m,resizeDirection:v,keepAspectRatio:p,controlDirection:Rh(g)};let _,E=null,$=[],P,B,H,K=!1;const W=r0().on("start",V=>{const{nodeLookup:U,transform:G,snapGrid:C,snapToGrid:X,nodeOrigin:R,paneDomNode:O}=i();if(_=U.get(r),!_)return;E=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:A}=ci(V.sourceEvent,{transform:G,snapGrid:C,snapToGrid:X,containerBounds:E});I={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},L={...I,pointerX:j,pointerY:A,aspectRatio:I.width/I.height},P=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(P=U.get(_.parentId),B=P&&_.extent==="parent"?Lk(P):void 0),$=[],H=void 0;for(const[F,S]of U)if(S.parentId===r&&($.push({id:F,position:{...S.position},extent:S.extent}),S.extent==="parent"||S.expandParent)){const T=Ak(S,_,S.origin??R);H?H=[[Math.min(T[0][0],H[0][0]),Math.min(T[0][1],H[0][1])],[Math.max(T[1][0],H[1][0]),Math.max(T[1][1],H[1][1])]]:H=T}w==null||w(V,{...I})}).on("drag",V=>{const{transform:U,snapGrid:G,snapToGrid:C,nodeOrigin:X}=i(),R=ci(V.sourceEvent,{transform:U,snapGrid:G,snapToGrid:C,containerBounds:E}),O=[];if(!_)return;const{x:j,y:A,width:F,height:S}=I,T={},J=_.origin??X,{width:D,height:z,x:Y,y:Z}=Pk(L,c.controlDirection,R,c.boundaries,c.keepAspectRatio,J,B,H),Q=D!==F,ne=z!==S,le=Y!==j&&Q,ae=Z!==A&&ne;if(!le&&!ae&&!Q&&!ne)return;if((le||ae||J[0]===1||J[1]===1)&&(T.x=le?Y:I.x,T.y=ae?Z:I.y,I.x=T.x,I.y=T.y,$.length>0)){const Ee=Y-j,Ce=Z-A;for(const Ae of $)Ae.position={x:Ae.position.x-Ee+J[0]*(D-F),y:Ae.position.y-Ce+J[1]*(z-S)},O.push(Ae)}if((Q||ne)&&(T.width=Q&&(!c.resizeDirection||c.resizeDirection==="horizontal")?D:I.width,T.height=ne&&(!c.resizeDirection||c.resizeDirection==="vertical")?z:I.height,I.width=T.width,I.height=T.height),P&&_.expandParent){const Ee=J[0]*(T.width??0);T.x&&T.x<Ee&&(I.x=Ee,L.x=L.x-(T.x-Ee));const Ce=J[1]*(T.height??0);T.y&&T.y<Ce&&(I.y=Ce,L.y=L.y-(T.y-Ce))}const pe=Ik({width:I.width,prevWidth:F,height:I.height,prevHeight:S,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),me={...I,direction:pe};(M==null?void 0:M(V,me))!==!1&&(K=!0,k==null||k(V,me),l(T,O))}).on("end",V=>{K&&(N==null||N(V,{...I}),a==null||a({...I}),K=!1)});u.call(W)}function f(){u.on(".drag",null)}return{update:d,destroy:f}}var Ru={exports:{}},Ou={},$u={exports:{}},Fu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function Rk(){if($h)return Fu;$h=1;var t=_i();function r(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var i=typeof Object.is=="function"?Object.is:r,l=t.useState,a=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function d(p,v){var w=v(),k=l({inst:{value:w,getSnapshot:v}}),N=k[0].inst,M=k[1];return u(function(){N.value=w,N.getSnapshot=v,f(N)&&M({inst:N})},[p,w,v]),a(function(){return f(N)&&M({inst:N}),p(function(){f(N)&&M({inst:N})})},[p]),c(w),w}function f(p){var v=p.getSnapshot;p=p.value;try{var w=v();return!i(p,w)}catch{return!0}}function g(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return Fu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Fu}var Fh;function Ok(){return Fh||(Fh=1,$u.exports=Rk()),$u.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function $k(){if(Hh)return Ou;Hh=1;var t=_i(),r=Ok();function i(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,u=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Ou.useSyncExternalStoreWithSelector=function(g,m,p,v,w){var k=u(null);if(k.current===null){var N={hasValue:!1,value:null};k.current=N}else N=k.current;k=d(function(){function I(P){if(!L){if(L=!0,_=P,P=v(P),w!==void 0&&N.hasValue){var B=N.value;if(w(B,P))return E=B}return E=P}if(B=E,l(_,P))return B;var H=v(P);return w!==void 0&&w(B,H)?(_=P,B):(_=P,E=H)}var L=!1,_,E,$=p===void 0?null:p;return[function(){return I(m())},$===null?void 0:function(){return I($())}]},[m,p,v,w]);var M=a(g,k[0],k[1]);return c(function(){N.hasValue=!0,N.value=M},[M]),f(M),M},Ou}var Vh;function Fk(){return Vh||(Vh=1,Ru.exports=$k()),Ru.exports}var Hk=Fk();const Vk=ic(Hk),Bk={},Bh=t=>{let r;const i=new Set,l=(m,p)=>{const v=typeof m=="function"?m(r):m;if(!Object.is(v,r)){const w=r;r=p??(typeof v!="object"||v===null)?v:Object.assign({},r,v),i.forEach(k=>k(r,w))}},a=()=>r,f={setState:l,getState:a,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{(Bk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=r=t(l,a,f);return f},Wk=t=>t?Bh(t):Bh,{useDebugValue:Uk}=fo,{useSyncExternalStoreWithSelector:Yk}=Vk,Xk=t=>t;function q0(t,r=Xk,i){const l=Yk(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,i);return Uk(l),l}const Wh=(t,r)=>{const i=Wk(t),l=(a,u=r)=>q0(i,a,u);return Object.assign(l,i),l},Gk=(t,r)=>t?Wh(t,r):Wh;function Oe(t,r){if(Object.is(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(const[l,a]of t)if(!Object.is(a,r.get(l)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(const l of t)if(!r.has(l))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(r).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(r,l)||!Object.is(t[l],r[l]))return!1;return!0}var qk=pp();const zl=re.createContext(null),Qk=zl.Provider,Q0=en.error001();function Me(t,r){const i=re.useContext(zl);if(i===null)throw new Error(Q0);return q0(i,t,r)}function Fe(){const t=re.useContext(zl);if(t===null)throw new Error(Q0);return re.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Uh={display:"none"},Kk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},K0="react-flow__node-desc",Z0="react-flow__edge-desc",Zk="react-flow__aria-live",Jk=t=>t.ariaLiveMessage,e_=t=>t.ariaLabelConfig;function t_({rfId:t}){const r=Me(Jk);return x.jsx("div",{id:`${Zk}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Kk,children:r})}function n_({rfId:t,disableKeyboardA11y:r}){const i=Me(e_);return x.jsxs(x.Fragment,{children:[x.jsx("div",{id:`${K0}-${t}`,style:Uh,children:r?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),x.jsx("div",{id:`${Z0}-${t}`,style:Uh,children:i["edge.a11yDescription.default"]}),!r&&x.jsx(t_,{rfId:t})]})}const gr=re.forwardRef(({position:t="top-left",children:r,className:i,style:l,...a},u)=>{const c=`${t}`.split("-");return x.jsx("div",{className:Ye(["react-flow__panel",i,...c]),style:l,ref:u,...a,children:r})});gr.displayName="Panel";function r_({proOptions:t,position:r="bottom-right"}){return t!=null&&t.hideAttribution?null:x.jsx(gr,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const o_=t=>{const r=[],i=[];for(const[,l]of t.nodeLookup)l.selected&&r.push(l.internals.userNode);for(const[,l]of t.edgeLookup)l.selected&&i.push(l);return{selectedNodes:r,selectedEdges:i}},nl=t=>t.id;function i_(t,r){return Oe(t.selectedNodes.map(nl),r.selectedNodes.map(nl))&&Oe(t.selectedEdges.map(nl),r.selectedEdges.map(nl))}function s_({onSelectionChange:t}){const r=Fe(),{selectedNodes:i,selectedEdges:l}=Me(o_,i_);return re.useEffect(()=>{const a={nodes:i,edges:l};t==null||t(a),r.getState().onSelectionChangeHandlers.forEach(u=>u(a))},[i,l,t]),null}const l_=t=>!!t.onSelectionChangeHandlers;function a_({onSelectionChange:t}){const r=Me(l_);return t||r?x.jsx(s_,{onSelectionChange:t}):null}const J0=[0,0],u_={x:0,y:0,zoom:1},c_=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Yh=[...c_,"rfId"],d_=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Xh={translateExtent:yi,nodeOrigin:J0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function f_(t){const{setNodes:r,setEdges:i,setMinZoom:l,setMaxZoom:a,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:f}=Me(d_,Oe),g=Fe();re.useEffect(()=>(f(t.defaultNodes,t.defaultEdges),()=>{m.current=Xh,d()}),[]);const m=re.useRef(Xh);return re.useEffect(()=>{for(const p of Yh){const v=t[p],w=m.current[p];v!==w&&(typeof t[p]>"u"||(p==="nodes"?r(v):p==="edges"?i(v):p==="minZoom"?l(v):p==="maxZoom"?a(v):p==="translateExtent"?u(v):p==="nodeExtent"?c(v):p==="ariaLabelConfig"?g.setState({ariaLabelConfig:Y2(v)}):p==="fitView"?g.setState({fitViewQueued:v}):p==="fitViewOptions"?g.setState({fitViewOptions:v}):g.setState({[p]:v})))}m.current=t},Yh.map(p=>t[p])),null}function Gh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function h_(t){var l;const[r,i]=re.useState(t==="system"?null:t);return re.useEffect(()=>{if(t!=="system"){i(t);return}const a=Gh(),u=()=>i(a!=null&&a.matches?"dark":"light");return u(),a==null||a.addEventListener("change",u),()=>{a==null||a.removeEventListener("change",u)}},[t]),r!==null?r:(l=Gh())!=null&&l.matches?"dark":"light"}const qh=typeof document<"u"?document:null;function ki(t=null,r={target:qh,actInsideInputWithModifier:!0}){const[i,l]=re.useState(!1),a=re.useRef(!1),u=re.useRef(new Set([])),[c,d]=re.useMemo(()=>{if(t!==null){const g=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=g.reduce((p,v)=>p.concat(...v),[]);return[g,m]}return[[],[]]},[t]);return re.useEffect(()=>{const f=(r==null?void 0:r.target)??qh,g=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(t!==null){const m=w=>{var M,I;if(a.current=w.ctrlKey||w.metaKey||w.shiftKey||w.altKey,(!a.current||a.current&&!g)&&I0(w))return!1;const N=Kh(w.code,d);if(u.current.add(w[N]),Qh(c,u.current,!1)){const L=((I=(M=w.composedPath)==null?void 0:M.call(w))==null?void 0:I[0])||w.target,_=(L==null?void 0:L.nodeName)==="BUTTON"||(L==null?void 0:L.nodeName)==="A";r.preventDefault!==!1&&(a.current||!_)&&w.preventDefault(),l(!0)}},p=w=>{const k=Kh(w.code,d);Qh(c,u.current,!0)?(l(!1),u.current.clear()):u.current.delete(w[k]),w.key==="Meta"&&u.current.clear(),a.current=!1},v=()=>{u.current.clear(),l(!1)};return f==null||f.addEventListener("keydown",m),f==null||f.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{f==null||f.removeEventListener("keydown",m),f==null||f.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,l]),i}function Qh(t,r,i){return t.filter(l=>i||l.length===r.size).some(l=>l.every(a=>r.has(a)))}function Kh(t,r){return r.includes(t)?"code":"key"}const p_=()=>{const t=Fe();return re.useMemo(()=>({zoomIn:r=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,i)=>{const{panZoom:l}=t.getState();return l?l.scaleTo(r,{duration:i==null?void 0:i.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(r,i)=>{const{transform:[l,a,u],panZoom:c}=t.getState();return c?(await c.setViewport({x:r.x??l,y:r.y??a,zoom:r.zoom??u},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,i,l]=t.getState().transform;return{x:r,y:i,zoom:l}},setCenter:async(r,i,l)=>t.getState().setCenter(r,i,l),fitBounds:async(r,i)=>{const{width:l,height:a,minZoom:u,maxZoom:c,panZoom:d}=t.getState(),f=yc(r,l,a,u,c,(i==null?void 0:i.padding)??.1);return d?(await d.setViewport(f,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,i={})=>{const{transform:l,snapGrid:a,snapToGrid:u,domNode:c}=t.getState();if(!c)return r;const{x:d,y:f}=c.getBoundingClientRect(),g={x:r.x-d,y:r.y-f},m=i.snapGrid??a,p=i.snapToGrid??u;return Mi(g,l,p,m)},flowToScreenPosition:r=>{const{transform:i,domNode:l}=t.getState();if(!l)return r;const{x:a,y:u}=l.getBoundingClientRect(),c=vl(r,i);return{x:c.x+a,y:c.y+u}}}),[])};function eg(t,r){const i=[],l=new Map,a=[];for(const u of t)if(u.type==="add"){a.push(u);continue}else if(u.type==="remove"||u.type==="replace")l.set(u.id,[u]);else{const c=l.get(u.id);c?c.push(u):l.set(u.id,[u])}for(const u of r){const c=l.get(u.id);if(!c){i.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){i.push({...c[0].item});continue}const d={...u};for(const f of c)g_(f,d);i.push(d)}return a.length&&a.forEach(u=>{u.index!==void 0?i.splice(u.index,0,{...u.item}):i.push({...u.item})}),i}function g_(t,r){switch(t.type){case"select":{r.selected=t.selected;break}case"position":{typeof t.position<"u"&&(r.position=t.position),typeof t.dragging<"u"&&(r.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(r.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(r.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(r.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(r.resizing=t.resizing);break}}}function tg(t,r){return eg(t,r)}function ng(t,r){return eg(t,r)}function dr(t,r){return{id:t,type:"select",selected:r}}function no(t,r=new Set,i=!1){const l=[];for(const[a,u]of t){const c=r.has(a);!(u.selected===void 0&&!c)&&u.selected!==c&&(i&&(u.selected=c),l.push(dr(u.id,c)))}return l}function Zh({items:t=[],lookup:r}){var a;const i=[],l=new Map(t.map(u=>[u.id,u]));for(const[u,c]of t.entries()){const d=r.get(c.id),f=((a=d==null?void 0:d.internals)==null?void 0:a.userNode)??d;f!==void 0&&f!==c&&i.push({id:c.id,item:c,type:"replace"}),f===void 0&&i.push({item:c,type:"add",index:u})}for(const[u]of r)l.get(u)===void 0&&i.push({id:u,type:"remove"});return i}function Jh(t){return{id:t.id,type:"remove"}}const ep=t=>D2(t),m_=t=>E0(t);function rg(t){return re.forwardRef(t)}const y_=typeof window<"u"?re.useLayoutEffect:re.useEffect;function tp(t){const[r,i]=re.useState(BigInt(0)),[l]=re.useState(()=>v_(()=>i(a=>a+BigInt(1))));return y_(()=>{const a=l.get();a.length&&(t(a),l.reset())},[r]),l}function v_(t){let r=[];return{get:()=>r,reset:()=>{r=[]},push:i=>{r.push(i),t()}}}const og=re.createContext(null);function x_({children:t}){const r=Fe(),i=re.useCallback(d=>{const{nodes:f=[],setNodes:g,hasDefaultNodes:m,onNodesChange:p,nodeLookup:v,fitViewQueued:w,onNodesChangeMiddlewareMap:k}=r.getState();let N=f;for(const I of d)N=typeof I=="function"?I(N):I;let M=Zh({items:N,lookup:v});for(const I of k.values())M=I(M);m&&g(N),M.length>0?p==null||p(M):w&&window.requestAnimationFrame(()=>{const{fitViewQueued:I,nodes:L,setNodes:_}=r.getState();I&&_(L)})},[]),l=tp(i),a=re.useCallback(d=>{const{edges:f=[],setEdges:g,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:v}=r.getState();let w=f;for(const k of d)w=typeof k=="function"?k(w):k;m?g(w):p&&p(Zh({items:w,lookup:v}))},[]),u=tp(a),c=re.useMemo(()=>({nodeQueue:l,edgeQueue:u}),[]);return x.jsx(og.Provider,{value:c,children:t})}function w_(){const t=re.useContext(og);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const k_=t=>!!t.panZoom;function kr(){const t=p_(),r=Fe(),i=w_(),l=Me(k_),a=re.useMemo(()=>{const u=p=>r.getState().nodeLookup.get(p),c=p=>{i.nodeQueue.push(p)},d=p=>{i.edgeQueue.push(p)},f=p=>{var I,L;const{nodeLookup:v,nodeOrigin:w}=r.getState(),k=ep(p)?p:v.get(p.id),N=k.parentId?M0(k.position,k.measured,k.parentId,v,w):k.position,M={...k,position:N,width:((I=k.measured)==null?void 0:I.width)??k.width,height:((L=k.measured)==null?void 0:L.height)??k.height};return uo(M)},g=(p,v,w={replace:!1})=>{c(k=>k.map(N=>{if(N.id===p){const M=typeof v=="function"?v(N):v;return w.replace&&ep(M)?M:{...N,...M}}return N}))},m=(p,v,w={replace:!1})=>{d(k=>k.map(N=>{if(N.id===p){const M=typeof v=="function"?v(N):v;return w.replace&&m_(M)?M:{...N,...M}}return N}))};return{getNodes:()=>r.getState().nodes.map(p=>({...p})),getNode:p=>{var v;return(v=u(p))==null?void 0:v.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:p=[]}=r.getState();return p.map(v=>({...v}))},getEdge:p=>r.getState().edgeLookup.get(p),setNodes:c,setEdges:d,addNodes:p=>{const v=Array.isArray(p)?p:[p];i.nodeQueue.push(w=>[...w,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];i.edgeQueue.push(w=>[...w,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:w}=r.getState(),[k,N,M]=w;return{nodes:p.map(I=>({...I})),edges:v.map(I=>({...I})),viewport:{x:k,y:N,zoom:M}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:w,edges:k,onNodesDelete:N,onEdgesDelete:M,triggerNodeChanges:I,triggerEdgeChanges:L,onDelete:_,onBeforeDelete:E}=r.getState(),{nodes:$,edges:P}=await H2({nodesToRemove:p,edgesToRemove:v,nodes:w,edges:k,onBeforeDelete:E}),B=P.length>0,H=$.length>0;if(B){const K=P.map(Jh);M==null||M(P),L(K)}if(H){const K=$.map(Jh);N==null||N($),I(K)}return(H||B)&&(_==null||_({nodes:$,edges:P})),{deletedNodes:$,deletedEdges:P}},getIntersectingNodes:(p,v=!0,w)=>{const k=Sh(p),N=k?p:f(p),M=w!==void 0;return N?(w||r.getState().nodes).filter(I=>{const L=r.getState().nodeLookup.get(I.id);if(L&&!k&&(I.id===p.id||!L.internals.positionAbsolute))return!1;const _=uo(M?I:L),E=xi(_,N);return v&&E>0||E>=_.width*_.height||E>=N.width*N.height}):[]},isNodeIntersecting:(p,v,w=!0)=>{const N=Sh(p)?p:f(p);if(!N)return!1;const M=xi(N,v);return w&&M>0||M>=v.width*v.height||M>=N.width*N.height},updateNode:g,updateNodeData:(p,v,w={replace:!1})=>{g(p,k=>{const N=typeof v=="function"?v(k):v;return w.replace?{...k,data:N}:{...k,data:{...k.data,...N}}},w)},updateEdge:m,updateEdgeData:(p,v,w={replace:!1})=>{m(p,k=>{const N=typeof v=="function"?v(k):v;return w.replace?{...k,data:N}:{...k,data:{...k.data,...N}}},w)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:w}=r.getState();return R2(p,{nodeLookup:v,nodeOrigin:w})},getHandleConnections:({type:p,id:v,nodeId:w})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${w}-${p}${v?`-${v}`:""}`))==null?void 0:k.values())??[])},getNodeConnections:({type:p,handleId:v,nodeId:w})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${w}${p?v?`-${p}-${v}`:`-${p}`:""}`))==null?void 0:k.values())??[])},fitView:async p=>{const v=r.getState().fitViewResolver??U2();return r.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),i.nodeQueue.push(w=>[...w]),v.promise}}},[]);return re.useMemo(()=>({...a,...t,viewportInitialized:l}),[l])}const np=t=>t.selected,__=typeof window<"u"?window:void 0;function E_({deleteKeyCode:t,multiSelectionKeyCode:r}){const i=Fe(),{deleteElements:l}=kr(),a=ki(t,{actInsideInputWithModifier:!1}),u=ki(r,{target:__});re.useEffect(()=>{if(a){const{edges:c,nodes:d}=i.getState();l({nodes:d.filter(np),edges:c.filter(np)}),i.setState({nodesSelectionActive:!1})}},[a]),re.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])}function N_(t){const r=Fe();re.useEffect(()=>{const i=()=>{var a,u,c,d;if(!t.current||!(((u=(a=t.current).checkVisibility)==null?void 0:u.call(a))??!0))return!1;const l=vc(t.current);(l.height===0||l.width===0)&&((d=(c=r.getState()).onError)==null||d.call(c,"004",en.error004())),r.setState({width:l.width||500,height:l.height||500})};if(t.current){i(),window.addEventListener("resize",i);const l=new ResizeObserver(()=>i());return l.observe(t.current),()=>{window.removeEventListener("resize",i),l&&t.current&&l.unobserve(t.current)}}},[])}const Il={position:"absolute",width:"100%",height:"100%",top:0,left:0},b_=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function S_({onPaneContextMenu:t,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=pr.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:f,translateExtent:g,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:w=!0,children:k,noWheelClassName:N,noPanClassName:M,onViewportChange:I,isControlledViewport:L,paneClickDistance:_,selectionOnDrag:E}){const $=Fe(),P=re.useRef(null),{userSelectionActive:B,lib:H,connectionInProgress:K}=Me(b_,Oe),W=ki(v),V=re.useRef();N_(P);const U=re.useCallback(G=>{I==null||I({x:G[0],y:G[1],zoom:G[2]}),L||$.setState({transform:G})},[I,L]);return re.useEffect(()=>{if(P.current){V.current=jk({domNode:P.current,minZoom:m,maxZoom:p,translateExtent:g,viewport:f,onDraggingChange:R=>$.setState({paneDragging:R}),onPanZoomStart:(R,O)=>{const{onViewportChangeStart:j,onMoveStart:A}=$.getState();A==null||A(R,O),j==null||j(O)},onPanZoom:(R,O)=>{const{onViewportChange:j,onMove:A}=$.getState();A==null||A(R,O),j==null||j(O)},onPanZoomEnd:(R,O)=>{const{onViewportChangeEnd:j,onMoveEnd:A}=$.getState();A==null||A(R,O),j==null||j(O)}});const{x:G,y:C,zoom:X}=V.current.getViewport();return $.setState({panZoom:V.current,transform:[G,C,X],domNode:P.current.closest(".react-flow")}),()=>{var R;(R=V.current)==null||R.destroy()}}},[]),re.useEffect(()=>{var G;(G=V.current)==null||G.update({onPaneContextMenu:t,zoomOnScroll:r,zoomOnPinch:i,panOnScroll:l,panOnScrollSpeed:a,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:W,preventScrolling:w,noPanClassName:M,userSelectionActive:B,noWheelClassName:N,lib:H,onTransformChange:U,connectionInProgress:K,selectionOnDrag:E,paneClickDistance:_})},[t,r,i,l,a,u,c,d,W,w,M,B,N,H,U,K,E,_]),x.jsx("div",{className:"react-flow__renderer",ref:P,style:Il,children:k})}const C_=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function j_(){const{userSelectionActive:t,userSelectionRect:r}=Me(C_,Oe);return t&&r?x.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const Hu=(t,r)=>i=>{i.target===r.current&&(t==null||t(i))},M_=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function z_({isSelecting:t,selectionKeyPressed:r,selectionMode:i=vi.Full,panOnDrag:l,paneClickDistance:a,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:g,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:w,children:k}){const N=Fe(),{userSelectionActive:M,elementsSelectable:I,dragging:L,connectionInProgress:_}=Me(M_,Oe),E=I&&(t||M),$=re.useRef(null),P=re.useRef(),B=re.useRef(new Set),H=re.useRef(new Set),K=re.useRef(!1),W=j=>{if(K.current||_){K.current=!1;return}f==null||f(j),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},V=j=>{if(Array.isArray(l)&&(l!=null&&l.includes(2))){j.preventDefault();return}g==null||g(j)},U=m?j=>m(j):void 0,G=j=>{K.current&&(j.stopPropagation(),K.current=!1)},C=j=>{var z,Y;const{domNode:A}=N.getState();if(P.current=A==null?void 0:A.getBoundingClientRect(),!P.current)return;const F=j.target===$.current;if(!F&&!!j.target.closest(".nokey")||!t||!(u&&F||r)||j.button!==0||!j.isPrimary)return;(Y=(z=j.target)==null?void 0:z.setPointerCapture)==null||Y.call(z,j.pointerId),K.current=!1;const{x:J,y:D}=Bt(j.nativeEvent,P.current);N.setState({userSelectionRect:{width:0,height:0,startX:J,startY:D,x:J,y:D}}),F||(j.stopPropagation(),j.preventDefault())},X=j=>{const{userSelectionRect:A,transform:F,nodeLookup:S,edgeLookup:T,connectionLookup:J,triggerNodeChanges:D,triggerEdgeChanges:z,defaultEdgeOptions:Y,resetSelectedElements:Z}=N.getState();if(!P.current||!A)return;const{x:Q,y:ne}=Bt(j.nativeEvent,P.current),{startX:le,startY:ae}=A;if(!K.current){const Ce=r?0:a;if(Math.hypot(Q-le,ne-ae)<=Ce)return;Z(),c==null||c(j)}K.current=!0;const pe={startX:le,startY:ae,x:Q<le?Q:le,y:ne<ae?ne:ae,width:Math.abs(Q-le),height:Math.abs(ne-ae)},me=B.current,_e=H.current;B.current=new Set(mc(S,pe,F,i===vi.Partial,!0).map(Ce=>Ce.id)),H.current=new Set;const Ee=(Y==null?void 0:Y.selectable)??!0;for(const Ce of B.current){const Ae=J.get(Ce);if(Ae)for(const{edgeId:tt}of Ae.values()){const ot=T.get(tt);ot&&(ot.selectable??Ee)&&H.current.add(tt)}}if(!Ch(me,B.current)){const Ce=no(S,B.current,!0);D(Ce)}if(!Ch(_e,H.current)){const Ce=no(T,H.current);z(Ce)}N.setState({userSelectionRect:pe,userSelectionActive:!0,nodesSelectionActive:!1})},R=j=>{var A,F;j.button===0&&((F=(A=j.target)==null?void 0:A.releasePointerCapture)==null||F.call(A,j.pointerId),!M&&j.target===$.current&&N.getState().userSelectionRect&&(W==null||W(j)),N.setState({userSelectionActive:!1,userSelectionRect:null}),K.current&&(d==null||d(j),N.setState({nodesSelectionActive:B.current.size>0})))},O=l===!0||Array.isArray(l)&&l.includes(0);return x.jsxs("div",{className:Ye(["react-flow__pane",{draggable:O,dragging:L,selection:t}]),onClick:E?void 0:Hu(W,$),onContextMenu:Hu(V,$),onWheel:Hu(U,$),onPointerEnter:E?void 0:p,onPointerMove:E?X:v,onPointerUp:E?R:void 0,onPointerDownCapture:E?C:void 0,onClickCapture:E?G:void 0,onPointerLeave:w,ref:$,style:Il,children:[k,x.jsx(j_,{})]})}function oc({id:t,store:r,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:f}=r.getState(),g=d.get(t);if(!g){f==null||f("012",en.error012(t));return}r.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&c)&&(u({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=l==null?void 0:l.current)==null?void 0:m.blur()})):a([t])}function ig({nodeRef:t,disabled:r=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:u,nodeClickDistance:c}){const d=Fe(),[f,g]=re.useState(!1),m=re.useRef();return re.useEffect(()=>{m.current=pk({getStoreItems:()=>d.getState(),onNodeMouseDown:p=>{oc({id:p,store:d,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),re.useEffect(()=>{var p,v;if(r)(p=m.current)==null||p.destroy();else if(t.current)return(v=m.current)==null||v.update({noDragClassName:i,handleSelector:l,domNode:t.current,isSelectable:u,nodeId:a,nodeClickDistance:c}),()=>{var w;(w=m.current)==null||w.destroy()}},[i,l,r,u,t,a]),f}const I_=t=>r=>r.selected&&(r.draggable||t&&typeof r.draggable>"u");function sg(){const t=Fe();return re.useCallback(i=>{const{nodeExtent:l,snapToGrid:a,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:f,nodeLookup:g,nodeOrigin:m}=t.getState(),p=new Map,v=I_(c),w=a?u[0]:5,k=a?u[1]:5,N=i.direction.x*w*i.factor,M=i.direction.y*k*i.factor;for(const[,I]of g){if(!v(I))continue;let L={x:I.internals.positionAbsolute.x+N,y:I.internals.positionAbsolute.y+M};a&&(L=ji(L,u));const{position:_,positionAbsolute:E}=N0({nodeId:I.id,nextPosition:L,nodeLookup:g,nodeExtent:l,nodeOrigin:m,onError:d});I.position=_,I.internals.positionAbsolute=E,p.set(I.id,I)}f(p)},[])}const Nc=re.createContext(null),P_=Nc.Provider;Nc.Consumer;const bc=()=>re.useContext(Nc),T_=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),L_=(t,r,i)=>l=>{const{connectionClickStartHandle:a,connectionMode:u,connection:c}=l,{fromHandle:d,toHandle:f,isValid:g}=c,m=(f==null?void 0:f.nodeId)===t&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===i;return{connectingFrom:(d==null?void 0:d.nodeId)===t&&(d==null?void 0:d.id)===r&&(d==null?void 0:d.type)===i,connectingTo:m,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===r&&(a==null?void 0:a.type)===i,isPossibleEndHandle:u===lo.Strict?(d==null?void 0:d.type)!==i:t!==(d==null?void 0:d.nodeId)||r!==(d==null?void 0:d.id),connectionInProcess:!!d,clickConnectionInProcess:!!a,valid:m&&g}};function A_({type:t="source",position:r=he.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:f,className:g,onMouseDown:m,onTouchStart:p,...v},w){var X,R;const k=c||null,N=t==="target",M=Fe(),I=bc(),{connectOnClick:L,noPanClassName:_,rfId:E}=Me(T_,Oe),{connectingFrom:$,connectingTo:P,clickConnecting:B,isPossibleEndHandle:H,connectionInProcess:K,clickConnectionInProcess:W,valid:V}=Me(L_(I,k,t),Oe);I||(R=(X=M.getState()).onError)==null||R.call(X,"010",en.error010());const U=O=>{const{defaultEdgeOptions:j,onConnect:A,hasDefaultEdges:F}=M.getState(),S={...j,...O};if(F){const{edges:T,setEdges:J}=M.getState();J(D0(S,T))}A==null||A(S),d==null||d(S)},G=O=>{if(!I)return;const j=P0(O.nativeEvent);if(a&&(j&&O.button===0||!j)){const A=M.getState();rc.onPointerDown(O.nativeEvent,{handleDomNode:O.currentTarget,autoPanOnConnect:A.autoPanOnConnect,connectionMode:A.connectionMode,connectionRadius:A.connectionRadius,domNode:A.domNode,nodeLookup:A.nodeLookup,lib:A.lib,isTarget:N,handleId:k,nodeId:I,flowId:A.rfId,panBy:A.panBy,cancelConnection:A.cancelConnection,onConnectStart:A.onConnectStart,onConnectEnd:A.onConnectEnd,updateConnection:A.updateConnection,onConnect:U,isValidConnection:i||A.isValidConnection,getTransform:()=>M.getState().transform,getFromHandle:()=>M.getState().connection.fromHandle,autoPanSpeed:A.autoPanSpeed,dragThreshold:A.connectionDragThreshold})}j?m==null||m(O):p==null||p(O)},C=O=>{const{onClickConnectStart:j,onClickConnectEnd:A,connectionClickStartHandle:F,connectionMode:S,isValidConnection:T,lib:J,rfId:D,nodeLookup:z,connection:Y}=M.getState();if(!I||!F&&!a)return;if(!F){j==null||j(O.nativeEvent,{nodeId:I,handleId:k,handleType:t}),M.setState({connectionClickStartHandle:{nodeId:I,type:t,id:k}});return}const Z=z0(O.target),Q=i||T,{connection:ne,isValid:le}=rc.isValid(O.nativeEvent,{handle:{nodeId:I,id:k,type:t},connectionMode:S,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:Q,flowId:D,doc:Z,lib:J,nodeLookup:z});le&&ne&&U(ne);const ae=structuredClone(Y);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,A==null||A(O,ae),M.setState({connectionClickStartHandle:null})};return x.jsx("div",{"data-handleid":k,"data-nodeid":I,"data-handlepos":r,"data-id":`${E}-${I}-${k}-${t}`,className:Ye(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",_,g,{source:!N,target:N,connectable:l,connectablestart:a,connectableend:u,clickconnecting:B,connectingfrom:$,connectingto:P,valid:V,connectionindicator:l&&(!K||H)&&(K||W?u:a)}]),onMouseDown:G,onTouchStart:G,onClick:L?C:void 0,ref:w,...v,children:f})}const Ge=re.memo(rg(A_));function D_({data:t,isConnectable:r,sourcePosition:i=he.Bottom}){return x.jsxs(x.Fragment,{children:[t==null?void 0:t.label,x.jsx(Ge,{type:"source",position:i,isConnectable:r})]})}function R_({data:t,isConnectable:r,targetPosition:i=he.Top,sourcePosition:l=he.Bottom}){return x.jsxs(x.Fragment,{children:[x.jsx(Ge,{type:"target",position:i,isConnectable:r}),t==null?void 0:t.label,x.jsx(Ge,{type:"source",position:l,isConnectable:r})]})}function O_(){return null}function $_({data:t,isConnectable:r,targetPosition:i=he.Top}){return x.jsxs(x.Fragment,{children:[x.jsx(Ge,{type:"target",position:i,isConnectable:r}),t==null?void 0:t.label]})}const xl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},rp={input:D_,default:R_,output:$_,group:O_};function F_(t){var r,i,l,a;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((r=t.style)==null?void 0:r.width),height:t.height??t.initialHeight??((i=t.style)==null?void 0:i.height)}:{width:t.width??((l=t.style)==null?void 0:l.width),height:t.height??((a=t.style)==null?void 0:a.height)}}const H_=t=>{const{width:r,height:i,x:l,y:a}=ho(t.nodeLookup,{filter:u=>!!u.selected});return{width:Vt(r)?r:null,height:Vt(i)?i:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${l}px,${a}px)`}};function V_({onSelectionContextMenu:t,noPanClassName:r,disableKeyboardA11y:i}){const l=Fe(),{width:a,height:u,transformString:c,userSelectionActive:d}=Me(H_,Oe),f=sg(),g=re.useRef(null);if(re.useEffect(()=>{var v;i||(v=g.current)==null||v.focus({preventScroll:!0})},[i]),ig({nodeRef:g}),d||!a||!u)return null;const m=t?v=>{const w=l.getState().nodes.filter(k=>k.selected);t(v,w)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(xl,v.key)&&(v.preventDefault(),f({direction:xl[v.key],factor:v.shiftKey?4:1}))};return x.jsx("div",{className:Ye(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:x.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:i?void 0:-1,onKeyDown:i?void 0:p,style:{width:a,height:u}})})}const op=typeof window<"u"?window:void 0,B_=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function lg({children:t,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:f,selectionKeyCode:g,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:M,elementsSelectable:I,zoomOnScroll:L,zoomOnPinch:_,panOnScroll:E,panOnScrollSpeed:$,panOnScrollMode:P,zoomOnDoubleClick:B,panOnDrag:H,defaultViewport:K,translateExtent:W,minZoom:V,maxZoom:U,preventScrolling:G,onSelectionContextMenu:C,noWheelClassName:X,noPanClassName:R,disableKeyboardA11y:O,onViewportChange:j,isControlledViewport:A}){const{nodesSelectionActive:F,userSelectionActive:S}=Me(B_,Oe),T=ki(g,{target:op}),J=ki(N,{target:op}),D=J||H,z=J||E,Y=m&&D!==!0,Z=T||S||Y;return E_({deleteKeyCode:f,multiSelectionKeyCode:k}),x.jsx(S_,{onPaneContextMenu:u,elementsSelectable:I,zoomOnScroll:L,zoomOnPinch:_,panOnScroll:z,panOnScrollSpeed:$,panOnScrollMode:P,zoomOnDoubleClick:B,panOnDrag:!T&&D,defaultViewport:K,translateExtent:W,minZoom:V,maxZoom:U,zoomActivationKeyCode:M,preventScrolling:G,noWheelClassName:X,noPanClassName:R,onViewportChange:j,isControlledViewport:A,paneClickDistance:d,selectionOnDrag:Y,children:x.jsxs(z_,{onSelectionStart:v,onSelectionEnd:w,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:D,isSelecting:!!Z,selectionMode:p,selectionKeyPressed:T,paneClickDistance:d,selectionOnDrag:Y,children:[t,F&&x.jsx(V_,{onSelectionContextMenu:C,noPanClassName:R,disableKeyboardA11y:O})]})})}lg.displayName="FlowRenderer";const W_=re.memo(lg),U_=t=>r=>t?mc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(i=>i.id):Array.from(r.nodeLookup.keys());function Y_(t){return Me(re.useCallback(U_(t),[t]),Oe)}const X_=t=>t.updateNodeInternals;function G_(){const t=Me(X_),[r]=re.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const l=new Map;i.forEach(a=>{const u=a.target.getAttribute("data-id");l.set(u,{id:u,nodeElement:a.target,force:!0})}),t(l)}));return re.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function q_({node:t,nodeType:r,hasDimensions:i,resizeObserver:l}){const a=Fe(),u=re.useRef(null),c=re.useRef(null),d=re.useRef(t.sourcePosition),f=re.useRef(t.targetPosition),g=re.useRef(r),m=i&&!!t.internals.handleBounds;return re.useEffect(()=>{u.current&&!t.hidden&&(!m||c.current!==u.current)&&(c.current&&(l==null||l.unobserve(c.current)),l==null||l.observe(u.current),c.current=u.current)},[m,t.hidden]),re.useEffect(()=>()=>{c.current&&(l==null||l.unobserve(c.current),c.current=null)},[]),re.useEffect(()=>{if(u.current){const p=g.current!==r,v=d.current!==t.sourcePosition,w=f.current!==t.targetPosition;(p||v||w)&&(g.current=r,d.current=t.sourcePosition,f.current=t.targetPosition,a.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:u.current,force:!0}]])))}},[t.id,r,t.sourcePosition,t.targetPosition]),u}function Q_({id:t,onClick:r,onMouseEnter:i,onMouseMove:l,onMouseLeave:a,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:f,nodesConnectable:g,nodesFocusable:m,resizeObserver:p,noDragClassName:v,noPanClassName:w,disableKeyboardA11y:k,rfId:N,nodeTypes:M,nodeClickDistance:I,onError:L}){const{node:_,internals:E,isParent:$}=Me(Q=>{const ne=Q.nodeLookup.get(t),le=Q.parentLookup.has(t);return{node:ne,internals:ne.internals,isParent:le}},Oe);let P=_.type||"default",B=(M==null?void 0:M[P])||rp[P];B===void 0&&(L==null||L("003",en.error003(P)),P="default",B=(M==null?void 0:M.default)||rp.default);const H=!!(_.draggable||d&&typeof _.draggable>"u"),K=!!(_.selectable||f&&typeof _.selectable>"u"),W=!!(_.connectable||g&&typeof _.connectable>"u"),V=!!(_.focusable||m&&typeof _.focusable>"u"),U=Fe(),G=j0(_),C=q_({node:_,nodeType:P,hasDimensions:G,resizeObserver:p}),X=ig({nodeRef:C,disabled:_.hidden||!H,noDragClassName:v,handleSelector:_.dragHandle,nodeId:t,isSelectable:K,nodeClickDistance:I}),R=sg();if(_.hidden)return null;const O=vn(_),j=F_(_),A=K||H||r||i||l||a,F=i?Q=>i(Q,{...E.userNode}):void 0,S=l?Q=>l(Q,{...E.userNode}):void 0,T=a?Q=>a(Q,{...E.userNode}):void 0,J=u?Q=>u(Q,{...E.userNode}):void 0,D=c?Q=>c(Q,{...E.userNode}):void 0,z=Q=>{const{selectNodesOnDrag:ne,nodeDragThreshold:le}=U.getState();K&&(!ne||!H||le>0)&&oc({id:t,store:U,nodeRef:C}),r&&r(Q,{...E.userNode})},Y=Q=>{if(!(I0(Q.nativeEvent)||k)){if(x0.includes(Q.key)&&K){const ne=Q.key==="Escape";oc({id:t,store:U,unselect:ne,nodeRef:C})}else if(H&&_.selected&&Object.prototype.hasOwnProperty.call(xl,Q.key)){Q.preventDefault();const{ariaLabelConfig:ne}=U.getState();U.setState({ariaLiveMessage:ne["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~E.positionAbsolute.x,y:~~E.positionAbsolute.y})}),R({direction:xl[Q.key],factor:Q.shiftKey?4:1})}}},Z=()=>{var _e;if(k||!((_e=C.current)!=null&&_e.matches(":focus-visible")))return;const{transform:Q,width:ne,height:le,autoPanOnNodeFocus:ae,setCenter:pe}=U.getState();if(!ae)return;mc(new Map([[t,_]]),{x:0,y:0,width:ne,height:le},Q,!0).length>0||pe(_.position.x+O.width/2,_.position.y+O.height/2,{zoom:Q[2]})};return x.jsx("div",{className:Ye(["react-flow__node",`react-flow__node-${P}`,{[w]:H},_.className,{selected:_.selected,selectable:K,parent:$,draggable:H,dragging:X}]),ref:C,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:A?"all":"none",visibility:G?"visible":"hidden",..._.style,...j},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:F,onMouseMove:S,onMouseLeave:T,onContextMenu:J,onClick:z,onDoubleClick:D,onKeyDown:V?Y:void 0,tabIndex:V?0:void 0,onFocus:V?Z:void 0,role:_.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":k?void 0:`${K0}-${N}`,"aria-label":_.ariaLabel,..._.domAttributes,children:x.jsx(P_,{value:t,children:x.jsx(B,{id:t,data:_.data,type:P,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:_.selected??!1,selectable:K,draggable:H,deletable:_.deletable??!0,isConnectable:W,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:X,dragHandle:_.dragHandle,zIndex:E.z,parentId:_.parentId,...O})})})}var K_=re.memo(Q_);const Z_=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function ag(t){const{nodesDraggable:r,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,onError:u}=Me(Z_,Oe),c=Y_(t.onlyRenderVisibleElements),d=G_();return x.jsx("div",{className:"react-flow__nodes",style:Il,children:c.map(f=>x.jsx(K_,{id:f,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,nodeClickDistance:t.nodeClickDistance,onError:u},f))})}ag.displayName="NodeRenderer";const J_=re.memo(ag);function eE(t){return Me(re.useCallback(i=>{if(!t)return i.edges.map(a=>a.id);const l=[];if(i.width&&i.height)for(const a of i.edges){const u=i.nodeLookup.get(a.source),c=i.nodeLookup.get(a.target);u&&c&&q2({sourceNode:u,targetNode:c,width:i.width,height:i.height,transform:i.transform})&&l.push(a.id)}return l},[t]),Oe)}const tE=({color:t="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...t&&{stroke:t}};return x.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},nE=({color:t="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...t&&{stroke:t,fill:t}};return x.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},ip={[ml.Arrow]:tE,[ml.ArrowClosed]:nE};function rE(t){const r=Fe();return re.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(ip,t)?ip[t]:((u=(a=r.getState()).onError)==null||u.call(a,"009",en.error009(t)),null)},[t])}const oE=({id:t,type:r,color:i,width:l=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const f=rE(r);return f?x.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:x.jsx(f,{color:i,strokeWidth:c})}):null},ug=({defaultColor:t,rfId:r})=>{const i=Me(u=>u.edges),l=Me(u=>u.defaultEdgeOptions),a=re.useMemo(()=>nk(i,{id:r,defaultColor:t,defaultMarkerStart:l==null?void 0:l.markerStart,defaultMarkerEnd:l==null?void 0:l.markerEnd}),[i,l,r,t]);return a.length?x.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:x.jsx("defs",{children:a.map(u=>x.jsx(oE,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};ug.displayName="MarkerDefinitions";var iE=re.memo(ug);function cg({x:t,y:r,label:i,labelStyle:l,labelShowBg:a=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:f,className:g,...m}){const[p,v]=re.useState({x:1,y:0,width:0,height:0}),w=Ye(["react-flow__edge-textwrapper",g]),k=re.useRef(null);return re.useEffect(()=>{if(k.current){const N=k.current.getBBox();v({x:N.x,y:N.y,width:N.width,height:N.height})}},[i]),i?x.jsxs("g",{transform:`translate(${t-p.width/2} ${r-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...m,children:[a&&x.jsx("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),x.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:k,style:l,children:i}),f]}):null}cg.displayName="EdgeText";const sE=re.memo(cg);function Pl({path:t,labelX:r,labelY:i,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,interactionWidth:g=20,...m}){return x.jsxs(x.Fragment,{children:[x.jsx("path",{...m,d:t,fill:"none",className:Ye(["react-flow__edge-path",m.className])}),g?x.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}):null,l&&Vt(r)&&Vt(i)?x.jsx(sE,{x:r,y:i,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f}):null]})}function sp({pos:t,x1:r,y1:i,x2:l,y2:a}){return t===he.Left||t===he.Right?[.5*(r+l),i]:[r,.5*(i+a)]}function dg({sourceX:t,sourceY:r,sourcePosition:i=he.Bottom,targetX:l,targetY:a,targetPosition:u=he.Top}){const[c,d]=sp({pos:i,x1:t,y1:r,x2:l,y2:a}),[f,g]=sp({pos:u,x1:l,y1:a,x2:t,y2:r}),[m,p,v,w]=T0({sourceX:t,sourceY:r,targetX:l,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:g});return[`M${t},${r} C${c},${d} ${f},${g} ${l},${a}`,m,p,v,w]}function fg(t){return re.memo(({id:r,sourceX:i,sourceY:l,targetX:a,targetY:u,sourcePosition:c,targetPosition:d,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:w,style:k,markerEnd:N,markerStart:M,interactionWidth:I})=>{const[L,_,E]=dg({sourceX:i,sourceY:l,sourcePosition:c,targetX:a,targetY:u,targetPosition:d}),$=t.isInternal?void 0:r;return x.jsx(Pl,{id:$,path:L,labelX:_,labelY:E,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:w,style:k,markerEnd:N,markerStart:M,interactionWidth:I})})}const lE=fg({isInternal:!1}),hg=fg({isInternal:!0});lE.displayName="SimpleBezierEdge";hg.displayName="SimpleBezierEdgeInternal";function pg(t){return re.memo(({id:r,sourceX:i,sourceY:l,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:p,style:v,sourcePosition:w=he.Bottom,targetPosition:k=he.Top,markerEnd:N,markerStart:M,pathOptions:I,interactionWidth:L})=>{const[_,E,$]=ec({sourceX:i,sourceY:l,sourcePosition:w,targetX:a,targetY:u,targetPosition:k,borderRadius:I==null?void 0:I.borderRadius,offset:I==null?void 0:I.offset,stepPosition:I==null?void 0:I.stepPosition}),P=t.isInternal?void 0:r;return x.jsx(Pl,{id:P,path:_,labelX:E,labelY:$,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:N,markerStart:M,interactionWidth:L})})}const gg=pg({isInternal:!1}),mg=pg({isInternal:!0});gg.displayName="SmoothStepEdge";mg.displayName="SmoothStepEdgeInternal";function yg(t){return re.memo(({id:r,...i})=>{var a;const l=t.isInternal?void 0:r;return x.jsx(gg,{...i,id:l,pathOptions:re.useMemo(()=>{var u;return{borderRadius:0,offset:(u=i.pathOptions)==null?void 0:u.offset}},[(a=i.pathOptions)==null?void 0:a.offset])})})}const aE=yg({isInternal:!1}),vg=yg({isInternal:!0});aE.displayName="StepEdge";vg.displayName="StepEdgeInternal";function xg(t){return re.memo(({id:r,sourceX:i,sourceY:l,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:w,markerStart:k,interactionWidth:N})=>{const[M,I,L]=R0({sourceX:i,sourceY:l,targetX:a,targetY:u}),_=t.isInternal?void 0:r;return x.jsx(Pl,{id:_,path:M,labelX:I,labelY:L,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:w,markerStart:k,interactionWidth:N})})}const uE=xg({isInternal:!1}),wg=xg({isInternal:!0});uE.displayName="StraightEdge";wg.displayName="StraightEdgeInternal";function kg(t){return re.memo(({id:r,sourceX:i,sourceY:l,targetX:a,targetY:u,sourcePosition:c=he.Bottom,targetPosition:d=he.Top,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:w,style:k,markerEnd:N,markerStart:M,pathOptions:I,interactionWidth:L})=>{const[_,E,$]=L0({sourceX:i,sourceY:l,sourcePosition:c,targetX:a,targetY:u,targetPosition:d,curvature:I==null?void 0:I.curvature}),P=t.isInternal?void 0:r;return x.jsx(Pl,{id:P,path:_,labelX:E,labelY:$,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:w,style:k,markerEnd:N,markerStart:M,interactionWidth:L})})}const cE=kg({isInternal:!1}),_g=kg({isInternal:!0});cE.displayName="BezierEdge";_g.displayName="BezierEdgeInternal";const lp={default:_g,straight:wg,step:vg,smoothstep:mg,simplebezier:hg},ap={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},dE=(t,r,i)=>i===he.Left?t-r:i===he.Right?t+r:t,fE=(t,r,i)=>i===he.Top?t-r:i===he.Bottom?t+r:t,up="react-flow__edgeupdater";function cp({position:t,centerX:r,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:d}){return x.jsx("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:Ye([up,`${up}-${d}`]),cx:dE(r,l,t),cy:fE(i,l,t),r:l,stroke:"transparent",fill:"transparent"})}function hE({isReconnectable:t,reconnectRadius:r,edge:i,sourceX:l,sourceY:a,targetX:u,targetY:c,sourcePosition:d,targetPosition:f,onReconnect:g,onReconnectStart:m,onReconnectEnd:p,setReconnecting:v,setUpdateHover:w}){const k=Fe(),N=(E,$)=>{if(E.button!==0)return;const{autoPanOnConnect:P,domNode:B,isValidConnection:H,connectionMode:K,connectionRadius:W,lib:V,onConnectStart:U,onConnectEnd:G,cancelConnection:C,nodeLookup:X,rfId:R,panBy:O,updateConnection:j}=k.getState(),A=$.type==="target",F=(J,D)=>{v(!1),p==null||p(J,i,$.type,D)},S=J=>g==null?void 0:g(i,J),T=(J,D)=>{v(!0),m==null||m(E,i,$.type),U==null||U(J,D)};rc.onPointerDown(E.nativeEvent,{autoPanOnConnect:P,connectionMode:K,connectionRadius:W,domNode:B,handleId:$.id,nodeId:$.nodeId,nodeLookup:X,isTarget:A,edgeUpdaterType:$.type,lib:V,flowId:R,cancelConnection:C,panBy:O,isValidConnection:H,onConnect:S,onConnectStart:T,onConnectEnd:G,onReconnectEnd:F,updateConnection:j,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,dragThreshold:k.getState().connectionDragThreshold,handleDomNode:E.currentTarget})},M=E=>N(E,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),I=E=>N(E,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),L=()=>w(!0),_=()=>w(!1);return x.jsxs(x.Fragment,{children:[(t===!0||t==="source")&&x.jsx(cp,{position:d,centerX:l,centerY:a,radius:r,onMouseDown:M,onMouseEnter:L,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&x.jsx(cp,{position:f,centerX:u,centerY:c,radius:r,onMouseDown:I,onMouseEnter:L,onMouseOut:_,type:"target"})]})}function pE({id:t,edgesFocusable:r,edgesReconnectable:i,elementsSelectable:l,onClick:a,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:g,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:w,rfId:k,edgeTypes:N,noPanClassName:M,onError:I,disableKeyboardA11y:L}){let _=Me(pe=>pe.edgeLookup.get(t));const E=Me(pe=>pe.defaultEdgeOptions);_=E?{...E,..._}:_;let $=_.type||"default",P=(N==null?void 0:N[$])||lp[$];P===void 0&&(I==null||I("011",en.error011($)),$="default",P=(N==null?void 0:N.default)||lp.default);const B=!!(_.focusable||r&&typeof _.focusable>"u"),H=typeof p<"u"&&(_.reconnectable||i&&typeof _.reconnectable>"u"),K=!!(_.selectable||l&&typeof _.selectable>"u"),W=re.useRef(null),[V,U]=re.useState(!1),[G,C]=re.useState(!1),X=Fe(),{zIndex:R,sourceX:O,sourceY:j,targetX:A,targetY:F,sourcePosition:S,targetPosition:T}=Me(re.useCallback(pe=>{const me=pe.nodeLookup.get(_.source),_e=pe.nodeLookup.get(_.target);if(!me||!_e)return{zIndex:_.zIndex,...ap};const Ee=tk({id:t,sourceNode:me,targetNode:_e,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:pe.connectionMode,onError:I});return{zIndex:G2({selected:_.selected,zIndex:_.zIndex,sourceNode:me,targetNode:_e,elevateOnSelect:pe.elevateEdgesOnSelect,zIndexMode:pe.zIndexMode}),...Ee||ap}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),Oe),J=re.useMemo(()=>_.markerStart?`url('#${tc(_.markerStart,k)}')`:void 0,[_.markerStart,k]),D=re.useMemo(()=>_.markerEnd?`url('#${tc(_.markerEnd,k)}')`:void 0,[_.markerEnd,k]);if(_.hidden||O===null||j===null||A===null||F===null)return null;const z=pe=>{var Ce;const{addSelectedEdges:me,unselectNodesAndEdges:_e,multiSelectionActive:Ee}=X.getState();K&&(X.setState({nodesSelectionActive:!1}),_.selected&&Ee?(_e({nodes:[],edges:[_]}),(Ce=W.current)==null||Ce.blur()):me([t])),a&&a(pe,_)},Y=u?pe=>{u(pe,{..._})}:void 0,Z=c?pe=>{c(pe,{..._})}:void 0,Q=d?pe=>{d(pe,{..._})}:void 0,ne=f?pe=>{f(pe,{..._})}:void 0,le=g?pe=>{g(pe,{..._})}:void 0,ae=pe=>{var me;if(!L&&x0.includes(pe.key)&&K){const{unselectNodesAndEdges:_e,addSelectedEdges:Ee}=X.getState();pe.key==="Escape"?((me=W.current)==null||me.blur(),_e({edges:[_]})):Ee([t])}};return x.jsx("svg",{style:{zIndex:R},children:x.jsxs("g",{className:Ye(["react-flow__edge",`react-flow__edge-${$}`,_.className,M,{selected:_.selected,animated:_.animated,inactive:!K&&!a,updating:V,selectable:K}]),onClick:z,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:Q,onMouseMove:ne,onMouseLeave:le,onKeyDown:B?ae:void 0,tabIndex:B?0:void 0,role:_.ariaRole??(B?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":B?`${Z0}-${k}`:void 0,ref:W,..._.domAttributes,children:[!G&&x.jsx(P,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:K,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:O,sourceY:j,targetX:A,targetY:F,sourcePosition:S,targetPosition:T,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:J,markerEnd:D,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),H&&x.jsx(hE,{edge:_,isReconnectable:H,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:w,sourceX:O,sourceY:j,targetX:A,targetY:F,sourcePosition:S,targetPosition:T,setUpdateHover:U,setReconnecting:C})]})})}var gE=re.memo(pE);const mE=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Eg({defaultMarkerColor:t,onlyRenderVisibleElements:r,rfId:i,edgeTypes:l,noPanClassName:a,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:g,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:w,onReconnectEnd:k,disableKeyboardA11y:N}){const{edgesFocusable:M,edgesReconnectable:I,elementsSelectable:L,onError:_}=Me(mE,Oe),E=eE(r);return x.jsxs("div",{className:"react-flow__edges",children:[x.jsx(iE,{defaultColor:t,rfId:i}),E.map($=>x.jsx(gE,{id:$,edgesFocusable:M,edgesReconnectable:I,elementsSelectable:L,noPanClassName:a,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:g,onClick:m,reconnectRadius:p,onDoubleClick:v,onReconnectStart:w,onReconnectEnd:k,rfId:i,onError:_,edgeTypes:l,disableKeyboardA11y:N},$))]})}Eg.displayName="EdgeRenderer";const yE=re.memo(Eg),vE=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function xE({children:t}){const r=Me(vE);return x.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:t})}function wE(t){const r=kr(),i=re.useRef(!1);re.useEffect(()=>{!i.current&&r.viewportInitialized&&t&&(setTimeout(()=>t(r),1),i.current=!0)},[t,r.viewportInitialized])}const kE=t=>{var r;return(r=t.panZoom)==null?void 0:r.syncViewport};function _E(t){const r=Me(kE),i=Fe();return re.useEffect(()=>{t&&(r==null||r(t),i.setState({transform:[t.x,t.y,t.zoom]}))},[t,r]),null}function EE(t){return t.connection.inProgress?{...t.connection,to:Mi(t.connection.to,t.transform)}:{...t.connection}}function NE(t){return EE}function bE(t){const r=NE();return Me(r,Oe)}const SE=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function CE({containerStyle:t,style:r,type:i,component:l}){const{nodesConnectable:a,width:u,height:c,isValid:d,inProgress:f}=Me(SE,Oe);return!(u&&a&&f)?null:x.jsx("svg",{style:t,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:x.jsx("g",{className:Ye(["react-flow__connection",_0(d)]),children:x.jsx(Ng,{style:r,type:i,CustomComponent:l,isValid:d})})})}const Ng=({style:t,type:r=Bn.Bezier,CustomComponent:i,isValid:l})=>{const{inProgress:a,from:u,fromNode:c,fromHandle:d,fromPosition:f,to:g,toNode:m,toHandle:p,toPosition:v,pointer:w}=bE();if(!a)return;if(i)return x.jsx(i,{connectionLineType:r,connectionLineStyle:t,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:g.x,toY:g.y,fromPosition:f,toPosition:v,connectionStatus:_0(l),toNode:m,toHandle:p,pointer:w});let k="";const N={sourceX:u.x,sourceY:u.y,sourcePosition:f,targetX:g.x,targetY:g.y,targetPosition:v};switch(r){case Bn.Bezier:[k]=L0(N);break;case Bn.SimpleBezier:[k]=dg(N);break;case Bn.Step:[k]=ec({...N,borderRadius:0});break;case Bn.SmoothStep:[k]=ec(N);break;default:[k]=R0(N)}return x.jsx("path",{d:k,fill:"none",className:"react-flow__connection-path",style:t})};Ng.displayName="ConnectionLine";const jE={};function dp(t=jE){re.useRef(t),Fe(),re.useEffect(()=>{},[t])}function ME(){Fe(),re.useRef(!1),re.useEffect(()=>{},[])}function bg({nodeTypes:t,edgeTypes:r,onInit:i,onNodeClick:l,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:g,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:w,connectionLineType:k,connectionLineStyle:N,connectionLineComponent:M,connectionLineContainerStyle:I,selectionKeyCode:L,selectionOnDrag:_,selectionMode:E,multiSelectionKeyCode:$,panActivationKeyCode:P,zoomActivationKeyCode:B,deleteKeyCode:H,onlyRenderVisibleElements:K,elementsSelectable:W,defaultViewport:V,translateExtent:U,minZoom:G,maxZoom:C,preventScrolling:X,defaultMarkerColor:R,zoomOnScroll:O,zoomOnPinch:j,panOnScroll:A,panOnScrollSpeed:F,panOnScrollMode:S,zoomOnDoubleClick:T,panOnDrag:J,onPaneClick:D,onPaneMouseEnter:z,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:Q,onPaneContextMenu:ne,paneClickDistance:le,nodeClickDistance:ae,onEdgeContextMenu:pe,onEdgeMouseEnter:me,onEdgeMouseMove:_e,onEdgeMouseLeave:Ee,reconnectRadius:Ce,onReconnect:Ae,onReconnectStart:tt,onReconnectEnd:ot,noDragClassName:vt,noWheelClassName:St,noPanClassName:nn,disableKeyboardA11y:xn,nodeExtent:Er,rfId:Un,viewport:rn,onViewportChange:on}){return dp(t),dp(r),ME(),wE(i),_E(rn),x.jsx(W_,{onPaneClick:D,onPaneMouseEnter:z,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:ne,onPaneScroll:Q,paneClickDistance:le,deleteKeyCode:H,selectionKeyCode:L,selectionOnDrag:_,selectionMode:E,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:$,panActivationKeyCode:P,zoomActivationKeyCode:B,elementsSelectable:W,zoomOnScroll:O,zoomOnPinch:j,zoomOnDoubleClick:T,panOnScroll:A,panOnScrollSpeed:F,panOnScrollMode:S,panOnDrag:J,defaultViewport:V,translateExtent:U,minZoom:G,maxZoom:C,onSelectionContextMenu:p,preventScrolling:X,noDragClassName:vt,noWheelClassName:St,noPanClassName:nn,disableKeyboardA11y:xn,onViewportChange:on,isControlledViewport:!!rn,children:x.jsxs(xE,{children:[x.jsx(yE,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:Ae,onReconnectStart:tt,onReconnectEnd:ot,onlyRenderVisibleElements:K,onEdgeContextMenu:pe,onEdgeMouseEnter:me,onEdgeMouseMove:_e,onEdgeMouseLeave:Ee,reconnectRadius:Ce,defaultMarkerColor:R,noPanClassName:nn,disableKeyboardA11y:xn,rfId:Un}),x.jsx(CE,{style:N,type:k,component:M,containerStyle:I}),x.jsx("div",{className:"react-flow__edgelabel-renderer"}),x.jsx(J_,{nodeTypes:t,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:g,onNodeContextMenu:m,nodeClickDistance:ae,onlyRenderVisibleElements:K,noPanClassName:nn,noDragClassName:vt,disableKeyboardA11y:xn,nodeExtent:Er,rfId:Un}),x.jsx("div",{className:"react-flow__viewport-portal"})]})})}bg.displayName="GraphView";const zE=re.memo(bg),fp=({nodes:t,edges:r,defaultNodes:i,defaultEdges:l,width:a,height:u,fitView:c,fitViewOptions:d,minZoom:f=.5,maxZoom:g=2,nodeOrigin:m,nodeExtent:p,zIndexMode:v="basic"}={})=>{const w=new Map,k=new Map,N=new Map,M=new Map,I=l??r??[],L=i??t??[],_=m??[0,0],E=p??yi;F0(N,M,I);const $=nc(L,w,k,{nodeOrigin:_,nodeExtent:E,zIndexMode:v});let P=[0,0,1];if(c&&a&&u){const B=ho(w,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:H,y:K,zoom:W}=yc(B,a,u,f,g,(d==null?void 0:d.padding)??.1);P=[H,K,W]}return{rfId:"1",width:a??0,height:u??0,transform:P,nodes:L,nodesInitialized:$,nodeLookup:w,parentLookup:k,edges:I,edgeLookup:M,connectionLookup:N,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:l!==void 0,panZoom:null,minZoom:f,maxZoom:g,translateExtent:yi,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:lo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...k0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:V2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:w0,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},IE=({nodes:t,edges:r,defaultNodes:i,defaultEdges:l,width:a,height:u,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:g,nodeOrigin:m,nodeExtent:p,zIndexMode:v})=>Gk((w,k)=>{async function N(){const{nodeLookup:M,panZoom:I,fitViewOptions:L,fitViewResolver:_,width:E,height:$,minZoom:P,maxZoom:B}=k();I&&(await F2({nodes:M,width:E,height:$,panZoom:I,minZoom:P,maxZoom:B},L),_==null||_.resolve(!0),w({fitViewResolver:null}))}return{...fp({nodes:t,edges:r,width:a,height:u,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:g,nodeOrigin:m,nodeExtent:p,defaultNodes:i,defaultEdges:l,zIndexMode:v}),setNodes:M=>{const{nodeLookup:I,parentLookup:L,nodeOrigin:_,elevateNodesOnSelect:E,fitViewQueued:$,zIndexMode:P}=k(),B=nc(M,I,L,{nodeOrigin:_,nodeExtent:p,elevateNodesOnSelect:E,checkEquality:!0,zIndexMode:P});$&&B?(N(),w({nodes:M,nodesInitialized:B,fitViewQueued:!1,fitViewOptions:void 0})):w({nodes:M,nodesInitialized:B})},setEdges:M=>{const{connectionLookup:I,edgeLookup:L}=k();F0(I,L,M),w({edges:M})},setDefaultNodesAndEdges:(M,I)=>{if(M){const{setNodes:L}=k();L(M),w({hasDefaultNodes:!0})}if(I){const{setEdges:L}=k();L(I),w({hasDefaultEdges:!0})}},updateNodeInternals:M=>{const{triggerNodeChanges:I,nodeLookup:L,parentLookup:_,domNode:E,nodeOrigin:$,nodeExtent:P,debug:B,fitViewQueued:H,zIndexMode:K}=k(),{changes:W,updatedInternals:V}=ck(M,L,_,E,$,P,K);V&&(sk(L,_,{nodeOrigin:$,nodeExtent:P,zIndexMode:K}),H?(N(),w({fitViewQueued:!1,fitViewOptions:void 0})):w({}),(W==null?void 0:W.length)>0&&(B&&console.log("React Flow: trigger node changes",W),I==null||I(W)))},updateNodePositions:(M,I=!1)=>{const L=[];let _=[];const{nodeLookup:E,triggerNodeChanges:$,connection:P,updateConnection:B,onNodesChangeMiddlewareMap:H}=k();for(const[K,W]of M){const V=E.get(K),U=!!(V!=null&&V.expandParent&&(V!=null&&V.parentId)&&(W!=null&&W.position)),G={id:K,type:"position",position:U?{x:Math.max(0,W.position.x),y:Math.max(0,W.position.y)}:W.position,dragging:I};if(V&&P.inProgress&&P.fromNode.id===V.id){const C=xr(V,P.fromHandle,he.Left,!0);B({...P,from:C})}U&&V.parentId&&L.push({id:K,parentId:V.parentId,rect:{...W.internals.positionAbsolute,width:W.measured.width??0,height:W.measured.height??0}}),_.push(G)}if(L.length>0){const{parentLookup:K,nodeOrigin:W}=k(),V=Ec(L,E,K,W);_.push(...V)}for(const K of H.values())_=K(_);$(_)},triggerNodeChanges:M=>{const{onNodesChange:I,setNodes:L,nodes:_,hasDefaultNodes:E,debug:$}=k();if(M!=null&&M.length){if(E){const P=tg(M,_);L(P)}$&&console.log("React Flow: trigger node changes",M),I==null||I(M)}},triggerEdgeChanges:M=>{const{onEdgesChange:I,setEdges:L,edges:_,hasDefaultEdges:E,debug:$}=k();if(M!=null&&M.length){if(E){const P=ng(M,_);L(P)}$&&console.log("React Flow: trigger edge changes",M),I==null||I(M)}},addSelectedNodes:M=>{const{multiSelectionActive:I,edgeLookup:L,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:$}=k();if(I){const P=M.map(B=>dr(B,!0));E(P);return}E(no(_,new Set([...M]),!0)),$(no(L))},addSelectedEdges:M=>{const{multiSelectionActive:I,edgeLookup:L,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:$}=k();if(I){const P=M.map(B=>dr(B,!0));$(P);return}$(no(L,new Set([...M]))),E(no(_,new Set,!0))},unselectNodesAndEdges:({nodes:M,edges:I}={})=>{const{edges:L,nodes:_,nodeLookup:E,triggerNodeChanges:$,triggerEdgeChanges:P}=k(),B=M||_,H=I||L,K=B.map(V=>{const U=E.get(V.id);return U&&(U.selected=!1),dr(V.id,!1)}),W=H.map(V=>dr(V.id,!1));$(K),P(W)},setMinZoom:M=>{const{panZoom:I,maxZoom:L}=k();I==null||I.setScaleExtent([M,L]),w({minZoom:M})},setMaxZoom:M=>{const{panZoom:I,minZoom:L}=k();I==null||I.setScaleExtent([L,M]),w({maxZoom:M})},setTranslateExtent:M=>{var I;(I=k().panZoom)==null||I.setTranslateExtent(M),w({translateExtent:M})},resetSelectedElements:()=>{const{edges:M,nodes:I,triggerNodeChanges:L,triggerEdgeChanges:_,elementsSelectable:E}=k();if(!E)return;const $=I.reduce((B,H)=>H.selected?[...B,dr(H.id,!1)]:B,[]),P=M.reduce((B,H)=>H.selected?[...B,dr(H.id,!1)]:B,[]);L($),_(P)},setNodeExtent:M=>{const{nodes:I,nodeLookup:L,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:$,nodeExtent:P,zIndexMode:B}=k();M[0][0]===P[0][0]&&M[0][1]===P[0][1]&&M[1][0]===P[1][0]&&M[1][1]===P[1][1]||(nc(I,L,_,{nodeOrigin:E,nodeExtent:M,elevateNodesOnSelect:$,checkEquality:!1,zIndexMode:B}),w({nodeExtent:M}))},panBy:M=>{const{transform:I,width:L,height:_,panZoom:E,translateExtent:$}=k();return dk({delta:M,panZoom:E,transform:I,translateExtent:$,width:L,height:_})},setCenter:async(M,I,L)=>{const{width:_,height:E,maxZoom:$,panZoom:P}=k();if(!P)return Promise.resolve(!1);const B=typeof(L==null?void 0:L.zoom)<"u"?L.zoom:$;return await P.setViewport({x:_/2-M*B,y:E/2-I*B,zoom:B},{duration:L==null?void 0:L.duration,ease:L==null?void 0:L.ease,interpolate:L==null?void 0:L.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{w({connection:{...k0}})},updateConnection:M=>{w({connection:M})},reset:()=>w({...fp()})}},Object.is);function Sg({initialNodes:t,initialEdges:r,defaultNodes:i,defaultEdges:l,initialWidth:a,initialHeight:u,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:f,fitView:g,nodeOrigin:m,nodeExtent:p,zIndexMode:v,children:w}){const[k]=re.useState(()=>IE({nodes:t,edges:r,defaultNodes:i,defaultEdges:l,width:a,height:u,fitView:g,minZoom:c,maxZoom:d,fitViewOptions:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v}));return x.jsx(Qk,{value:k,children:x.jsx(x_,{children:w})})}function PE({children:t,nodes:r,edges:i,defaultNodes:l,defaultEdges:a,width:u,height:c,fitView:d,fitViewOptions:f,minZoom:g,maxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:w}){return re.useContext(zl)?x.jsx(x.Fragment,{children:t}):x.jsx(Sg,{initialNodes:r,initialEdges:i,defaultNodes:l,defaultEdges:a,initialWidth:u,initialHeight:c,fitView:d,initialFitViewOptions:f,initialMinZoom:g,initialMaxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:w,children:t})}const TE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function LE({nodes:t,edges:r,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:f,onInit:g,onMove:m,onMoveStart:p,onMoveEnd:v,onConnect:w,onConnectStart:k,onConnectEnd:N,onClickConnectStart:M,onClickConnectEnd:I,onNodeMouseEnter:L,onNodeMouseMove:_,onNodeMouseLeave:E,onNodeContextMenu:$,onNodeDoubleClick:P,onNodeDragStart:B,onNodeDrag:H,onNodeDragStop:K,onNodesDelete:W,onEdgesDelete:V,onDelete:U,onSelectionChange:G,onSelectionDragStart:C,onSelectionDrag:X,onSelectionDragStop:R,onSelectionContextMenu:O,onSelectionStart:j,onSelectionEnd:A,onBeforeDelete:F,connectionMode:S,connectionLineType:T=Bn.Bezier,connectionLineStyle:J,connectionLineComponent:D,connectionLineContainerStyle:z,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:Q=!1,selectionMode:ne=vi.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ae=wi()?"Meta":"Control",zoomActivationKeyCode:pe=wi()?"Meta":"Control",snapToGrid:me,snapGrid:_e,onlyRenderVisibleElements:Ee=!1,selectNodesOnDrag:Ce,nodesDraggable:Ae,autoPanOnNodeFocus:tt,nodesConnectable:ot,nodesFocusable:vt,nodeOrigin:St=J0,edgesFocusable:nn,edgesReconnectable:xn,elementsSelectable:Er=!0,defaultViewport:Un=u_,minZoom:rn=.5,maxZoom:on=2,translateExtent:Yn=yi,preventScrolling:zi=!0,nodeExtent:sn,defaultMarkerColor:Xn="#b1b1b7",zoomOnScroll:Tl=!0,zoomOnPinch:Ii=!0,panOnScroll:Pi=!1,panOnScrollSpeed:Ll=.5,panOnScrollMode:po=pr.Free,zoomOnDoubleClick:go=!0,panOnDrag:mo=!0,onPaneClick:yo,onPaneMouseEnter:vo,onPaneMouseMove:wn,onPaneMouseLeave:kn,onPaneScroll:Ti,onPaneContextMenu:Li,paneClickDistance:Ai=1,nodeClickDistance:Di=0,children:Ri,onReconnect:xo,onReconnectStart:Oi,onReconnectEnd:Gn,onEdgeContextMenu:wo,onEdgeDoubleClick:qn,onEdgeMouseEnter:Al,onEdgeMouseMove:Qn,onEdgeMouseLeave:Nr,reconnectRadius:br=10,onNodesChange:ko,onEdgesChange:Dl,noDragClassName:Rl="nodrag",noWheelClassName:Ol="nowheel",noPanClassName:Yt="nopan",fitView:_o,fitViewOptions:Eo,connectOnClick:$l,attributionPosition:$i,proOptions:Fi,defaultEdgeOptions:Hi,elevateNodesOnSelect:Vi=!0,elevateEdgesOnSelect:Fl=!1,disableKeyboardA11y:Bi=!1,autoPanOnConnect:He,autoPanOnNodeDrag:Hl,autoPanSpeed:No,connectionRadius:Wi,isValidConnection:Sr,onError:Vl,style:Ui,id:Kn,nodeDragThreshold:Ct,connectionDragThreshold:Bl,viewport:xt,onViewportChange:Wl,width:Ul,height:Yl,colorMode:Cr="light",debug:jr,onScroll:Xt,ariaLabelConfig:Mr,zIndexMode:Yi="basic",...Xl},bo){const zr=Kn||"1",So=h_(Cr),Zn=re.useCallback(Xi=>{Xi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Xt==null||Xt(Xi)},[Xt]);return x.jsx("div",{"data-testid":"rf__wrapper",...Xl,onScroll:Zn,style:{...Ui,...TE},ref:bo,className:Ye(["react-flow",a,So]),id:Kn,role:"application",children:x.jsxs(PE,{nodes:t,edges:r,width:Ul,height:Yl,fitView:_o,fitViewOptions:Eo,minZoom:rn,maxZoom:on,nodeOrigin:St,nodeExtent:sn,zIndexMode:Yi,children:[x.jsx(zE,{onInit:g,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:L,onNodeMouseMove:_,onNodeMouseLeave:E,onNodeContextMenu:$,onNodeDoubleClick:P,nodeTypes:u,edgeTypes:c,connectionLineType:T,connectionLineStyle:J,connectionLineComponent:D,connectionLineContainerStyle:z,selectionKeyCode:Z,selectionOnDrag:Q,selectionMode:ne,deleteKeyCode:Y,multiSelectionKeyCode:ae,panActivationKeyCode:le,zoomActivationKeyCode:pe,onlyRenderVisibleElements:Ee,defaultViewport:Un,translateExtent:Yn,minZoom:rn,maxZoom:on,preventScrolling:zi,zoomOnScroll:Tl,zoomOnPinch:Ii,zoomOnDoubleClick:go,panOnScroll:Pi,panOnScrollSpeed:Ll,panOnScrollMode:po,panOnDrag:mo,onPaneClick:yo,onPaneMouseEnter:vo,onPaneMouseMove:wn,onPaneMouseLeave:kn,onPaneScroll:Ti,onPaneContextMenu:Li,paneClickDistance:Ai,nodeClickDistance:Di,onSelectionContextMenu:O,onSelectionStart:j,onSelectionEnd:A,onReconnect:xo,onReconnectStart:Oi,onReconnectEnd:Gn,onEdgeContextMenu:wo,onEdgeDoubleClick:qn,onEdgeMouseEnter:Al,onEdgeMouseMove:Qn,onEdgeMouseLeave:Nr,reconnectRadius:br,defaultMarkerColor:Xn,noDragClassName:Rl,noWheelClassName:Ol,noPanClassName:Yt,rfId:zr,disableKeyboardA11y:Bi,nodeExtent:sn,viewport:xt,onViewportChange:Wl}),x.jsx(f_,{nodes:t,edges:r,defaultNodes:i,defaultEdges:l,onConnect:w,onConnectStart:k,onConnectEnd:N,onClickConnectStart:M,onClickConnectEnd:I,nodesDraggable:Ae,autoPanOnNodeFocus:tt,nodesConnectable:ot,nodesFocusable:vt,edgesFocusable:nn,edgesReconnectable:xn,elementsSelectable:Er,elevateNodesOnSelect:Vi,elevateEdgesOnSelect:Fl,minZoom:rn,maxZoom:on,nodeExtent:sn,onNodesChange:ko,onEdgesChange:Dl,snapToGrid:me,snapGrid:_e,connectionMode:S,translateExtent:Yn,connectOnClick:$l,defaultEdgeOptions:Hi,fitView:_o,fitViewOptions:Eo,onNodesDelete:W,onEdgesDelete:V,onDelete:U,onNodeDragStart:B,onNodeDrag:H,onNodeDragStop:K,onSelectionDrag:X,onSelectionDragStart:C,onSelectionDragStop:R,onMove:m,onMoveStart:p,onMoveEnd:v,noPanClassName:Yt,nodeOrigin:St,rfId:zr,autoPanOnConnect:He,autoPanOnNodeDrag:Hl,autoPanSpeed:No,onError:Vl,connectionRadius:Wi,isValidConnection:Sr,selectNodesOnDrag:Ce,nodeDragThreshold:Ct,connectionDragThreshold:Bl,onBeforeDelete:F,debug:jr,ariaLabelConfig:Mr,zIndexMode:Yi}),x.jsx(a_,{onSelectionChange:G}),Ri,x.jsx(r_,{proOptions:Fi,position:$i}),x.jsx(n_,{rfId:zr,disableKeyboardA11y:Bi})]})})}var AE=rg(LE);function DE(t){const[r,i]=re.useState(t),l=re.useCallback(a=>i(u=>tg(a,u)),[]);return[r,i,l]}function RE(t){const[r,i]=re.useState(t),l=re.useCallback(a=>i(u=>ng(a,u)),[]);return[r,i,l]}function OE({dimensions:t,lineWidth:r,variant:i,className:l}){return x.jsx("path",{strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Ye(["react-flow__background-pattern",i,l])})}function $E({radius:t,className:r}){return x.jsx("circle",{cx:t,cy:t,r:t,className:Ye(["react-flow__background-pattern","dots",r])})}var Wn;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Wn||(Wn={}));const FE={[Wn.Dots]:1,[Wn.Lines]:1,[Wn.Cross]:6},HE=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Cg({id:t,variant:r=Wn.Dots,gap:i=20,size:l,lineWidth:a=1,offset:u=0,color:c,bgColor:d,style:f,className:g,patternClassName:m}){const p=re.useRef(null),{transform:v,patternId:w}=Me(HE,Oe),k=l||FE[r],N=r===Wn.Dots,M=r===Wn.Cross,I=Array.isArray(i)?i:[i,i],L=[I[0]*v[2]||1,I[1]*v[2]||1],_=k*v[2],E=Array.isArray(u)?u:[u,u],$=M?[_,_]:L,P=[E[0]*v[2]||1+$[0]/2,E[1]*v[2]||1+$[1]/2],B=`${w}${t||""}`;return x.jsxs("svg",{className:Ye(["react-flow__background",g]),style:{...f,...Il,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:p,"data-testid":"rf__background",children:[x.jsx("pattern",{id:B,x:v[0]%L[0],y:v[1]%L[1],width:L[0],height:L[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:N?x.jsx($E,{radius:_/2,className:m}):x.jsx(OE,{dimensions:$,lineWidth:a,variant:r,className:m})}),x.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${B})`})]})}Cg.displayName="Background";const VE=re.memo(Cg);function BE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function WE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x.jsx("path",{d:"M0 0h32v4.2H0z"})})}function UE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function YE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function XE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function rl({children:t,className:r,...i}){return x.jsx("button",{type:"button",className:Ye(["react-flow__controls-button",r]),...i,children:t})}const GE=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function jg({style:t,showZoom:r=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:f,className:g,children:m,position:p="bottom-left",orientation:v="vertical","aria-label":w}){const k=Fe(),{isInteractive:N,minZoomReached:M,maxZoomReached:I,ariaLabelConfig:L}=Me(GE,Oe),{zoomIn:_,zoomOut:E,fitView:$}=kr(),P=()=>{_(),u==null||u()},B=()=>{E(),c==null||c()},H=()=>{$(a),d==null||d()},K=()=>{k.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),f==null||f(!N)},W=v==="horizontal"?"horizontal":"vertical";return x.jsxs(gr,{className:Ye(["react-flow__controls",W,g]),position:p,style:t,"data-testid":"rf__controls","aria-label":w??L["controls.ariaLabel"],children:[r&&x.jsxs(x.Fragment,{children:[x.jsx(rl,{onClick:P,className:"react-flow__controls-zoomin",title:L["controls.zoomIn.ariaLabel"],"aria-label":L["controls.zoomIn.ariaLabel"],disabled:I,children:x.jsx(BE,{})}),x.jsx(rl,{onClick:B,className:"react-flow__controls-zoomout",title:L["controls.zoomOut.ariaLabel"],"aria-label":L["controls.zoomOut.ariaLabel"],disabled:M,children:x.jsx(WE,{})})]}),i&&x.jsx(rl,{className:"react-flow__controls-fitview",onClick:H,title:L["controls.fitView.ariaLabel"],"aria-label":L["controls.fitView.ariaLabel"],children:x.jsx(UE,{})}),l&&x.jsx(rl,{className:"react-flow__controls-interactive",onClick:K,title:L["controls.interactive.ariaLabel"],"aria-label":L["controls.interactive.ariaLabel"],children:N?x.jsx(XE,{}):x.jsx(YE,{})}),m]})}jg.displayName="Controls";const qE=re.memo(jg);function QE({id:t,x:r,y:i,width:l,height:a,style:u,color:c,strokeColor:d,strokeWidth:f,className:g,borderRadius:m,shapeRendering:p,selected:v,onClick:w}){const{background:k,backgroundColor:N}=u||{},M=c||k||N;return x.jsx("rect",{className:Ye(["react-flow__minimap-node",{selected:v},g]),x:r,y:i,rx:m,ry:m,width:l,height:a,style:{fill:M,stroke:d,strokeWidth:f},shapeRendering:p,onClick:w?I=>w(I,t):void 0})}const KE=re.memo(QE),ZE=t=>t.nodes.map(r=>r.id),Vu=t=>t instanceof Function?t:()=>t;function JE({nodeStrokeColor:t,nodeColor:r,nodeClassName:i="",nodeBorderRadius:l=5,nodeStrokeWidth:a,nodeComponent:u=KE,onClick:c}){const d=Me(ZE,Oe),f=Vu(r),g=Vu(t),m=Vu(i),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x.jsx(x.Fragment,{children:d.map(v=>x.jsx(tN,{id:v,nodeColorFunc:f,nodeStrokeColorFunc:g,nodeClassNameFunc:m,nodeBorderRadius:l,nodeStrokeWidth:a,NodeComponent:u,onClick:c,shapeRendering:p},v))})}function eN({id:t,nodeColorFunc:r,nodeStrokeColorFunc:i,nodeClassNameFunc:l,nodeBorderRadius:a,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:f}){const{node:g,x:m,y:p,width:v,height:w}=Me(k=>{const{internals:N}=k.nodeLookup.get(t),M=N.userNode,{x:I,y:L}=N.positionAbsolute,{width:_,height:E}=vn(M);return{node:M,x:I,y:L,width:_,height:E}},Oe);return!g||g.hidden||!j0(g)?null:x.jsx(d,{x:m,y:p,width:v,height:w,style:g.style,selected:!!g.selected,className:l(g),color:r(g),borderRadius:a,strokeColor:i(g),strokeWidth:u,shapeRendering:c,onClick:f,id:g.id})}const tN=re.memo(eN);var nN=re.memo(JE);const rN=200,oN=150,iN=t=>!t.hidden,sN=t=>{const r={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:r,boundingRect:t.nodeLookup.size>0?C0(ho(t.nodeLookup,{filter:iN}),r):r,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},lN="react-flow__minimap-desc";function Mg({style:t,className:r,nodeStrokeColor:i,nodeColor:l,nodeClassName:a="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:f,maskColor:g,maskStrokeColor:m,maskStrokeWidth:p,position:v="bottom-right",onClick:w,onNodeClick:k,pannable:N=!1,zoomable:M=!1,ariaLabel:I,inversePan:L,zoomStep:_=1,offsetScale:E=5}){const $=Fe(),P=re.useRef(null),{boundingRect:B,viewBB:H,rfId:K,panZoom:W,translateExtent:V,flowWidth:U,flowHeight:G,ariaLabelConfig:C}=Me(sN,Oe),X=(t==null?void 0:t.width)??rN,R=(t==null?void 0:t.height)??oN,O=B.width/X,j=B.height/R,A=Math.max(O,j),F=A*X,S=A*R,T=E*A,J=B.x-(F-B.width)/2-T,D=B.y-(S-B.height)/2-T,z=F+T*2,Y=S+T*2,Z=`${lN}-${K}`,Q=re.useRef(0),ne=re.useRef();Q.current=A,re.useEffect(()=>{if(P.current&&W)return ne.current=wk({domNode:P.current,panZoom:W,getTransform:()=>$.getState().transform,getViewScale:()=>Q.current}),()=>{var me;(me=ne.current)==null||me.destroy()}},[W]),re.useEffect(()=>{var me;(me=ne.current)==null||me.update({translateExtent:V,width:U,height:G,inversePan:L,pannable:N,zoomStep:_,zoomable:M})},[N,M,L,_,V,U,G]);const le=w?me=>{var Ce;const[_e,Ee]=((Ce=ne.current)==null?void 0:Ce.pointer(me))||[0,0];w(me,{x:_e,y:Ee})}:void 0,ae=k?re.useCallback((me,_e)=>{const Ee=$.getState().nodeLookup.get(_e).internals.userNode;k(me,Ee)},[]):void 0,pe=I??C["minimap.ariaLabel"];return x.jsx(gr,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*A:void 0,"--xy-minimap-node-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ye(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:x.jsxs("svg",{width:X,height:R,viewBox:`${J} ${D} ${z} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:P,onClick:le,children:[pe&&x.jsx("title",{id:Z,children:pe}),x.jsx(nN,{onClick:ae,nodeColor:l,nodeStrokeColor:i,nodeBorderRadius:u,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),x.jsx("path",{className:"react-flow__minimap-mask",d:`M${J-T},${D-T}h${z+T*2}v${Y+T*2}h${-z-T*2}z
        M${H.x},${H.y}h${H.width}v${H.height}h${-H.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Mg.displayName="MiniMap";const aN=re.memo(Mg),uN=t=>r=>t?`${Math.max(1/r.transform[2],1)}`:void 0,cN={[wr.Line]:"right",[wr.Handle]:"bottom-right"};function dN({nodeId:t,position:r,variant:i=wr.Handle,className:l,style:a=void 0,children:u,color:c,minWidth:d=10,minHeight:f=10,maxWidth:g=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:w=!0,shouldResize:k,onResizeStart:N,onResize:M,onResizeEnd:I}){const L=bc(),_=typeof t=="string"?t:L,E=Fe(),$=re.useRef(null),P=i===wr.Handle,B=Me(re.useCallback(uN(P&&w),[P,w]),Oe),H=re.useRef(null),K=r??cN[i];re.useEffect(()=>{if(!(!$.current||!_))return H.current||(H.current=Dk({domNode:$.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:V,transform:U,snapGrid:G,snapToGrid:C,nodeOrigin:X,domNode:R}=E.getState();return{nodeLookup:V,transform:U,snapGrid:G,snapToGrid:C,nodeOrigin:X,paneDomNode:R}},onChange:(V,U)=>{const{triggerNodeChanges:G,nodeLookup:C,parentLookup:X,nodeOrigin:R}=E.getState(),O=[],j={x:V.x,y:V.y},A=C.get(_);if(A&&A.expandParent&&A.parentId){const F=A.origin??R,S=V.width??A.measured.width??0,T=V.height??A.measured.height??0,J={id:A.id,parentId:A.parentId,rect:{width:S,height:T,...M0({x:V.x??A.position.x,y:V.y??A.position.y},{width:S,height:T},A.parentId,C,F)}},D=Ec([J],C,X,R);O.push(...D),j.x=V.x?Math.max(F[0]*S,V.x):void 0,j.y=V.y?Math.max(F[1]*T,V.y):void 0}if(j.x!==void 0&&j.y!==void 0){const F={id:_,type:"position",position:{...j}};O.push(F)}if(V.width!==void 0&&V.height!==void 0){const S={id:_,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};O.push(S)}for(const F of U){const S={...F,type:"position"};O.push(S)}G(O)},onEnd:({width:V,height:U})=>{const G={id:_,type:"dimensions",resizing:!1,dimensions:{width:V,height:U}};E.getState().triggerNodeChanges([G])}})),H.current.update({controlPosition:K,boundaries:{minWidth:d,minHeight:f,maxWidth:g,maxHeight:m},keepAspectRatio:p,resizeDirection:v,onResizeStart:N,onResize:M,onResizeEnd:I,shouldResize:k}),()=>{var V;(V=H.current)==null||V.destroy()}},[K,d,f,g,m,p,N,M,I,k]);const W=K.split("-");return x.jsx("div",{className:Ye(["react-flow__resize-control","nodrag",...W,i,l]),ref:$,style:{...a,scale:B,...c&&{[P?"backgroundColor":"borderColor"]:c}},children:u})}const hp=re.memo(dN);function Sc({nodeId:t,isVisible:r=!0,handleClassName:i,handleStyle:l,lineClassName:a,lineStyle:u,color:c,minWidth:d=10,minHeight:f=10,maxWidth:g=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:v=!0,shouldResize:w,onResizeStart:k,onResize:N,onResizeEnd:M}){return r?x.jsxs(x.Fragment,{children:[zk.map(I=>x.jsx(hp,{className:a,style:u,nodeId:t,position:I,variant:wr.Line,color:c,minWidth:d,minHeight:f,maxWidth:g,maxHeight:m,onResizeStart:k,keepAspectRatio:p,autoScale:v,shouldResize:w,onResize:N,onResizeEnd:M},I)),Mk.map(I=>x.jsx(hp,{className:i,style:l,nodeId:t,position:I,color:c,minWidth:d,minHeight:f,maxWidth:g,maxHeight:m,onResizeStart:k,keepAspectRatio:p,autoScale:v,shouldResize:w,onResize:N,onResizeEnd:M},I))]}):null}const fN=t=>{var r;return(r=t.domNode)==null?void 0:r.querySelector(".react-flow__renderer")};function hN({children:t}){const r=Me(fN);return r?qk.createPortal(t,r):null}const pN=(t,r)=>(t==null?void 0:t.internals.positionAbsolute.x)!==(r==null?void 0:r.internals.positionAbsolute.x)||(t==null?void 0:t.internals.positionAbsolute.y)!==(r==null?void 0:r.internals.positionAbsolute.y)||(t==null?void 0:t.measured.width)!==(r==null?void 0:r.measured.width)||(t==null?void 0:t.measured.height)!==(r==null?void 0:r.measured.height)||(t==null?void 0:t.selected)!==(r==null?void 0:r.selected)||(t==null?void 0:t.internals.z)!==(r==null?void 0:r.internals.z),gN=(t,r)=>{if(t.size!==r.size)return!1;for(const[i,l]of t)if(pN(l,r.get(i)))return!1;return!0},mN=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2],selectedNodesCount:t.nodes.filter(r=>r.selected).length});function zg({nodeId:t,children:r,className:i,style:l,isVisible:a,position:u=he.Top,offset:c=10,align:d="center",...f}){var $;const g=bc(),m=re.useCallback(P=>(Array.isArray(t)?t:[t||g||""]).reduce((K,W)=>{const V=P.nodeLookup.get(W);return V&&K.set(V.id,V),K},new Map),[t,g]),p=Me(m,gN),{x:v,y:w,zoom:k,selectedNodesCount:N}=Me(mN,Oe);if(!(typeof a=="boolean"?a:p.size===1&&(($=p.values().next().value)==null?void 0:$.selected)&&N===1)||!p.size)return null;const I=ho(p),L=Array.from(p.values()),_=Math.max(...L.map(P=>P.internals.z+1)),E={position:"absolute",transform:rk(I,{x:v,y:w,zoom:k},u,c,d),zIndex:_,...l};return x.jsx(hN,{children:x.jsx("div",{style:E,className:Ye(["react-flow__node-toolbar",i]),...f,"data-id":L.reduce((P,B)=>`${P}${B.id} `,"").trim(),children:r})})}const yN=({id:t,data:r,selected:i})=>{const{setNodes:l}=kr(),a=re.useRef(null),[u,c]=fo.useState(!1),d=m=>{const p=m.target.files[0];if(p){const v=new FileReader;v.onload=w=>{const k=w.target.result;l(N=>N.map(M=>M.id===t?{...M,data:{...M.data,url:k}}:M))},v.readAsDataURL(p)}},f=()=>{l(m=>m.filter(p=>p.id!==t))},g=()=>{var m;(m=a.current)==null||m.click()};return x.jsxs("div",{className:`relative rounded-[2.5rem] border-none bg-white transition-all duration-300 ease-out group p-4 ${i?"shadow-2xl":"shadow-xl shadow-black/20"}`,style:{width:"100%",height:"100%",filter:i?"drop-shadow(0 0 15px rgba(59, 130, 246, 0.4))":"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.3))"},children:[x.jsx(Sc,{isVisible:i,minWidth:200,minHeight:150,handleStyle:{width:12,height:12,borderRadius:"50%",backgroundColor:"#3b82f6",border:"3px solid white",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",margin:-6},lineStyle:{border:"2px solid #3b82f6",opacity:.5}}),x.jsx("input",{type:"file",ref:a,onChange:d,accept:"image/*",className:"hidden"}),i&&x.jsxs("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-2xl p-1.5 shadow-2xl z-50 flex gap-1 animate-in fade-in zoom-in duration-300",children:[x.jsx("button",{onClick:()=>c(!u),className:`p-2 rounded-xl transition-colors ${u?"bg-blue-600 text-white":"hover:bg-slate-800 text-blue-400"}`,title:u?"Finalizar Ajuste":"Ajustar Tamao",children:u?x.jsx(Ei,{size:16}):x.jsx(di,{size:16})}),x.jsx("button",{onClick:g,className:"p-2 hover:bg-slate-800 rounded-xl text-emerald-400 transition-colors",title:"Cambiar Imagen",children:x.jsx(sh,{size:16})}),x.jsx("button",{onClick:f,className:"p-2 hover:bg-red-500/10 text-red-400 rounded-xl transition-colors",title:"Eliminar Imagen",children:x.jsx(Ni,{size:16})})]}),x.jsx(Ge,{type:"target",position:he.Top,id:"t-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Top,id:"t-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Bottom,id:"b-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Bottom,id:"b-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Left,id:"l-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Left,id:"l-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Right,id:"r-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Right,id:"r-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsxs("div",{className:"flex flex-col gap-3 w-full h-full",children:[r.url?x.jsx("div",{className:"relative flex-1 overflow-hidden rounded-[2rem] shadow-inner group/img h-full w-full",children:x.jsx("img",{src:r.url,alt:"Node resource",className:"w-full h-full object-cover transition-transform duration-700 group-hover/img:scale-105"})}):x.jsxs("button",{onClick:g,className:"w-full flex-1 min-h-[160px] bg-slate-50 border-2 border-dashed border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all rounded-[2rem] flex flex-col items-center justify-center gap-4 group/upload",children:[x.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-sm text-slate-400 group-hover/upload:text-blue-500 group-hover/upload:scale-110 transition-all duration-300",children:x.jsx(sh,{size:32})}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-slate-900 font-black text-sm uppercase tracking-wider",children:"Subir Imagen"}),x.jsx("span",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest",children:"Click para seleccionar archivo"})]})]}),r.label&&!r.url&&x.jsx("div",{className:"px-2 py-1 text-center",children:x.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-400 leading-tight block",children:r.label})})]})]})},vN=re.memo(yN),Bu={star:Op,info:Mp,alert:Fp,check:wp,zap:lc,heart:jp,target:$p,case:vp,grad:Cp,bulb:zp,file:Ep,layout:kl,cal:xp,user:Hp,globe:Sp,set:Dp,flame:bp,rock:Tp,coffee:_p,lock:Ip,done:Ei,find:Ap,flag:Np,bell:yp},xN=({id:t,data:r,selected:i,type:l})=>{var S;const{setNodes:a,setEdges:u}=kr(),[c,d]=re.useState(!1),[f,g]=re.useState(r.label||"Nuevo Concepto"),[m,p]=re.useState(r.code||""),[v,w]=re.useState(!!r.code),[k,N]=re.useState(!1),[M,I]=re.useState(!1),L=re.useRef(null),_=re.useRef(null),E=/(https?:\/\/[^\s]+)/g,$=(S=f.match(E))==null?void 0:S[0],P=r.style||{backgroundColor:"#ffffff",color:"#0f172a",fontSize:14,fontWeight:"normal",textDecoration:"none",fontFamily:"sans-serif",scale:1};re.useEffect(()=>{c&&L.current&&(L.current.focus(),L.current.select())},[c]);const B=T=>{a(J=>J.map(D=>D.id===t?{...D,data:{...D.data,style:{...P,...T}}}:D))},H=T=>{a(J=>J.map(D=>D.id===t?{...D,data:{...D.data,icon:T}}:D)),N(!1)},K=()=>{a(T=>T.filter(J=>J.id!==t)),u(T=>T.filter(J=>J.source!==t&&J.target!==t))},W=T=>{T.stopPropagation(),d(!0)},V=T=>{if(T.key==="Enter"&&!T.shiftKey){T.preventDefault(),r.label=f,r.code=m,d(!1);return}if(T.key==="Enter"&&T.shiftKey){const J=T.target.selectionStart,z=f.substring(0,J).split(`
`),Y=z[z.length-1];if(Y.match(/^(\s*)-\s+(.*)/)){T.preventDefault();const ne=f.substring(0,J)+`
- `+f.substring(J);g(ne),setTimeout(()=>{L.current.selectionStart=L.current.selectionEnd=J+3},0);return}const Q=Y.match(/^(\s*)(\d+)\.\s+(.*)/);if(Q){T.preventDefault();const ne=parseInt(Q[2])+1,le=f.substring(0,J)+`
${ne}. `+f.substring(J);g(le),setTimeout(()=>{L.current.selectionStart=L.current.selectionEnd=J+(ne.toString().length+3)},0);return}}T.key==="Escape"&&(g(r.label),p(r.code||""),d(!1))},U=T=>{T.relatedTarget&&(T.relatedTarget===L.current||T.relatedTarget===_.current)||(r.label=f,r.code=m,d(!1))},G=T=>{if(T==="transparent"||T.toLowerCase()==="#ffffff")return"#0f172a";const J=parseInt(T.substr(1,2),16),D=parseInt(T.substr(3,2),16),z=parseInt(T.substr(5,2),16);return(J*299+D*587+z*114)/1e3>=128?"#0f172a":"#ffffff"},C=()=>{f.length;const T=P.fontSize||14,J=r.width,D=r.height,z=T*.6,Y=f.split(`
`).length,Z=Math.max(...f.split(`
`).map(le=>le.length),1),Q=J||Math.max(140,Z*z+60),ne=D||Math.max(80,Y*T*1.5+60);switch(l){case"circle":{const le=Math.max(Q,ne);return{container:{width:le,height:le},shape:"rounded-full"}}case"diamond":{const le=Math.max(Q,ne)*1.2;return{container:{width:le,height:le},shape:"[clip-path:polygon(50%_0%,100%_50%,50%_100%,0%_50%)]"}}case"capsule":return{container:{width:Q+20,height:ne},shape:"rounded-full"};case"hexagon":return{container:{width:Q+40,height:ne+20},shape:"[clip-path:polygon(25%_0%,75%_0%,100%_50%,75%_100%,25%_100%,0%_50%)]"};case"triangle":{const le=Q*1.5,ae=ne*1.8;return{container:{width:le,height:ae},shape:"[clip-path:polygon(50%_0%,0%_100%,100%_100%)]"}}case"note":return{container:{width:Math.max(180,Q),height:Math.max(180,ne)},shape:"rounded-sm"};default:return{container:{width:Q,height:ne},shape:"rounded-[1.5rem]"}}},X=()=>{const T=P.backgroundColor&&P.backgroundColor!=="#ffffff"&&P.backgroundColor!=="transparent",J="transition-all duration-300 ease-out border-none opacity-100 shadow-none";return l==="note"?(P.backgroundColor,`text-slate-900 ${i?"brightness-110":"hover:brightness-105"}`):`${J} ${T?"":"bg-white"} ${i?"z-10 brightness-[0.98]":"hover:brightness-[0.99]"}`},R=G(P.backgroundColor||"#ffffff"),O={fontSize:`${P.fontSize}px`,fontWeight:P.fontWeight,textDecoration:P.textDecoration,fontFamily:P.fontFamily,color:R},{container:j,shape:A}=C(),F={width:`${j.width}px`,height:`${j.height}px`,backgroundColor:P.backgroundColor,filter:i?"drop-shadow(0 0 15px rgba(59, 130, 246, 0.5)) drop-shadow(0 0 2px rgba(59, 130, 246, 0.8))":"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.4))"};return x.jsxs("div",{onDoubleClick:W,className:"group relative flex items-center justify-center",style:{width:F.width,height:F.height},children:[x.jsx("div",{className:`absolute inset-0 ${A} ${X()}`,style:F}),x.jsx(Sc,{isVisible:M,minWidth:100,minHeight:50,handleStyle:{width:10,height:10,borderRadius:"50%",backgroundColor:"#3b82f6",border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",margin:-5},lineStyle:{border:"1.5px solid #3b82f6",opacity:.4},onResize:(T,J)=>{a(D=>D.map(z=>z.id===t?{...z,data:{...z.data,width:J.width,height:J.height}}:z))}}),x.jsxs(zg,{isVisible:i&&!c,position:he.Top,className:"flex items-center gap-1.5 p-2 bg-slate-900/80 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-[0_15px_30px_rgba(0,0,0,0.5)] animate-in fade-in zoom-in slide-in-from-bottom-2 duration-300 mb-4",children:[x.jsxs("div",{className:"flex items-center gap-1.5 border-r border-slate-700 pr-2 shrink-0",children:[x.jsx("button",{onClick:()=>I(!M),className:`p-1.5 rounded-lg transition-all ${M?"bg-blue-600 text-white":"hover:bg-slate-800 text-blue-400"}`,title:M?"Finalizar Ajuste":"Ajustar Tamao Manualmente",children:M?x.jsx(Ei,{size:14}):x.jsx(di,{size:14})}),x.jsx("input",{type:"color",value:P.backgroundColor||"#ffffff",onChange:T=>B({backgroundColor:T.target.value}),className:"w-6 h-6 rounded-md cursor-pointer bg-transparent border-none appearance-none",title:"Color de Fondo"}),$&&x.jsxs("button",{onClick:()=>window.open($,"_blank","noopener,noreferrer"),className:"p-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-all animate-in fade-in zoom-in duration-300 flex items-center gap-1.5 ml-1",title:"Abrir Enlace Externo",children:[x.jsx(ov,{size:12}),x.jsx("span",{className:"text-[10px] font-bold",children:"Ir a link"})]})]}),x.jsxs("div",{className:"flex items-center gap-1.5 border-r border-slate-700 pr-2 shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg px-2 py-0.5 border border-white/5",children:[x.jsx(fi,{size:10,className:"text-emerald-400"}),x.jsx("input",{type:"number",value:P.fontSize||14,onChange:T=>B({fontSize:parseInt(T.target.value)||12}),className:"w-8 bg-transparent text-center text-[10px] text-white focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none font-black",title:"Tamao de Letra"}),x.jsxs("div",{className:"flex flex-col border-l border-slate-700 pl-0.5 ml-0.5",children:[x.jsx("button",{onClick:()=>B({fontSize:(P.fontSize||14)+1}),className:"p-0 hover:bg-slate-700 rounded-sm text-slate-400 hover:text-white transition-colors",title:"Aumentar Letra",children:x.jsx(By,{size:10})}),x.jsx("button",{onClick:()=>B({fontSize:(P.fontSize||14)-1}),className:"p-0 hover:bg-slate-700 rounded-sm text-slate-400 hover:text-white transition-colors",title:"Disminuir Letra",children:x.jsx(Hy,{size:10})})]})]}),x.jsx("button",{onClick:()=>{w(!v),v||(d(!0),setTimeout(()=>{var T;return(T=_.current)==null?void 0:T.focus()},100))},className:`p-1.5 rounded-lg transition-colors ml-1 ${v?"bg-emerald-500/20 text-emerald-400":"hover:bg-slate-800 text-slate-400"}`,title:v?"Ocultar Editor de Cdigo":"Aadir Bloque de Cdigo",children:x.jsx(Jy,{size:14})})]}),x.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[x.jsx("button",{onClick:()=>B({fontWeight:P.fontWeight==="bold"?"normal":"bold"}),className:`p-1.5 rounded-lg transition-colors ${P.fontWeight==="bold"?"bg-blue-600 text-white":"hover:bg-slate-800 text-slate-400"}`,title:"Negrita",children:x.jsx(Ly,{size:14})}),x.jsx("button",{onClick:()=>B({textDecoration:P.textDecoration==="underline"?"none":"underline"}),className:`p-1.5 rounded-lg transition-colors ${P.textDecoration==="underline"?"bg-blue-600 text-white":"hover:bg-slate-800 text-slate-400"}`,title:"Subrayado",children:x.jsx(Kv,{size:14})}),x.jsx("button",{onClick:()=>{const T=["sans-serif","serif","monospace"],J=T[(T.indexOf(P.fontFamily)+1)%T.length];B({fontFamily:J})},className:"p-1.5 hover:bg-slate-800 rounded-lg text-slate-400 transition-colors",title:"Cambiar Fuente",children:x.jsx(fi,{size:14})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>N(!k),className:`p-1.5 rounded-lg transition-colors ${r.icon?"bg-blue-600/30 text-blue-400":"hover:bg-slate-800 text-slate-400"}`,title:"Aadir Icono",children:x.jsx(Rp,{size:14})}),k&&x.jsxs("div",{className:"absolute top-12 left-1/2 -translate-x-1/2 bg-slate-900/95 backdrop-blur-2xl border border-white/10 p-3 rounded-2xl shadow-[0_25px_50px_rgba(0,0,0,0.6)] z-[500] grid grid-cols-6 gap-1.5 min-w-[210px] animate-in fade-in zoom-in duration-200",children:[x.jsx("button",{onClick:()=>H(null),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 text-[10px] font-black uppercase tracking-wider col-span-2 transition-colors",children:"Ninguno"}),Object.entries(Bu).map(([T,J])=>x.jsx("button",{onClick:()=>H(T),className:"p-2 hover:bg-blue-600 hover:text-white rounded-xl text-slate-400 transition-all hover:scale-110 active:scale-90",children:x.jsx(J,{size:16})},T))]})]})]}),x.jsx("div",{className:"flex items-center pl-1 border-l border-slate-700 shrink-0",children:x.jsx("button",{onClick:K,className:"p-1.5 hover:bg-red-500/10 hover:text-red-400 rounded-lg text-slate-500 transition-colors",title:"Eliminar Nodo",children:x.jsx(Ni,{size:14})})})]}),x.jsx(Ge,{type:"target",position:he.Top,id:"t-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Top,id:"t-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Bottom,id:"b-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Bottom,id:"b-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Left,id:"l-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Left,id:"l-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx(Ge,{type:"target",position:he.Right,id:"r-target",className:"!bg-blue-400 !w-2.5 !h-2.5 !border-none !transition-all hover:!bg-blue-600 shadow-sm"}),x.jsx(Ge,{type:"source",position:he.Right,id:"r-source",className:"!bg-blue-300/40 !w-2.5 !h-2.5 !border-none !opacity-0 group-hover:!opacity-100 !transition-all shadow-sm"}),x.jsx("div",{className:`relative z-10 w-full h-full flex flex-col items-center justify-center p-6 ${l==="triangle"?"pt-12":""}`,children:c?x.jsxs("div",{className:"flex flex-col w-full gap-2 relative",children:[x.jsx("textarea",{ref:L,value:f,onChange:T=>g(T.target.value),onKeyDown:V,onBlur:U,placeholder:"Nuevo Concepto",style:O,className:"w-full bg-transparent text-center focus:outline-none resize-none overflow-hidden placeholder-slate-400/50",rows:Math.max(1,f.split(`
`).length)}),v&&x.jsxs("div",{className:"w-full relative group/code-edit animate-in fade-in slide-in-from-top-2 duration-200",children:[x.jsx("div",{className:"absolute -top-3 left-2 px-2 bg-slate-800 text-[9px] text-slate-400 rounded-full border border-slate-700 font-mono z-20",children:"CODE"}),x.jsx("textarea",{ref:_,value:m,onChange:T=>p(T.target.value),onBlur:U,placeholder:"// Pega tu cdigo aqu...",className:"w-full bg-[#1e1e1e] text-emerald-400 font-mono text-[11px] p-3 rounded-xl border border-slate-700 focus:border-emerald-500/50 focus:outline-none resize-y min-h-[80px] shadow-inner custom-scrollbar leading-relaxed opacity-95 hover:opacity-100 transition-all",spellCheck:!1})]})]}):x.jsxs("div",{className:"flex flex-col items-center w-full max-w-full",children:[x.jsxs("div",{style:O,className:"text-center break-words pointer-events-none whitespace-pre-wrap max-w-full flex items-center justify-center gap-2 mb-1",children:[r.icon&&Bu[r.icon]&&x.jsx("div",{className:"shrink-0 opacity-100",style:{color:R},children:fo.createElement(Bu[r.icon],{size:P.fontSize+4})}),x.jsx("span",{children:f})]}),(m||v)&&m.trim()&&x.jsxs("div",{className:"w-full mt-2 bg-[#1e1e1e] rounded-xl border border-white/10 overflow-hidden text-left relative group/code shadow-lg max-w-[95%]",children:[x.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover/code:opacity-100 transition-opacity z-10",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/50"}),x.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/50"}),x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/50"})]}),x.jsx("pre",{className:"p-3 pt-4 text-[11px] font-mono text-emerald-400 overflow-x-auto custom-scrollbar leading-relaxed",children:x.jsx("code",{children:m})})]})]})})]})},_r=fo.memo(xN),wN=({onAddNode:t})=>{const r=[{id:"concept",icon:Dy,label:"Concepto",type:"default",color:"#ffffff"},{id:"circle",icon:Xy,label:"Proceso",type:"circle",color:"#10b981"},{id:"diamond",icon:nv,label:"Decisin",type:"diamond",color:"#f59e0b"},{id:"capsule",icon:Tv,label:"Categora",type:"capsule",color:"#3b82f6"},{id:"hexagon",icon:fv,label:"Estructura",type:"hexagon",color:"#8b5cf6"},{id:"triangle",icon:Gv,label:"Alerta/Jerarqua",type:"triangle",color:"#f43f5e"},{id:"note",icon:Bv,label:"Nota",type:"note",color:"#fbbf24"},{id:"image",icon:pv,label:"Imagen",type:"image"},{id:"group",icon:sc,label:"Agrupar",type:"group"}];return x.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex flex-col gap-2 p-2 bg-slate-900/80 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl z-50 animate-in slide-in-from-left-4 duration-500",children:[x.jsx("div",{className:"p-2 mb-2 border-b border-slate-700/50 flex justify-center",children:x.jsx(Pp,{size:18,className:"text-slate-500"})}),r.map(i=>x.jsxs("button",{onClick:()=>t(i.type,i.color),className:"p-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-all group relative",title:i.label,children:[x.jsx(i.icon,{size:22}),x.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-slate-800 text-xs text-white rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap border border-slate-700",children:i.label})]},i.id))]})},kN=({onClose:t})=>x.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:x.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[x.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl text-blue-400",children:x.jsx(kp,{size:24})}),x.jsx("h2",{className:"text-xl font-bold text-white",children:"Gua de Usuario"})]}),x.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:x.jsx(Vp,{size:24})})]}),x.jsxs("div",{className:"p-8 overflow-y-auto space-y-8 custom-scrollbar",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[x.jsx(lc,{size:16})," Diseo Inteligente"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"p-4 bg-blue-600/10 rounded-2xl border border-blue-500/20",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(kl,{size:16,className:"text-blue-400"}),x.jsx("p",{className:"text-sm font-bold text-white",children:"Auto Organizar"})]}),x.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Ordena jerrquicamente tu mapa con un click."})]}),x.jsxs("div",{className:"p-4 bg-blue-600/10 rounded-2xl border border-blue-500/20",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(ExternalLink,{size:16,className:"text-blue-400"}),x.jsx("p",{className:"text-sm font-bold text-white",children:"Enlaces Externos"})]}),x.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Si pegas una URL, aparecer un botn para abrirla en una pestaa nueva."})]}),x.jsxs("div",{className:"p-4 bg-blue-600/10 rounded-2xl border border-blue-500/20",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(di,{size:16,className:"text-blue-400"}),x.jsx("p",{className:"text-sm font-bold text-white",children:"Redimensionar"})]}),x.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Ajusta el tamao fsico de cualquier nodo o grupo con el botn de expandir."})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[x.jsx(fi,{size:16})," Edicin y Formato"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("p",{className:"text-sm font-bold text-white mb-2 leading-tight",children:"Saltos de lnea y Vietas"}),x.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Presiona ",x.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded text-[10px] text-white",children:"Shift + Enter"})," para crear una nueva lnea o aadir un punto a tu lista."]})]}),x.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("p",{className:"text-sm font-bold text-white mb-2 leading-tight",children:"Crear Listas"}),x.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Inicia con ",x.jsx("code",{className:"text-blue-400",children:"-"})," o ",x.jsx("code",{className:"text-blue-400",children:"1."})," y usa ",x.jsx("kbd",{className:"px-1 py-0.5 bg-slate-700 rounded text-[9px] text-emerald-400 font-bold",children:"Shift+Enter"})," para aadir vietas o nmeros automticamente."]})]}),x.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-2xl border border-slate-800 col-span-1 md:col-span-2",children:[x.jsxs("p",{className:"text-sm font-bold text-white mb-2 leading-tight flex items-center gap-2",children:[x.jsx(Code,{size:14,className:"text-emerald-400"})," Editor de Cdigo"]}),x.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Pulsa ",x.jsx(Code,{size:10,className:"inline mx-1"})," para activar el campo dedicado de cdigo. Pega tu snippet ah para conservar el formato perfecto."]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[x.jsx(Pp,{size:16})," Interaccin"]}),x.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("p",{className:"text-sm font-bold text-white mb-1",children:"Doble Click"}),x.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Edita texto en nodos o abre ajustes avanzados de color y etiquetas en las flechas."})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[x.jsx(sc,{size:16})," Grupos"]}),x.jsx("div",{className:"p-5 bg-slate-800/40 rounded-2xl border border-slate-700/50 space-y-4",children:x.jsxs("ul",{className:"space-y-3 font-medium",children:[x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),x.jsxs("p",{className:"text-xs text-slate-300",children:[x.jsx("strong",{children:"Redimensionar"}),": Ahora puedes ajustar el tamao del rea de grupo manualmente."]})]}),x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),x.jsxs("p",{className:"text-xs text-slate-300",children:[x.jsx("strong",{children:"Desagrupar"}),": Libera los nodos manteniendo su posicin global."]})]}),x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),x.jsxs("p",{className:"text-xs text-slate-300",children:[x.jsx("strong",{children:"Mover"}),": Al arrastrar el grupo, el contenido se mueve solidariamente."]})]})]})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider flex items-center gap-2",children:[x.jsx(yv,{size:16})," Comandos Rpidos"]}),x.jsxs("div",{className:"space-y-3 text-xs",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("span",{className:"text-slate-300",children:"Borrar Nodos/Conexiones / Seleccin Mltiple"}),x.jsx("kbd",{className:"px-3 py-1 bg-slate-700 rounded-md font-mono text-white border-b-2 border-slate-950",children:"Supr / Backspace"})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("span",{className:"text-slate-300",children:"Confirmar Edicin"}),x.jsx("kbd",{className:"px-3 py-1 bg-slate-700 rounded-md font-mono text-white border-b-2 border-slate-950",children:"Enter"})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-800",children:[x.jsx("span",{className:"text-slate-300",children:"Nuevo Rengln"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("kbd",{className:"px-3 py-1 bg-slate-700 rounded-md font-mono text-white border-b-2 border-slate-950",children:"Shift"}),x.jsx("span",{className:"text-slate-500",children:"+"}),x.jsx("kbd",{className:"px-3 py-1 bg-slate-700 rounded-md font-mono text-white border-b-2 border-slate-950",children:"Enter"})]})]})]})]}),x.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-600/10 to-emerald-500/10 rounded-3xl border border-blue-500/20",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-2xl text-emerald-400",children:x.jsx(Lp,{size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-bold text-white",children:"Autoguardado Activo"}),x.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizacin automtica con Drive cada **15 segundos**."})]})]})})]}),x.jsx("div",{className:"p-6 border-t border-slate-800 text-center bg-slate-800/30",children:x.jsx("button",{onClick:t,className:"px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-2xl font-bold transition-all shadow-lg shadow-blue-500/20",children:"Entendido!"})})]})}),_N=({isOpen:t,onClose:r,onSave:i,onDelete:l,initialLabel:a="",initialColor:u="#3b82f6",initialDirection:c="forward"})=>{const[d,f]=re.useState(a),[g,m]=re.useState(u),[p,v]=re.useState(c);if(!t)return null;const w=[{name:"Blue",value:"#3b82f6"},{name:"Emerald",value:"#10b981"},{name:"Rose",value:"#f43f5e"},{name:"Amber",value:"#f59e0b"},{name:"Purple",value:"#8b5cf6"},{name:"Slate",value:"#64748b"}],k=[{id:"forward",label:"Normal",icon:Iy},{id:"backward",label:"Inversa",icon:mp},{id:"both",label:"Doble",icon:My}];return x.jsx("div",{className:"absolute inset-0 bg-slate-950/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden flex flex-col",children:[x.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[x.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[x.jsx(fi,{size:18,className:"text-blue-400"}),"Editar Conexin"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>{confirm("Eliminar esta conexin?")&&(l(),r())},className:"p-1.5 hover:bg-red-500/10 text-slate-500 hover:text-red-400 rounded-lg transition-colors",title:"Eliminar Conexin",children:x.jsx(Ni,{size:18})}),x.jsx("button",{onClick:r,className:"p-1.5 hover:bg-slate-700 rounded-full text-slate-400 transition-colors",children:x.jsx(Vp,{size:20})})]})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 block",children:"Etiqueta"}),x.jsx("input",{type:"text",value:d,onChange:N=>f(N.target.value),placeholder:"Ej: Relacionado con...",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all",autoFocus:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 block flex items-center gap-2",children:[x.jsx(jv,{size:14})," Direccin del Flujo"]}),x.jsx("div",{className:"flex gap-2 p-1 bg-slate-800/50 rounded-2xl border border-slate-700/50",children:k.map(N=>x.jsxs("button",{onClick:()=>v(N.id),className:`flex-1 flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl transition-all ${p===N.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50"}`,children:[x.jsx(N.icon,{size:18}),x.jsx("span",{className:"text-[10px] uppercase font-bold tracking-tighter",children:N.label})]},N.id))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 block flex items-center gap-2",children:[x.jsx(zv,{size:14})," Color de la Flecha"]}),x.jsx("div",{className:"grid grid-cols-6 gap-2 mb-4",children:w.map(N=>x.jsx("button",{onClick:()=>m(N.value),className:`w-8 h-8 rounded-full border-2 transition-all ${g===N.value?"border-white scale-110 shadow-lg":"border-transparent hover:scale-105"}`,style:{backgroundColor:N.value},title:N.name},N.value))}),x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-2xl border border-slate-700/50",children:[x.jsx("input",{type:"color",value:g,onChange:N=>m(N.target.value),className:"w-10 h-10 rounded-lg cursor-pointer bg-transparent border-none appearance-none"}),x.jsx("span",{className:"text-sm font-mono text-slate-400 uppercase",children:g})]})]})]}),x.jsxs("div",{className:"p-4 bg-slate-800/30 border-t border-slate-800 flex gap-3",children:[x.jsx("button",{onClick:r,className:"flex-1 px-4 py-2.5 text-slate-400 hover:text-white font-medium transition-colors",children:"Cancelar"}),x.jsx("button",{onClick:()=>i({label:d,color:g,direction:p}),className:"flex-[2] bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold py-2.5 shadow-lg shadow-blue-500/20 transition-all",children:"Guardar Cambios"})]})]})})},Wu={star:Op,info:Mp,alert:Fp,check:wp,zap:lc,heart:jp,target:$p,case:vp,grad:Cp,bulb:zp,file:Ep,layout:kl,cal:xp,user:Hp,globe:Sp,set:Dp,flame:bp,rock:Tp,coffee:_p,lock:Ip,done:Ei,find:Ap,flag:Np,bell:yp},EN=({id:t,data:r,selected:i})=>{const{setNodes:l,setEdges:a,getNodes:u}=kr(),[c,d]=re.useState(!1),[f,g]=re.useState(!1),[m,p]=re.useState(r.label||"Ttulo del Grupo"),[v,w]=re.useState(!1),k=re.useRef(null),N=r.style||{},M=N.backgroundColor||"rgba(30, 41, 59, 0.2)";re.useEffect(()=>{c&&k.current&&k.current.focus()},[c]);const I=P=>{l(B=>B.map(H=>H.id===t?{...H,data:{...H.data,style:{...N,...P}}}:H))},L=P=>{l(B=>B.map(H=>H.id===t?{...H,data:{...H.data,icon:P}}:H)),g(!1)},_=()=>{const P=u();P.filter(H=>H.parentId===t);const B=P.find(H=>H.id===t);B&&l(H=>H.map(W=>W.parentId===t?{...W,parentId:void 0,extent:void 0,position:{x:W.position.x+B.position.x,y:W.position.y+B.position.y}}:W).filter(W=>W.id!==t))},E=P=>{p(P),l(B=>B.map(H=>H.id===t?{...H,data:{...H.data,label:P}}:H))},$=P=>{P.stopPropagation(),d(!0)};return x.jsxs("div",{onDoubleClick:$,className:`w-full h-full min-w-[240px] min-h-[180px] rounded-[2.5rem] border-none transition-all duration-700 ease-out group ${i?"shadow-2xl":"shadow-xl shadow-black/20"}`,style:{backgroundColor:M,filter:i?"drop-shadow(0 0 20px rgba(255, 255, 255, 0.15)) drop-shadow(0 0 5px rgba(59, 130, 246, 0.5))":"none"},children:[x.jsx(Sc,{isVisible:v,minWidth:200,minHeight:150,handleStyle:{width:10,height:10,borderRadius:"50%",backgroundColor:"#3b82f6",border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",margin:-5},lineStyle:{border:"1.5px solid #3b82f6",opacity:.4},onResize:(P,B)=>{l(H=>H.map(K=>K.id===t?{...K,style:{...K.style,width:B.width,height:B.height}}:K))}}),x.jsxs(zg,{isVisible:i&&!c,position:he.Top,className:"flex items-center gap-1.5 p-2 bg-slate-900/80 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-[0_20px_40px_rgba(0,0,0,0.5)] animate-in fade-in zoom-in slide-in-from-bottom-2 duration-300 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-1 pr-1 border-r border-slate-700 shrink-0",children:[x.jsx("input",{type:"color",value:M.startsWith("rgba")?"#1e293b":M,onChange:P=>I({backgroundColor:P.target.value}),className:"w-8 h-8 rounded-lg cursor-pointer bg-transparent border-none appearance-none",title:"Color del Grupo"}),x.jsx("button",{onClick:()=>d(!0),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors flex items-center",title:"Editar Ttulo",children:x.jsx(fi,{size:14})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>g(!f),className:`p-1.5 rounded-lg transition-colors ${r.icon?"bg-blue-600 text-white":"hover:bg-slate-100 text-slate-600"}`,title:"Aadir Icono al Grupo",children:x.jsx(Rp,{size:14})}),f&&x.jsxs("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-slate-900 border border-slate-700 p-2 rounded-xl shadow-2xl z-[500] grid grid-cols-6 gap-1 min-w-[180px]",children:[x.jsx("button",{onClick:()=>L(null),className:"p-1.5 hover:bg-slate-800 rounded-lg text-slate-500 text-[10px] font-bold col-span-2",children:"Sin Icono"}),Object.entries(Wu).map(([P,B])=>x.jsx("button",{onClick:()=>L(P),className:"p-1.5 hover:bg-blue-600 hover:text-white rounded-lg text-slate-400 transition-colors",children:x.jsx(B,{size:14})},P))]})]})]}),x.jsx("div",{className:"flex items-center gap-1.5 border-r border-slate-700 pr-2 shrink-0",children:x.jsx("button",{onClick:()=>w(!v),className:`p-1.5 rounded-lg transition-all ${v?"bg-blue-600 text-white":"hover:bg-slate-800 text-blue-400"}`,title:v?"Finalizar Ajuste":"Ajustar Tamao de Grupo",children:v?x.jsx(Ei,{size:14}):x.jsx(di,{size:14})})}),x.jsxs("button",{onClick:_,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-700 transition-colors flex items-center gap-2 text-xs font-bold px-3",title:"Disolver grupo y liberar nodos",children:[x.jsx(sc,{size:14,className:"rotate-180"})," Desagrupar"]}),x.jsx("button",{onClick:()=>{const B=u().filter(K=>K.parentId===t).map(K=>K.id),H=[t,...B];l(K=>K.filter(W=>!H.includes(W.id))),a(K=>K.filter(W=>!H.includes(W.source)&&!H.includes(W.target)))},className:"p-2 hover:bg-red-500/10 hover:text-red-400 rounded-lg text-slate-500 transition-colors",title:"Eliminar Grupo y Contenido",children:x.jsx(Ni,{size:16})})]}),x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-5 flex items-center gap-4 bg-white rounded-t-[2.5rem] pointer-events-none transition-colors border-none",children:[r.icon&&Wu[r.icon]&&x.jsx("div",{className:"shrink-0 text-blue-600 group-hover:scale-110 transition-transform",children:fo.createElement(Wu[r.icon],{size:20})}),x.jsx("div",{className:"flex-1",children:c?x.jsx("input",{ref:k,value:m,onChange:P=>E(P.target.value),onBlur:()=>d(!1),onKeyDown:P=>P.key==="Enter"&&d(!1),className:"bg-white/10 text-white font-bold text-sm px-3 py-1 rounded-xl border border-blue-500/50 outline-none pointer-events-auto w-full transition-all focus:bg-white/20"}):x.jsx("h3",{className:"text-[10px] uppercase font-black tracking-[0.3em] text-slate-800 group-hover:text-blue-600 transition-colors truncate",children:m})}),x.jsx(di,{size:14,className:"text-slate-300 group-hover:text-slate-500 transition-colors shrink-0"})]}),x.jsx("div",{className:"w-full h-full pt-16 p-6 pointer-events-none flex items-center justify-center",children:x.jsx("span",{className:"text-[9px] uppercase tracking-[0.4em] font-black text-white/5 select-none transition-opacity group-hover:opacity-40",children:"Contenedor de Conceptos"})})]})},NN=re.memo(EN);var Te=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Wt=Te((t,r)=>{var i=Object.defineProperty,l=(G,C,X)=>C in G?i(G,C,{enumerable:!0,configurable:!0,writable:!0,value:X}):G[C]=X,a=(G,C)=>()=>(C||G((C={exports:{}}).exports,C),C.exports),u=(G,C,X)=>l(G,typeof C!="symbol"?C+"":C,X),c=a((G,C)=>{var X="\0",R="\0",O="",j=class{constructor(D){u(this,"_isDirected",!0),u(this,"_isMultigraph",!1),u(this,"_isCompound",!1),u(this,"_label"),u(this,"_defaultNodeLabelFn",()=>{}),u(this,"_defaultEdgeLabelFn",()=>{}),u(this,"_nodes",{}),u(this,"_in",{}),u(this,"_preds",{}),u(this,"_out",{}),u(this,"_sucs",{}),u(this,"_edgeObjs",{}),u(this,"_edgeLabels",{}),u(this,"_nodeCount",0),u(this,"_edgeCount",0),u(this,"_parent"),u(this,"_children"),D&&(this._isDirected=Object.hasOwn(D,"directed")?D.directed:!0,this._isMultigraph=Object.hasOwn(D,"multigraph")?D.multigraph:!1,this._isCompound=Object.hasOwn(D,"compound")?D.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[R]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(D){return this._label=D,this}graph(){return this._label}setDefaultNodeLabel(D){return this._defaultNodeLabelFn=D,typeof D!="function"&&(this._defaultNodeLabelFn=()=>D),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var D=this;return this.nodes().filter(z=>Object.keys(D._in[z]).length===0)}sinks(){var D=this;return this.nodes().filter(z=>Object.keys(D._out[z]).length===0)}setNodes(D,z){var Y=arguments,Z=this;return D.forEach(function(Q){Y.length>1?Z.setNode(Q,z):Z.setNode(Q)}),this}setNode(D,z){return Object.hasOwn(this._nodes,D)?(arguments.length>1&&(this._nodes[D]=z),this):(this._nodes[D]=arguments.length>1?z:this._defaultNodeLabelFn(D),this._isCompound&&(this._parent[D]=R,this._children[D]={},this._children[R][D]=!0),this._in[D]={},this._preds[D]={},this._out[D]={},this._sucs[D]={},++this._nodeCount,this)}node(D){return this._nodes[D]}hasNode(D){return Object.hasOwn(this._nodes,D)}removeNode(D){var z=this;if(Object.hasOwn(this._nodes,D)){var Y=Z=>z.removeEdge(z._edgeObjs[Z]);delete this._nodes[D],this._isCompound&&(this._removeFromParentsChildList(D),delete this._parent[D],this.children(D).forEach(function(Z){z.setParent(Z)}),delete this._children[D]),Object.keys(this._in[D]).forEach(Y),delete this._in[D],delete this._preds[D],Object.keys(this._out[D]).forEach(Y),delete this._out[D],delete this._sucs[D],--this._nodeCount}return this}setParent(D,z){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(z===void 0)z=R;else{z+="";for(var Y=z;Y!==void 0;Y=this.parent(Y))if(Y===D)throw new Error("Setting "+z+" as parent of "+D+" would create a cycle");this.setNode(z)}return this.setNode(D),this._removeFromParentsChildList(D),this._parent[D]=z,this._children[z][D]=!0,this}_removeFromParentsChildList(D){delete this._children[this._parent[D]][D]}parent(D){if(this._isCompound){var z=this._parent[D];if(z!==R)return z}}children(D=R){if(this._isCompound){var z=this._children[D];if(z)return Object.keys(z)}else{if(D===R)return this.nodes();if(this.hasNode(D))return[]}}predecessors(D){var z=this._preds[D];if(z)return Object.keys(z)}successors(D){var z=this._sucs[D];if(z)return Object.keys(z)}neighbors(D){var z=this.predecessors(D);if(z){let Z=new Set(z);for(var Y of this.successors(D))Z.add(Y);return Array.from(Z.values())}}isLeaf(D){var z;return this.isDirected()?z=this.successors(D):z=this.neighbors(D),z.length===0}filterNodes(D){var z=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});z.setGraph(this.graph());var Y=this;Object.entries(this._nodes).forEach(function([ne,le]){D(ne)&&z.setNode(ne,le)}),Object.values(this._edgeObjs).forEach(function(ne){z.hasNode(ne.v)&&z.hasNode(ne.w)&&z.setEdge(ne,Y.edge(ne))});var Z={};function Q(ne){var le=Y.parent(ne);return le===void 0||z.hasNode(le)?(Z[ne]=le,le):le in Z?Z[le]:Q(le)}return this._isCompound&&z.nodes().forEach(ne=>z.setParent(ne,Q(ne))),z}setDefaultEdgeLabel(D){return this._defaultEdgeLabelFn=D,typeof D!="function"&&(this._defaultEdgeLabelFn=()=>D),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(D,z){var Y=this,Z=arguments;return D.reduce(function(Q,ne){return Z.length>1?Y.setEdge(Q,ne,z):Y.setEdge(Q,ne),ne}),this}setEdge(){var D,z,Y,Z,Q=!1,ne=arguments[0];typeof ne=="object"&&ne!==null&&"v"in ne?(D=ne.v,z=ne.w,Y=ne.name,arguments.length===2&&(Z=arguments[1],Q=!0)):(D=ne,z=arguments[1],Y=arguments[3],arguments.length>2&&(Z=arguments[2],Q=!0)),D=""+D,z=""+z,Y!==void 0&&(Y=""+Y);var le=S(this._isDirected,D,z,Y);if(Object.hasOwn(this._edgeLabels,le))return Q&&(this._edgeLabels[le]=Z),this;if(Y!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(D),this.setNode(z),this._edgeLabels[le]=Q?Z:this._defaultEdgeLabelFn(D,z,Y);var ae=T(this._isDirected,D,z,Y);return D=ae.v,z=ae.w,Object.freeze(ae),this._edgeObjs[le]=ae,A(this._preds[z],D),A(this._sucs[D],z),this._in[z][le]=ae,this._out[D][le]=ae,this._edgeCount++,this}edge(D,z,Y){var Z=arguments.length===1?J(this._isDirected,arguments[0]):S(this._isDirected,D,z,Y);return this._edgeLabels[Z]}edgeAsObj(){let D=this.edge(...arguments);return typeof D!="object"?{label:D}:D}hasEdge(D,z,Y){var Z=arguments.length===1?J(this._isDirected,arguments[0]):S(this._isDirected,D,z,Y);return Object.hasOwn(this._edgeLabels,Z)}removeEdge(D,z,Y){var Z=arguments.length===1?J(this._isDirected,arguments[0]):S(this._isDirected,D,z,Y),Q=this._edgeObjs[Z];return Q&&(D=Q.v,z=Q.w,delete this._edgeLabels[Z],delete this._edgeObjs[Z],F(this._preds[z],D),F(this._sucs[D],z),delete this._in[z][Z],delete this._out[D][Z],this._edgeCount--),this}inEdges(D,z){return this.isDirected()?this.filterEdges(this._in[D],D,z):this.nodeEdges(D,z)}outEdges(D,z){return this.isDirected()?this.filterEdges(this._out[D],D,z):this.nodeEdges(D,z)}nodeEdges(D,z){if(D in this._nodes)return this.filterEdges({...this._in[D],...this._out[D]},D,z)}filterEdges(D,z,Y){if(D){var Z=Object.values(D);return Y?Z.filter(function(Q){return Q.v===z&&Q.w===Y||Q.v===Y&&Q.w===z}):Z}}};function A(D,z){D[z]?D[z]++:D[z]=1}function F(D,z){--D[z]||delete D[z]}function S(D,z,Y,Z){var Q=""+z,ne=""+Y;if(!D&&Q>ne){var le=Q;Q=ne,ne=le}return Q+O+ne+O+(Z===void 0?X:Z)}function T(D,z,Y,Z){var Q=""+z,ne=""+Y;if(!D&&Q>ne){var le=Q;Q=ne,ne=le}var ae={v:Q,w:ne};return Z&&(ae.name=Z),ae}function J(D,z){return S(D,z.v,z.w,z.name)}C.exports=j}),d=a((G,C)=>{C.exports="3.0.2"}),f=a((G,C)=>{C.exports={Graph:c(),version:d()}}),g=a((G,C)=>{var X=c();C.exports={write:R,read:A};function R(F){var S={options:{directed:F.isDirected(),multigraph:F.isMultigraph(),compound:F.isCompound()},nodes:O(F),edges:j(F)};return F.graph()!==void 0&&(S.value=structuredClone(F.graph())),S}function O(F){return F.nodes().map(function(S){var T=F.node(S),J=F.parent(S),D={v:S};return T!==void 0&&(D.value=T),J!==void 0&&(D.parent=J),D})}function j(F){return F.edges().map(function(S){var T=F.edge(S),J={v:S.v,w:S.w};return S.name!==void 0&&(J.name=S.name),T!==void 0&&(J.value=T),J})}function A(F){var S=new X(F.options).setGraph(F.value);return F.nodes.forEach(function(T){S.setNode(T.v,T.value),T.parent&&S.setParent(T.v,T.parent)}),F.edges.forEach(function(T){S.setEdge({v:T.v,w:T.w,name:T.name},T.value)}),S}}),m=a((G,C)=>{C.exports=R;var X=()=>1;function R(j,A,F,S){return O(j,String(A),F||X,S||function(T){return j.outEdges(T)})}function O(j,A,F,S){var T={},J=!0,D=0,z=j.nodes(),Y=function(le){var ae=F(le);T[le.v].distance+ae<T[le.w].distance&&(T[le.w]={distance:T[le.v].distance+ae,predecessor:le.v},J=!0)},Z=function(){z.forEach(function(le){S(le).forEach(function(ae){var pe=ae.v===le?ae.v:ae.w,me=pe===ae.v?ae.w:ae.v;Y({v:pe,w:me})})})};z.forEach(function(le){var ae=le===A?0:Number.POSITIVE_INFINITY;T[le]={distance:ae}});for(var Q=z.length,ne=1;ne<Q&&(J=!1,D++,Z(),!!J);ne++);if(D===Q-1&&(J=!1,Z(),J))throw new Error("The graph contains a negative weight cycle");return T}}),p=a((G,C)=>{C.exports=X;function X(R){var O={},j=[],A;function F(S){Object.hasOwn(O,S)||(O[S]=!0,A.push(S),R.successors(S).forEach(F),R.predecessors(S).forEach(F))}return R.nodes().forEach(function(S){A=[],F(S),A.length&&j.push(A)}),j}}),v=a((G,C)=>{var X=class{constructor(){u(this,"_arr",[]),u(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(R){return R.key})}has(R){return Object.hasOwn(this._keyIndices,R)}priority(R){var O=this._keyIndices[R];if(O!==void 0)return this._arr[O].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(R,O){var j=this._keyIndices;if(R=String(R),!Object.hasOwn(j,R)){var A=this._arr,F=A.length;return j[R]=F,A.push({key:R,priority:O}),this._decrease(F),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var R=this._arr.pop();return delete this._keyIndices[R.key],this._heapify(0),R.key}decrease(R,O){var j=this._keyIndices[R];if(O>this._arr[j].priority)throw new Error("New priority is greater than current priority. Key: "+R+" Old: "+this._arr[j].priority+" New: "+O);this._arr[j].priority=O,this._decrease(j)}_heapify(R){var O=this._arr,j=2*R,A=j+1,F=R;j<O.length&&(F=O[j].priority<O[F].priority?j:F,A<O.length&&(F=O[A].priority<O[F].priority?A:F),F!==R&&(this._swap(R,F),this._heapify(F)))}_decrease(R){for(var O=this._arr,j=O[R].priority,A;R!==0&&(A=R>>1,!(O[A].priority<j));)this._swap(R,A),R=A}_swap(R,O){var j=this._arr,A=this._keyIndices,F=j[R],S=j[O];j[R]=S,j[O]=F,A[S.key]=R,A[F.key]=O}};C.exports=X}),w=a((G,C)=>{var X=v();C.exports=O;var R=()=>1;function O(A,F,S,T){var J=function(D){return A.outEdges(D)};return j(A,String(F),S||R,T||J)}function j(A,F,S,T){var J={},D=new X,z,Y,Z=function(Q){var ne=Q.v!==z?Q.v:Q.w,le=J[ne],ae=S(Q),pe=Y.distance+ae;if(ae<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Q+" Weight: "+ae);pe<le.distance&&(le.distance=pe,le.predecessor=z,D.decrease(ne,pe))};for(A.nodes().forEach(function(Q){var ne=Q===F?0:Number.POSITIVE_INFINITY;J[Q]={distance:ne},D.add(Q,ne)});D.size()>0&&(z=D.removeMin(),Y=J[z],Y.distance!==Number.POSITIVE_INFINITY);)T(z).forEach(Z);return J}}),k=a((G,C)=>{var X=w();C.exports=R;function R(O,j,A){return O.nodes().reduce(function(F,S){return F[S]=X(O,S,j,A),F},{})}}),N=a((G,C)=>{C.exports=X;function X(O,j,A){if(O[j].predecessor!==void 0)throw new Error("Invalid source vertex");if(O[A].predecessor===void 0&&A!==j)throw new Error("Invalid destination vertex");return{weight:O[A].distance,path:R(O,j,A)}}function R(O,j,A){for(var F=[],S=A;S!==j;)F.push(S),S=O[S].predecessor;return F.push(j),F.reverse()}}),M=a((G,C)=>{C.exports=X;function X(R){var O=0,j=[],A={},F=[];function S(T){var J=A[T]={onStack:!0,lowlink:O,index:O++};if(j.push(T),R.successors(T).forEach(function(Y){Object.hasOwn(A,Y)?A[Y].onStack&&(J.lowlink=Math.min(J.lowlink,A[Y].index)):(S(Y),J.lowlink=Math.min(J.lowlink,A[Y].lowlink))}),J.lowlink===J.index){var D=[],z;do z=j.pop(),A[z].onStack=!1,D.push(z);while(T!==z);F.push(D)}}return R.nodes().forEach(function(T){Object.hasOwn(A,T)||S(T)}),F}}),I=a((G,C)=>{var X=M();C.exports=R;function R(O){return X(O).filter(function(j){return j.length>1||j.length===1&&O.hasEdge(j[0],j[0])})}}),L=a((G,C)=>{C.exports=R;var X=()=>1;function R(j,A,F){return O(j,A||X,F||function(S){return j.outEdges(S)})}function O(j,A,F){var S={},T=j.nodes();return T.forEach(function(J){S[J]={},S[J][J]={distance:0},T.forEach(function(D){J!==D&&(S[J][D]={distance:Number.POSITIVE_INFINITY})}),F(J).forEach(function(D){var z=D.v===J?D.w:D.v,Y=A(D);S[J][z]={distance:Y,predecessor:J}})}),T.forEach(function(J){var D=S[J];T.forEach(function(z){var Y=S[z];T.forEach(function(Z){var Q=Y[J],ne=D[Z],le=Y[Z],ae=Q.distance+ne.distance;ae<le.distance&&(le.distance=ae,le.predecessor=ne.predecessor)})})}),S}}),_=a((G,C)=>{function X(O){var j={},A={},F=[];function S(T){if(Object.hasOwn(A,T))throw new R;Object.hasOwn(j,T)||(A[T]=!0,j[T]=!0,O.predecessors(T).forEach(S),delete A[T],F.push(T))}if(O.sinks().forEach(S),Object.keys(j).length!==O.nodeCount())throw new R;return F}var R=class extends Error{constructor(){super(...arguments)}};C.exports=X,X.CycleException=R}),E=a((G,C)=>{var X=_();C.exports=R;function R(O){try{X(O)}catch(j){if(j instanceof X.CycleException)return!1;throw j}return!0}}),$=a((G,C)=>{C.exports=X;function X(O,j,A,F,S){Array.isArray(j)||(j=[j]);var T=(O.isDirected()?O.successors:O.neighbors).bind(O),J={};return j.forEach(function(D){if(!O.hasNode(D))throw new Error("Graph does not have node: "+D);S=R(O,D,A==="post",J,T,F,S)}),S}function R(O,j,A,F,S,T,J){return Object.hasOwn(F,j)||(F[j]=!0,A||(J=T(J,j)),S(j).forEach(function(D){J=R(O,D,A,F,S,T,J)}),A&&(J=T(J,j))),J}}),P=a((G,C)=>{var X=$();C.exports=R;function R(O,j,A){return X(O,j,A,function(F,S){return F.push(S),F},[])}}),B=a((G,C)=>{var X=P();C.exports=R;function R(O,j){return X(O,j,"post")}}),H=a((G,C)=>{var X=P();C.exports=R;function R(O,j){return X(O,j,"pre")}}),K=a((G,C)=>{var X=c(),R=v();C.exports=O;function O(j,A){var F=new X,S={},T=new R,J;function D(Y){var Z=Y.v===J?Y.w:Y.v,Q=T.priority(Z);if(Q!==void 0){var ne=A(Y);ne<Q&&(S[Z]=J,T.decrease(Z,ne))}}if(j.nodeCount()===0)return F;j.nodes().forEach(function(Y){T.add(Y,Number.POSITIVE_INFINITY),F.setNode(Y)}),T.decrease(j.nodes()[0],0);for(var z=!1;T.size()>0;){if(J=T.removeMin(),Object.hasOwn(S,J))F.setEdge(J,S[J]);else{if(z)throw new Error("Input graph is not connected: "+j);z=!0}j.nodeEdges(J).forEach(D)}return F}}),W=a((G,C)=>{var X=w(),R=m();C.exports=O;function O(A,F,S,T){return j(A,F,S,T||function(J){return A.outEdges(J)})}function j(A,F,S,T){if(S===void 0)return X(A,F,S,T);for(var J=!1,D=A.nodes(),z=0;z<D.length;z++){for(var Y=T(D[z]),Z=0;Z<Y.length;Z++){var Q=Y[Z],ne=Q.v===D[z]?Q.v:Q.w,le=ne===Q.v?Q.w:Q.v;S({v:ne,w:le})<0&&(J=!0)}if(J)return R(A,F,S,T)}return X(A,F,S,T)}}),V=a((G,C)=>{C.exports={bellmanFord:m(),components:p(),dijkstra:w(),dijkstraAll:k(),extractPath:N(),findCycles:I(),floydWarshall:L(),isAcyclic:E(),postorder:B(),preorder:H(),prim:K(),shortestPaths:W(),reduce:$(),tarjan:M(),topsort:_()}}),U=f();r.exports={Graph:U.Graph,json:g(),alg:V(),version:U.version}}),bN=Te((t,r)=>{var i=class{constructor(){let u={};u._next=u._prev=u,this._sentinel=u}dequeue(){let u=this._sentinel,c=u._prev;if(c!==u)return l(c),c}enqueue(u){let c=this._sentinel;u._prev&&u._next&&l(u),u._next=c._next,c._next._prev=u,c._next=u,u._prev=c}toString(){let u=[],c=this._sentinel,d=c._prev;for(;d!==c;)u.push(JSON.stringify(d,a)),d=d._prev;return"["+u.join(", ")+"]"}};function l(u){u._prev._next=u._next,u._next._prev=u._prev,delete u._next,delete u._prev}function a(u,c){if(u!=="_next"&&u!=="_prev")return c}r.exports=i}),SN=Te((t,r)=>{var i=Wt().Graph,l=bN();r.exports=u;var a=()=>1;function u(p,v){if(p.nodeCount()<=1)return[];let w=f(p,v||a);return c(w.graph,w.buckets,w.zeroIdx).flatMap(k=>p.outEdges(k.v,k.w))}function c(p,v,w){let k=[],N=v[v.length-1],M=v[0],I;for(;p.nodeCount();){for(;I=M.dequeue();)d(p,v,w,I);for(;I=N.dequeue();)d(p,v,w,I);if(p.nodeCount()){for(let L=v.length-2;L>0;--L)if(I=v[L].dequeue(),I){k=k.concat(d(p,v,w,I,!0));break}}}return k}function d(p,v,w,k,N){let M=N?[]:void 0;return p.inEdges(k.v).forEach(I=>{let L=p.edge(I),_=p.node(I.v);N&&M.push({v:I.v,w:I.w}),_.out-=L,g(v,w,_)}),p.outEdges(k.v).forEach(I=>{let L=p.edge(I),_=I.w,E=p.node(_);E.in-=L,g(v,w,E)}),p.removeNode(k.v),M}function f(p,v){let w=new i,k=0,N=0;p.nodes().forEach(L=>{w.setNode(L,{v:L,in:0,out:0})}),p.edges().forEach(L=>{let _=w.edge(L.v,L.w)||0,E=v(L),$=_+E;w.setEdge(L.v,L.w,$),N=Math.max(N,w.node(L.v).out+=E),k=Math.max(k,w.node(L.w).in+=E)});let M=m(N+k+3).map(()=>new l),I=k+1;return w.nodes().forEach(L=>{g(M,I,w.node(L))}),{graph:w,buckets:M,zeroIdx:I}}function g(p,v,w){w.out?w.in?p[w.out-w.in+v].enqueue(w):p[p.length-1].enqueue(w):p[0].enqueue(w)}function m(p){let v=[];for(let w=0;w<p;w++)v.push(w);return v}}),qe=Te((t,r)=>{var i=Wt().Graph;r.exports={addBorderNode:v,addDummyNode:l,applyWithChunking:N,asNonCompoundGraph:u,buildLayerMatrix:g,intersectRect:f,mapValues:H,maxRank:M,normalizeRanks:m,notime:_,partition:I,pick:B,predecessorWeights:d,range:P,removeEmptyRanks:p,simplify:a,successorWeights:c,time:L,uniqueId:$,zipObject:K};function l(W,V,U,G){for(var C=G;W.hasNode(C);)C=$(G);return U.dummy=V,W.setNode(C,U),C}function a(W){let V=new i().setGraph(W.graph());return W.nodes().forEach(U=>V.setNode(U,W.node(U))),W.edges().forEach(U=>{let G=V.edge(U.v,U.w)||{weight:0,minlen:1},C=W.edge(U);V.setEdge(U.v,U.w,{weight:G.weight+C.weight,minlen:Math.max(G.minlen,C.minlen)})}),V}function u(W){let V=new i({multigraph:W.isMultigraph()}).setGraph(W.graph());return W.nodes().forEach(U=>{W.children(U).length||V.setNode(U,W.node(U))}),W.edges().forEach(U=>{V.setEdge(U,W.edge(U))}),V}function c(W){let V=W.nodes().map(U=>{let G={};return W.outEdges(U).forEach(C=>{G[C.w]=(G[C.w]||0)+W.edge(C).weight}),G});return K(W.nodes(),V)}function d(W){let V=W.nodes().map(U=>{let G={};return W.inEdges(U).forEach(C=>{G[C.v]=(G[C.v]||0)+W.edge(C).weight}),G});return K(W.nodes(),V)}function f(W,V){let U=W.x,G=W.y,C=V.x-U,X=V.y-G,R=W.width/2,O=W.height/2;if(!C&&!X)throw new Error("Not possible to find intersection inside of the rectangle");let j,A;return Math.abs(X)*R>Math.abs(C)*O?(X<0&&(O=-O),j=O*C/X,A=O):(C<0&&(R=-R),j=R,A=R*X/C),{x:U+j,y:G+A}}function g(W){let V=P(M(W)+1).map(()=>[]);return W.nodes().forEach(U=>{let G=W.node(U),C=G.rank;C!==void 0&&(V[C][G.order]=U)}),V}function m(W){let V=W.nodes().map(G=>{let C=W.node(G).rank;return C===void 0?Number.MAX_VALUE:C}),U=N(Math.min,V);W.nodes().forEach(G=>{let C=W.node(G);Object.hasOwn(C,"rank")&&(C.rank-=U)})}function p(W){let V=W.nodes().map(R=>W.node(R).rank).filter(R=>R!==void 0),U=N(Math.min,V),G=[];W.nodes().forEach(R=>{let O=W.node(R).rank-U;G[O]||(G[O]=[]),G[O].push(R)});let C=0,X=W.graph().nodeRankFactor;Array.from(G).forEach((R,O)=>{R===void 0&&O%X!==0?--C:R!==void 0&&C&&R.forEach(j=>W.node(j).rank+=C)})}function v(W,V,U,G){let C={width:0,height:0};return arguments.length>=4&&(C.rank=U,C.order=G),l(W,"border",C,V)}function w(W,V=k){let U=[];for(let G=0;G<W.length;G+=V){let C=W.slice(G,G+V);U.push(C)}return U}var k=65535;function N(W,V){if(V.length>k){let U=w(V);return W.apply(null,U.map(G=>W.apply(null,G)))}else return W.apply(null,V)}function M(W){let V=W.nodes().map(U=>{let G=W.node(U).rank;return G===void 0?Number.MIN_VALUE:G});return N(Math.max,V)}function I(W,V){let U={lhs:[],rhs:[]};return W.forEach(G=>{V(G)?U.lhs.push(G):U.rhs.push(G)}),U}function L(W,V){let U=Date.now();try{return V()}finally{console.log(W+" time: "+(Date.now()-U)+"ms")}}function _(W,V){return V()}var E=0;function $(W){var V=++E;return W+(""+V)}function P(W,V,U=1){V==null&&(V=W,W=0);let G=X=>X<V;U<0&&(G=X=>V<X);let C=[];for(let X=W;G(X);X+=U)C.push(X);return C}function B(W,V){let U={};for(let G of V)W[G]!==void 0&&(U[G]=W[G]);return U}function H(W,V){let U=V;return typeof V=="string"&&(U=G=>G[V]),Object.entries(W).reduce((G,[C,X])=>(G[C]=U(X,C),G),{})}function K(W,V){return W.reduce((U,G,C)=>(U[G]=V[C],U),{})}}),CN=Te((t,r)=>{var i=SN(),l=qe().uniqueId;r.exports={run:a,undo:c};function a(d){(d.graph().acyclicer==="greedy"?i(d,f(d)):u(d)).forEach(g=>{let m=d.edge(g);d.removeEdge(g),m.forwardName=g.name,m.reversed=!0,d.setEdge(g.w,g.v,m,l("rev"))});function f(g){return m=>g.edge(m).weight}}function u(d){let f=[],g={},m={};function p(v){Object.hasOwn(m,v)||(m[v]=!0,g[v]=!0,d.outEdges(v).forEach(w=>{Object.hasOwn(g,w.w)?f.push(w):p(w.w)}),delete g[v])}return d.nodes().forEach(p),f}function c(d){d.edges().forEach(f=>{let g=d.edge(f);if(g.reversed){d.removeEdge(f);let m=g.forwardName;delete g.reversed,delete g.forwardName,d.setEdge(f.w,f.v,g,m)}})}}),jN=Te((t,r)=>{var i=qe();r.exports={run:l,undo:u};function l(c){c.graph().dummyChains=[],c.edges().forEach(d=>a(c,d))}function a(c,d){let f=d.v,g=c.node(f).rank,m=d.w,p=c.node(m).rank,v=d.name,w=c.edge(d),k=w.labelRank;if(p===g+1)return;c.removeEdge(d);let N,M,I;for(I=0,++g;g<p;++I,++g)w.points=[],M={width:0,height:0,edgeLabel:w,edgeObj:d,rank:g},N=i.addDummyNode(c,"edge",M,"_d"),g===k&&(M.width=w.width,M.height=w.height,M.dummy="edge-label",M.labelpos=w.labelpos),c.setEdge(f,N,{weight:w.weight},v),I===0&&c.graph().dummyChains.push(N),f=N;c.setEdge(f,m,{weight:w.weight},v)}function u(c){c.graph().dummyChains.forEach(d=>{let f=c.node(d),g=f.edgeLabel,m;for(c.setEdge(f.edgeObj,g);f.dummy;)m=c.successors(d)[0],c.removeNode(d),g.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(g.x=f.x,g.y=f.y,g.width=f.width,g.height=f.height),d=m,f=c.node(d)})}}),wl=Te((t,r)=>{var{applyWithChunking:i}=qe();r.exports={longestPath:l,slack:a};function l(u){var c={};function d(f){var g=u.node(f);if(Object.hasOwn(c,f))return g.rank;c[f]=!0;let m=u.outEdges(f).map(v=>v==null?Number.POSITIVE_INFINITY:d(v.w)-u.edge(v).minlen);var p=i(Math.min,m);return p===Number.POSITIVE_INFINITY&&(p=0),g.rank=p}u.sources().forEach(d)}function a(u,c){return u.node(c.w).rank-u.node(c.v).rank-u.edge(c).minlen}}),Ig=Te((t,r)=>{var i=Wt().Graph,l=wl().slack;r.exports=a;function a(f){var g=new i({directed:!1}),m=f.nodes()[0],p=f.nodeCount();g.setNode(m,{});for(var v,w;u(g,f)<p;)v=c(g,f),w=g.hasNode(v.v)?l(f,v):-l(f,v),d(g,f,w);return g}function u(f,g){function m(p){g.nodeEdges(p).forEach(v=>{var w=v.v,k=p===w?v.w:w;!f.hasNode(k)&&!l(g,v)&&(f.setNode(k,{}),f.setEdge(p,k,{}),m(k))})}return f.nodes().forEach(m),f.nodeCount()}function c(f,g){return g.edges().reduce((m,p)=>{let v=Number.POSITIVE_INFINITY;return f.hasNode(p.v)!==f.hasNode(p.w)&&(v=l(g,p)),v<m[0]?[v,p]:m},[Number.POSITIVE_INFINITY,null])[1]}function d(f,g,m){f.nodes().forEach(p=>g.node(p).rank+=m)}}),MN=Te((t,r)=>{var i=Ig(),l=wl().slack,a=wl().longestPath,u=Wt().alg.preorder,c=Wt().alg.postorder,d=qe().simplify;r.exports=f,f.initLowLimValues=v,f.initCutValues=g,f.calcCutValue=p,f.leaveEdge=k,f.enterEdge=N,f.exchangeEdges=M;function f(E){E=d(E),a(E);var $=i(E);v($),g($,E);for(var P,B;P=k($);)B=N($,E,P),M($,E,P,B)}function g(E,$){var P=c(E,E.nodes());P=P.slice(0,P.length-1),P.forEach(B=>m(E,$,B))}function m(E,$,P){var B=E.node(P),H=B.parent;E.edge(P,H).cutvalue=p(E,$,P)}function p(E,$,P){var B=E.node(P),H=B.parent,K=!0,W=$.edge(P,H),V=0;return W||(K=!1,W=$.edge(H,P)),V=W.weight,$.nodeEdges(P).forEach(U=>{var G=U.v===P,C=G?U.w:U.v;if(C!==H){var X=G===K,R=$.edge(U).weight;if(V+=X?R:-R,L(E,P,C)){var O=E.edge(P,C).cutvalue;V+=X?-O:O}}}),V}function v(E,$){arguments.length<2&&($=E.nodes()[0]),w(E,{},1,$)}function w(E,$,P,B,H){var K=P,W=E.node(B);return $[B]=!0,E.neighbors(B).forEach(V=>{Object.hasOwn($,V)||(P=w(E,$,P,V,B))}),W.low=K,W.lim=P++,H?W.parent=H:delete W.parent,P}function k(E){return E.edges().find($=>E.edge($).cutvalue<0)}function N(E,$,P){var B=P.v,H=P.w;$.hasEdge(B,H)||(B=P.w,H=P.v);var K=E.node(B),W=E.node(H),V=K,U=!1;K.lim>W.lim&&(V=W,U=!0);var G=$.edges().filter(C=>U===_(E,E.node(C.v),V)&&U!==_(E,E.node(C.w),V));return G.reduce((C,X)=>l($,X)<l($,C)?X:C)}function M(E,$,P,B){var H=P.v,K=P.w;E.removeEdge(H,K),E.setEdge(B.v,B.w,{}),v(E),g(E,$),I(E,$)}function I(E,$){var P=E.nodes().find(H=>!$.node(H).parent),B=u(E,P);B=B.slice(1),B.forEach(H=>{var K=E.node(H).parent,W=$.edge(H,K),V=!1;W||(W=$.edge(K,H),V=!0),$.node(H).rank=$.node(K).rank+(V?W.minlen:-W.minlen)})}function L(E,$,P){return E.hasEdge($,P)}function _(E,$,P){return P.low<=$.lim&&$.lim<=P.lim}}),zN=Te((t,r)=>{var i=wl(),l=i.longestPath,a=Ig(),u=MN();r.exports=c;function c(m){var p=m.graph().ranker;if(p instanceof Function)return p(m);switch(m.graph().ranker){case"network-simplex":g(m);break;case"tight-tree":f(m);break;case"longest-path":d(m);break;case"none":break;default:g(m)}}var d=l;function f(m){l(m),a(m)}function g(m){u(m)}}),IN=Te((t,r)=>{r.exports=i;function i(u){let c=a(u);u.graph().dummyChains.forEach(d=>{let f=u.node(d),g=f.edgeObj,m=l(u,c,g.v,g.w),p=m.path,v=m.lca,w=0,k=p[w],N=!0;for(;d!==g.w;){if(f=u.node(d),N){for(;(k=p[w])!==v&&u.node(k).maxRank<f.rank;)w++;k===v&&(N=!1)}if(!N){for(;w<p.length-1&&u.node(k=p[w+1]).minRank<=f.rank;)w++;k=p[w]}u.setParent(d,k),d=u.successors(d)[0]}})}function l(u,c,d,f){let g=[],m=[],p=Math.min(c[d].low,c[f].low),v=Math.max(c[d].lim,c[f].lim),w,k;w=d;do w=u.parent(w),g.push(w);while(w&&(c[w].low>p||v>c[w].lim));for(k=w,w=f;(w=u.parent(w))!==k;)m.push(w);return{path:g.concat(m.reverse()),lca:k}}function a(u){let c={},d=0;function f(g){let m=d;u.children(g).forEach(f),c[g]={low:m,lim:d++}}return u.children().forEach(f),c}}),PN=Te((t,r)=>{var i=qe();r.exports={run:l,cleanup:d};function l(f){let g=i.addDummyNode(f,"root",{},"_root"),m=u(f),p=Object.values(m),v=i.applyWithChunking(Math.max,p)-1,w=2*v+1;f.graph().nestingRoot=g,f.edges().forEach(N=>f.edge(N).minlen*=w);let k=c(f)+1;f.children().forEach(N=>a(f,g,w,k,v,m,N)),f.graph().nodeRankFactor=w}function a(f,g,m,p,v,w,k){let N=f.children(k);if(!N.length){k!==g&&f.setEdge(g,k,{weight:0,minlen:m});return}let M=i.addBorderNode(f,"_bt"),I=i.addBorderNode(f,"_bb"),L=f.node(k);f.setParent(M,k),L.borderTop=M,f.setParent(I,k),L.borderBottom=I,N.forEach(_=>{a(f,g,m,p,v,w,_);let E=f.node(_),$=E.borderTop?E.borderTop:_,P=E.borderBottom?E.borderBottom:_,B=E.borderTop?p:2*p,H=$!==P?1:v-w[k]+1;f.setEdge(M,$,{weight:B,minlen:H,nestingEdge:!0}),f.setEdge(P,I,{weight:B,minlen:H,nestingEdge:!0})}),f.parent(k)||f.setEdge(g,M,{weight:0,minlen:v+w[k]})}function u(f){var g={};function m(p,v){var w=f.children(p);w&&w.length&&w.forEach(k=>m(k,v+1)),g[p]=v}return f.children().forEach(p=>m(p,1)),g}function c(f){return f.edges().reduce((g,m)=>g+f.edge(m).weight,0)}function d(f){var g=f.graph();f.removeNode(g.nestingRoot),delete g.nestingRoot,f.edges().forEach(m=>{var p=f.edge(m);p.nestingEdge&&f.removeEdge(m)})}}),TN=Te((t,r)=>{var i=qe();r.exports=l;function l(u){function c(d){let f=u.children(d),g=u.node(d);if(f.length&&f.forEach(c),Object.hasOwn(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(let m=g.minRank,p=g.maxRank+1;m<p;++m)a(u,"borderLeft","_bl",d,g,m),a(u,"borderRight","_br",d,g,m)}}u.children().forEach(c)}function a(u,c,d,f,g,m){let p={width:0,height:0,rank:m,borderType:c},v=g[c][m-1],w=i.addDummyNode(u,"border",p,d);g[c][m]=w,u.setParent(w,f),v&&u.setEdge(v,w,{weight:1})}}),LN=Te((t,r)=>{r.exports={adjust:i,undo:l};function i(m){let p=m.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&a(m)}function l(m){let p=m.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&c(m),(p==="lr"||p==="rl")&&(f(m),a(m))}function a(m){m.nodes().forEach(p=>u(m.node(p))),m.edges().forEach(p=>u(m.edge(p)))}function u(m){let p=m.width;m.width=m.height,m.height=p}function c(m){m.nodes().forEach(p=>d(m.node(p))),m.edges().forEach(p=>{let v=m.edge(p);v.points.forEach(d),Object.hasOwn(v,"y")&&d(v)})}function d(m){m.y=-m.y}function f(m){m.nodes().forEach(p=>g(m.node(p))),m.edges().forEach(p=>{let v=m.edge(p);v.points.forEach(g),Object.hasOwn(v,"x")&&g(v)})}function g(m){let p=m.x;m.x=m.y,m.y=p}}),AN=Te((t,r)=>{var i=qe();r.exports=l;function l(a){let u={},c=a.nodes().filter(p=>!a.children(p).length),d=c.map(p=>a.node(p).rank),f=i.applyWithChunking(Math.max,d),g=i.range(f+1).map(()=>[]);function m(p){if(u[p])return;u[p]=!0;let v=a.node(p);g[v.rank].push(p),a.successors(p).forEach(m)}return c.sort((p,v)=>a.node(p).rank-a.node(v).rank).forEach(m),g}}),DN=Te((t,r)=>{var i=qe().zipObject;r.exports=l;function l(u,c){let d=0;for(let f=1;f<c.length;++f)d+=a(u,c[f-1],c[f]);return d}function a(u,c,d){let f=i(d,d.map((k,N)=>N)),g=c.flatMap(k=>u.outEdges(k).map(N=>({pos:f[N.w],weight:u.edge(N).weight})).sort((N,M)=>N.pos-M.pos)),m=1;for(;m<d.length;)m<<=1;let p=2*m-1;m-=1;let v=new Array(p).fill(0),w=0;return g.forEach(k=>{let N=k.pos+m;v[N]+=k.weight;let M=0;for(;N>0;)N%2&&(M+=v[N+1]),N=N-1>>1,v[N]+=k.weight;w+=k.weight*M}),w}}),RN=Te((t,r)=>{r.exports=i;function i(l,a=[]){return a.map(u=>{let c=l.inEdges(u);if(c.length){let d=c.reduce((f,g)=>{let m=l.edge(g),p=l.node(g.v);return{sum:f.sum+m.weight*p.order,weight:f.weight+m.weight}},{sum:0,weight:0});return{v:u,barycenter:d.sum/d.weight,weight:d.weight}}else return{v:u}})}}),ON=Te((t,r)=>{var i=qe();r.exports=l;function l(c,d){let f={};c.forEach((m,p)=>{let v=f[m.v]={indegree:0,in:[],out:[],vs:[m.v],i:p};m.barycenter!==void 0&&(v.barycenter=m.barycenter,v.weight=m.weight)}),d.edges().forEach(m=>{let p=f[m.v],v=f[m.w];p!==void 0&&v!==void 0&&(v.indegree++,p.out.push(f[m.w]))});let g=Object.values(f).filter(m=>!m.indegree);return a(g)}function a(c){let d=[];function f(m){return p=>{p.merged||(p.barycenter===void 0||m.barycenter===void 0||p.barycenter>=m.barycenter)&&u(m,p)}}function g(m){return p=>{p.in.push(m),--p.indegree===0&&c.push(p)}}for(;c.length;){let m=c.pop();d.push(m),m.in.reverse().forEach(f(m)),m.out.forEach(g(m))}return d.filter(m=>!m.merged).map(m=>i.pick(m,["vs","i","barycenter","weight"]))}function u(c,d){let f=0,g=0;c.weight&&(f+=c.barycenter*c.weight,g+=c.weight),d.weight&&(f+=d.barycenter*d.weight,g+=d.weight),c.vs=d.vs.concat(c.vs),c.barycenter=f/g,c.weight=g,c.i=Math.min(d.i,c.i),d.merged=!0}}),$N=Te((t,r)=>{var i=qe();r.exports=l;function l(c,d){let f=i.partition(c,M=>Object.hasOwn(M,"barycenter")),g=f.lhs,m=f.rhs.sort((M,I)=>I.i-M.i),p=[],v=0,w=0,k=0;g.sort(u(!!d)),k=a(p,m,k),g.forEach(M=>{k+=M.vs.length,p.push(M.vs),v+=M.barycenter*M.weight,w+=M.weight,k=a(p,m,k)});let N={vs:p.flat(!0)};return w&&(N.barycenter=v/w,N.weight=w),N}function a(c,d,f){let g;for(;d.length&&(g=d[d.length-1]).i<=f;)d.pop(),c.push(g.vs),f++;return f}function u(c){return(d,f)=>d.barycenter<f.barycenter?-1:d.barycenter>f.barycenter?1:c?f.i-d.i:d.i-f.i}}),FN=Te((t,r)=>{var i=RN(),l=ON(),a=$N();r.exports=u;function u(f,g,m,p){let v=f.children(g),w=f.node(g),k=w?w.borderLeft:void 0,N=w?w.borderRight:void 0,M={};k&&(v=v.filter(E=>E!==k&&E!==N));let I=i(f,v);I.forEach(E=>{if(f.children(E.v).length){let $=u(f,E.v,m,p);M[E.v]=$,Object.hasOwn($,"barycenter")&&d(E,$)}});let L=l(I,m);c(L,M);let _=a(L,p);if(k&&(_.vs=[k,_.vs,N].flat(!0),f.predecessors(k).length)){let E=f.node(f.predecessors(k)[0]),$=f.node(f.predecessors(N)[0]);Object.hasOwn(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+E.order+$.order)/(_.weight+2),_.weight+=2}return _}function c(f,g){f.forEach(m=>{m.vs=m.vs.flatMap(p=>g[p]?g[p].vs:p)})}function d(f,g){f.barycenter!==void 0?(f.barycenter=(f.barycenter*f.weight+g.barycenter*g.weight)/(f.weight+g.weight),f.weight+=g.weight):(f.barycenter=g.barycenter,f.weight=g.weight)}}),HN=Te((t,r)=>{var i=Wt().Graph,l=qe();r.exports=a;function a(c,d,f,g){g||(g=c.nodes());let m=u(c),p=new i({compound:!0}).setGraph({root:m}).setDefaultNodeLabel(v=>c.node(v));return g.forEach(v=>{let w=c.node(v),k=c.parent(v);(w.rank===d||w.minRank<=d&&d<=w.maxRank)&&(p.setNode(v),p.setParent(v,k||m),c[f](v).forEach(N=>{let M=N.v===v?N.w:N.v,I=p.edge(M,v),L=I!==void 0?I.weight:0;p.setEdge(M,v,{weight:c.edge(N).weight+L})}),Object.hasOwn(w,"minRank")&&p.setNode(v,{borderLeft:w.borderLeft[d],borderRight:w.borderRight[d]}))}),p}function u(c){for(var d;c.hasNode(d=l.uniqueId("_root")););return d}}),VN=Te((t,r)=>{r.exports=i;function i(l,a,u){let c={},d;u.forEach(f=>{let g=l.parent(f),m,p;for(;g;){if(m=l.parent(g),m?(p=c[m],c[m]=g):(p=d,d=g),p&&p!==g){a.setEdge(p,g);return}g=m}})}}),BN=Te((t,r)=>{var i=AN(),l=DN(),a=FN(),u=HN(),c=VN(),d=Wt().Graph,f=qe();r.exports=g;function g(w,k={}){if(typeof k.customOrder=="function"){k.customOrder(w,g);return}let N=f.maxRank(w),M=m(w,f.range(1,N+1),"inEdges"),I=m(w,f.range(N-1,-1,-1),"outEdges"),L=i(w);if(v(w,L),k.disableOptimalOrderHeuristic)return;let _=Number.POSITIVE_INFINITY,E,$=k.constraints||[];for(let P=0,B=0;B<4;++P,++B){p(P%2?M:I,P%4>=2,$),L=f.buildLayerMatrix(w);let H=l(w,L);H<_?(B=0,E=Object.assign({},L),_=H):H===_&&(E=structuredClone(L))}v(w,E)}function m(w,k,N){let M=new Map,I=(L,_)=>{M.has(L)||M.set(L,[]),M.get(L).push(_)};for(let L of w.nodes()){let _=w.node(L);if(typeof _.rank=="number"&&I(_.rank,L),typeof _.minRank=="number"&&typeof _.maxRank=="number")for(let E=_.minRank;E<=_.maxRank;E++)E!==_.rank&&I(E,L)}return k.map(function(L){return u(w,L,N,M.get(L)||[])})}function p(w,k,N){let M=new d;w.forEach(function(I){N.forEach(E=>M.setEdge(E.left,E.right));let L=I.graph().root,_=a(I,L,M,k);_.vs.forEach((E,$)=>I.node(E).order=$),c(I,M,_.vs)})}function v(w,k){Object.values(k).forEach(N=>N.forEach((M,I)=>w.node(M).order=I))}}),WN=Te((t,r)=>{var i=Wt().Graph,l=qe();r.exports={positionX:N,findType1Conflicts:a,findType2Conflicts:u,addConflict:d,hasConflict:f,verticalAlignment:g,horizontalCompaction:m,alignCoordinates:w,findSmallestWidthAlignment:v,balance:k};function a(L,_){let E={};function $(P,B){let H=0,K=0,W=P.length,V=B[B.length-1];return B.forEach((U,G)=>{let C=c(L,U),X=C?L.node(C).order:W;(C||U===V)&&(B.slice(K,G+1).forEach(R=>{L.predecessors(R).forEach(O=>{let j=L.node(O),A=j.order;(A<H||X<A)&&!(j.dummy&&L.node(R).dummy)&&d(E,O,R)})}),K=G+1,H=X)}),B}return _.length&&_.reduce($),E}function u(L,_){let E={};function $(B,H,K,W,V){let U;l.range(H,K).forEach(G=>{U=B[G],L.node(U).dummy&&L.predecessors(U).forEach(C=>{let X=L.node(C);X.dummy&&(X.order<W||X.order>V)&&d(E,C,U)})})}function P(B,H){let K=-1,W,V=0;return H.forEach((U,G)=>{if(L.node(U).dummy==="border"){let C=L.predecessors(U);C.length&&(W=L.node(C[0]).order,$(H,V,G,K,W),V=G,K=W)}$(H,V,H.length,W,B.length)}),H}return _.length&&_.reduce(P),E}function c(L,_){if(L.node(_).dummy)return L.predecessors(_).find(E=>L.node(E).dummy)}function d(L,_,E){if(_>E){let P=_;_=E,E=P}let $=L[_];$||(L[_]=$={}),$[E]=!0}function f(L,_,E){if(_>E){let $=_;_=E,E=$}return!!L[_]&&Object.hasOwn(L[_],E)}function g(L,_,E,$){let P={},B={},H={};return _.forEach(K=>{K.forEach((W,V)=>{P[W]=W,B[W]=W,H[W]=V})}),_.forEach(K=>{let W=-1;K.forEach(V=>{let U=$(V);if(U.length){U=U.sort((C,X)=>H[C]-H[X]);let G=(U.length-1)/2;for(let C=Math.floor(G),X=Math.ceil(G);C<=X;++C){let R=U[C];B[V]===V&&W<H[R]&&!f(E,V,R)&&(B[R]=V,B[V]=P[V]=P[R],W=H[R])}}})}),{root:P,align:B}}function m(L,_,E,$,P){let B={},H=p(L,_,E,P),K=P?"borderLeft":"borderRight";function W(G,C){let X=H.nodes().slice(),R={},O=X.pop();for(;O;){if(R[O])G(O);else{R[O]=!0,X.push(O);for(let j of C(O))X.push(j)}O=X.pop()}}function V(G){B[G]=H.inEdges(G).reduce((C,X)=>Math.max(C,B[X.v]+H.edge(X)),0)}function U(G){let C=H.outEdges(G).reduce((R,O)=>Math.min(R,B[O.w]-H.edge(O)),Number.POSITIVE_INFINITY),X=L.node(G);C!==Number.POSITIVE_INFINITY&&X.borderType!==K&&(B[G]=Math.max(B[G],C))}return W(V,H.predecessors.bind(H)),W(U,H.successors.bind(H)),Object.keys($).forEach(G=>B[G]=B[E[G]]),B}function p(L,_,E,$){let P=new i,B=L.graph(),H=M(B.nodesep,B.edgesep,$);return _.forEach(K=>{let W;K.forEach(V=>{let U=E[V];if(P.setNode(U),W){var G=E[W],C=P.edge(G,U);P.setEdge(G,U,Math.max(H(L,V,W),C||0))}W=V})}),P}function v(L,_){return Object.values(_).reduce((E,$)=>{let P=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY;Object.entries($).forEach(([K,W])=>{let V=I(L,K)/2;P=Math.max(W+V,P),B=Math.min(W-V,B)});let H=P-B;return H<E[0]&&(E=[H,$]),E},[Number.POSITIVE_INFINITY,null])[1]}function w(L,_){let E=Object.values(_),$=l.applyWithChunking(Math.min,E),P=l.applyWithChunking(Math.max,E);["u","d"].forEach(B=>{["l","r"].forEach(H=>{let K=B+H,W=L[K];if(W===_)return;let V=Object.values(W),U=$-l.applyWithChunking(Math.min,V);H!=="l"&&(U=P-l.applyWithChunking(Math.max,V)),U&&(L[K]=l.mapValues(W,G=>G+U))})})}function k(L,_){return l.mapValues(L.ul,(E,$)=>{if(_)return L[_.toLowerCase()][$];{let P=Object.values(L).map(B=>B[$]).sort((B,H)=>B-H);return(P[1]+P[2])/2}})}function N(L){let _=l.buildLayerMatrix(L),E=Object.assign(a(L,_),u(L,_)),$={},P;["u","d"].forEach(H=>{P=H==="u"?_:Object.values(_).reverse(),["l","r"].forEach(K=>{K==="r"&&(P=P.map(G=>Object.values(G).reverse()));let W=(H==="u"?L.predecessors:L.successors).bind(L),V=g(L,P,E,W),U=m(L,P,V.root,V.align,K==="r");K==="r"&&(U=l.mapValues(U,G=>-G)),$[H+K]=U})});let B=v(L,$);return w($,B),k($,L.graph().align)}function M(L,_,E){return($,P,B)=>{let H=$.node(P),K=$.node(B),W=0,V;if(W+=H.width/2,Object.hasOwn(H,"labelpos"))switch(H.labelpos.toLowerCase()){case"l":V=-H.width/2;break;case"r":V=H.width/2;break}if(V&&(W+=E?V:-V),V=0,W+=(H.dummy?_:L)/2,W+=(K.dummy?_:L)/2,W+=K.width/2,Object.hasOwn(K,"labelpos"))switch(K.labelpos.toLowerCase()){case"l":V=K.width/2;break;case"r":V=-K.width/2;break}return V&&(W+=E?V:-V),V=0,W}}function I(L,_){return L.node(_).width}}),UN=Te((t,r)=>{var i=qe(),l=WN().positionX;r.exports=a;function a(c){c=i.asNonCompoundGraph(c),u(c),Object.entries(l(c)).forEach(([d,f])=>c.node(d).x=f)}function u(c){let d=i.buildLayerMatrix(c),f=c.graph().ranksep,g=c.graph().rankalign,m=0;d.forEach(p=>{let v=p.reduce((w,k)=>{let N=c.node(k).height;return w>N?w:N},0);p.forEach(w=>{let k=c.node(w);g==="top"?k.y=m+k.height/2:g==="bottom"?k.y=m+v-k.height/2:k.y=m+v/2}),m+=v+f})}}),YN=Te((t,r)=>{var i=CN(),l=jN(),a=zN(),u=qe().normalizeRanks,c=IN(),d=qe().removeEmptyRanks,f=PN(),g=TN(),m=LN(),p=BN(),v=UN(),w=qe(),k=Wt().Graph;r.exports=N;function N(z,Y={}){let Z=Y.debugTiming?w.time:w.notime;return Z("layout",()=>{let Q=Z("  buildLayoutGraph",()=>W(z));return Z("  runLayout",()=>M(Q,Z,Y)),Z("  updateInputGraph",()=>I(z,Q)),Q})}function M(z,Y,Z){Y("    makeSpaceForEdgeLabels",()=>V(z)),Y("    removeSelfEdges",()=>F(z)),Y("    acyclic",()=>i.run(z)),Y("    nestingGraph.run",()=>f.run(z)),Y("    rank",()=>a(w.asNonCompoundGraph(z))),Y("    injectEdgeLabelProxies",()=>U(z)),Y("    removeEmptyRanks",()=>d(z)),Y("    nestingGraph.cleanup",()=>f.cleanup(z)),Y("    normalizeRanks",()=>u(z)),Y("    assignRankMinMax",()=>G(z)),Y("    removeEdgeLabelProxies",()=>C(z)),Y("    normalize.run",()=>l.run(z)),Y("    parentDummyChains",()=>c(z)),Y("    addBorderSegments",()=>g(z)),Y("    order",()=>p(z,Z)),Y("    insertSelfEdges",()=>S(z)),Y("    adjustCoordinateSystem",()=>m.adjust(z)),Y("    position",()=>v(z)),Y("    positionSelfEdges",()=>T(z)),Y("    removeBorderNodes",()=>A(z)),Y("    normalize.undo",()=>l.undo(z)),Y("    fixupEdgeLabelCoords",()=>O(z)),Y("    undoCoordinateSystem",()=>m.undo(z)),Y("    translateGraph",()=>X(z)),Y("    assignNodeIntersects",()=>R(z)),Y("    reversePoints",()=>j(z)),Y("    acyclic.undo",()=>i.undo(z))}function I(z,Y){z.nodes().forEach(Z=>{let Q=z.node(Z),ne=Y.node(Z);Q&&(Q.x=ne.x,Q.y=ne.y,Q.order=ne.order,Q.rank=ne.rank,Y.children(Z).length&&(Q.width=ne.width,Q.height=ne.height))}),z.edges().forEach(Z=>{let Q=z.edge(Z),ne=Y.edge(Z);Q.points=ne.points,Object.hasOwn(ne,"x")&&(Q.x=ne.x,Q.y=ne.y)}),z.graph().width=Y.graph().width,z.graph().height=Y.graph().height}var L=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},E=["acyclicer","ranker","rankdir","align","rankalign"],$=["width","height","rank"],P={width:0,height:0},B=["minlen","weight","width","height","labeloffset"],H={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},K=["labelpos"];function W(z){let Y=new k({multigraph:!0,compound:!0}),Z=D(z.graph());return Y.setGraph(Object.assign({},_,J(Z,L),w.pick(Z,E))),z.nodes().forEach(Q=>{let ne=D(z.node(Q)),le=J(ne,$);Object.keys(P).forEach(ae=>{le[ae]===void 0&&(le[ae]=P[ae])}),Y.setNode(Q,le),Y.setParent(Q,z.parent(Q))}),z.edges().forEach(Q=>{let ne=D(z.edge(Q));Y.setEdge(Q,Object.assign({},H,J(ne,B),w.pick(ne,K)))}),Y}function V(z){let Y=z.graph();Y.ranksep/=2,z.edges().forEach(Z=>{let Q=z.edge(Z);Q.minlen*=2,Q.labelpos.toLowerCase()!=="c"&&(Y.rankdir==="TB"||Y.rankdir==="BT"?Q.width+=Q.labeloffset:Q.height+=Q.labeloffset)})}function U(z){z.edges().forEach(Y=>{let Z=z.edge(Y);if(Z.width&&Z.height){let Q=z.node(Y.v),ne={rank:(z.node(Y.w).rank-Q.rank)/2+Q.rank,e:Y};w.addDummyNode(z,"edge-proxy",ne,"_ep")}})}function G(z){let Y=0;z.nodes().forEach(Z=>{let Q=z.node(Z);Q.borderTop&&(Q.minRank=z.node(Q.borderTop).rank,Q.maxRank=z.node(Q.borderBottom).rank,Y=Math.max(Y,Q.maxRank))}),z.graph().maxRank=Y}function C(z){z.nodes().forEach(Y=>{let Z=z.node(Y);Z.dummy==="edge-proxy"&&(z.edge(Z.e).labelRank=Z.rank,z.removeNode(Y))})}function X(z){let Y=Number.POSITIVE_INFINITY,Z=0,Q=Number.POSITIVE_INFINITY,ne=0,le=z.graph(),ae=le.marginx||0,pe=le.marginy||0;function me(_e){let Ee=_e.x,Ce=_e.y,Ae=_e.width,tt=_e.height;Y=Math.min(Y,Ee-Ae/2),Z=Math.max(Z,Ee+Ae/2),Q=Math.min(Q,Ce-tt/2),ne=Math.max(ne,Ce+tt/2)}z.nodes().forEach(_e=>me(z.node(_e))),z.edges().forEach(_e=>{let Ee=z.edge(_e);Object.hasOwn(Ee,"x")&&me(Ee)}),Y-=ae,Q-=pe,z.nodes().forEach(_e=>{let Ee=z.node(_e);Ee.x-=Y,Ee.y-=Q}),z.edges().forEach(_e=>{let Ee=z.edge(_e);Ee.points.forEach(Ce=>{Ce.x-=Y,Ce.y-=Q}),Object.hasOwn(Ee,"x")&&(Ee.x-=Y),Object.hasOwn(Ee,"y")&&(Ee.y-=Q)}),le.width=Z-Y+ae,le.height=ne-Q+pe}function R(z){z.edges().forEach(Y=>{let Z=z.edge(Y),Q=z.node(Y.v),ne=z.node(Y.w),le,ae;Z.points?(le=Z.points[0],ae=Z.points[Z.points.length-1]):(Z.points=[],le=ne,ae=Q),Z.points.unshift(w.intersectRect(Q,le)),Z.points.push(w.intersectRect(ne,ae))})}function O(z){z.edges().forEach(Y=>{let Z=z.edge(Y);if(Object.hasOwn(Z,"x"))switch((Z.labelpos==="l"||Z.labelpos==="r")&&(Z.width-=Z.labeloffset),Z.labelpos){case"l":Z.x-=Z.width/2+Z.labeloffset;break;case"r":Z.x+=Z.width/2+Z.labeloffset;break}})}function j(z){z.edges().forEach(Y=>{let Z=z.edge(Y);Z.reversed&&Z.points.reverse()})}function A(z){z.nodes().forEach(Y=>{if(z.children(Y).length){let Z=z.node(Y),Q=z.node(Z.borderTop),ne=z.node(Z.borderBottom),le=z.node(Z.borderLeft[Z.borderLeft.length-1]),ae=z.node(Z.borderRight[Z.borderRight.length-1]);Z.width=Math.abs(ae.x-le.x),Z.height=Math.abs(ne.y-Q.y),Z.x=le.x+Z.width/2,Z.y=Q.y+Z.height/2}}),z.nodes().forEach(Y=>{z.node(Y).dummy==="border"&&z.removeNode(Y)})}function F(z){z.edges().forEach(Y=>{if(Y.v===Y.w){var Z=z.node(Y.v);Z.selfEdges||(Z.selfEdges=[]),Z.selfEdges.push({e:Y,label:z.edge(Y)}),z.removeEdge(Y)}})}function S(z){var Y=w.buildLayerMatrix(z);Y.forEach(Z=>{var Q=0;Z.forEach((ne,le)=>{var ae=z.node(ne);ae.order=le+Q,(ae.selfEdges||[]).forEach(pe=>{w.addDummyNode(z,"selfedge",{width:pe.label.width,height:pe.label.height,rank:ae.rank,order:le+ ++Q,e:pe.e,label:pe.label},"_se")}),delete ae.selfEdges})})}function T(z){z.nodes().forEach(Y=>{var Z=z.node(Y);if(Z.dummy==="selfedge"){var Q=z.node(Z.e.v),ne=Q.x+Q.width/2,le=Q.y,ae=Z.x-ne,pe=Q.height/2;z.setEdge(Z.e,Z.label),z.removeNode(Y),Z.label.points=[{x:ne+2*ae/3,y:le-pe},{x:ne+5*ae/6,y:le-pe},{x:ne+ae,y:le},{x:ne+5*ae/6,y:le+pe},{x:ne+2*ae/3,y:le+pe}],Z.label.x=Z.x,Z.label.y=Z.y}})}function J(z,Y){return w.mapValues(w.pick(z,Y),Number)}function D(z){var Y={};return z&&Object.entries(z).forEach(([Z,Q])=>{typeof Z=="string"&&(Z=Z.toLowerCase()),Y[Z]=Q}),Y}}),XN=Te((t,r)=>{var i=qe(),l=Wt().Graph;r.exports={debugOrdering:a};function a(u){let c=i.buildLayerMatrix(u),d=new l({compound:!0,multigraph:!0}).setGraph({});return u.nodes().forEach(f=>{d.setNode(f,{label:f}),d.setParent(f,"layer"+u.node(f).rank)}),u.edges().forEach(f=>d.setEdge(f.v,f.w,{},f.name)),c.forEach((f,g)=>{let m="layer"+g;d.setNode(m,{rank:"same"}),f.reduce((p,v)=>(d.setEdge(p,v,{style:"invis"}),v))}),d}}),GN=Te((t,r)=>{r.exports="2.0.4"}),qN=Te((t,r)=>{r.exports={graphlib:Wt(),layout:YN(),debug:XN(),util:{time:qe().time,notime:qe().notime},version:GN()}});const Pg=qN();/*! For license information please see dagre.esm.js.LEGAL.txt */const QN=t=>x.jsx(_r,{...t,type:"default"}),KN=t=>x.jsx(_r,{...t,type:"circle"}),ZN=t=>x.jsx(_r,{...t,type:"diamond"}),JN=t=>x.jsx(_r,{...t,type:"note"}),eb=t=>x.jsx(_r,{...t,type:"capsule"}),tb=t=>x.jsx(_r,{...t,type:"hexagon"}),nb=t=>x.jsx(_r,{...t,type:"triangle"}),rb={image:vN,group:NN,default:QN,circle:KN,diamond:ZN,note:JN,capsule:eb,hexagon:tb,triangle:nb},eo=new Pg.graphlib.Graph;eo.setDefaultEdgeLabel(()=>({}));const ob=(t,r,i="TB")=>{const l=i==="LR";return eo.setGraph({rankdir:i,nodesep:150,ranksep:200,marginx:50,marginy:50}),t.forEach(u=>{var f,g,m,p;let c=((f=u.data)==null?void 0:f.width)||160,d=((g=u.data)==null?void 0:g.height)||80;if(!((m=u.data)!=null&&m.width)||!((p=u.data)!=null&&p.height))switch(u.type){case"circle":c=150,d=150;break;case"diamond":c=200,d=200;break;case"triangle":c=220,d=180;break;case"image":c=300,d=250;break;case"note":c=200,d=200;break}eo.setNode(u.id,{width:c,height:d})}),r.forEach(u=>{eo.setEdge(u.source,u.target)}),Pg.layout(eo),{nodes:t.map(u=>{var g,m,p,v;const c=eo.node(u.id);let d=((g=u.data)==null?void 0:g.width)||160,f=((m=u.data)==null?void 0:m.height)||80;if(!((p=u.data)!=null&&p.width)||!((v=u.data)!=null&&v.height))switch(u.type){case"circle":d=150,f=150;break;case"diamond":d=200,f=200;break;case"triangle":d=220,f=180;break;case"image":d=300,f=250;break;case"note":d=200,f=200;break}return{...u,targetPosition:l?he.Left:he.Top,sourcePosition:l?he.Right:he.Bottom,position:{x:c.x-d/2,y:c.y-f/2}}}),edges:r}},ib=({initialNodes:t=[],initialEdges:r=[],onSave:i,onBack:l,topicName:a})=>{var X,R;const u=r.map(O=>({...O,sourceHandle:O.sourceHandle||"b-source",targetHandle:O.targetHandle||"t-target"})),c=[...t].sort((O,j)=>O.type==="group"&&j.type!=="group"?-1:O.type!=="group"&&j.type==="group"?1:0),[d,f,g]=DE(c),[m,p,v]=RE(u),[w,k]=re.useState(new Date().toLocaleTimeString()),[N,M]=re.useState(!1),[I,L]=re.useState(!1),{fitView:_}=kr(),E=re.useCallback(O=>{const{nodes:j,edges:A}=ob(d,m,O);f([...j]),p([...A]),window.requestAnimationFrame(()=>{_({duration:800})})},[d,m,_]),[$,P]=re.useState(null),[B,H]=re.useState(!1),K=re.useCallback(O=>p(j=>D0({...O,label:"",animated:!1},j)),[p]),W=re.useCallback((O,j)=>{P(j),H(!0)},[]),V=({label:O,color:j,direction:A})=>{p(F=>F.map(S=>{if(S.id===$.id){const T=A==="forward"||A==="both"?{type:"arrowclosed",color:j}:void 0,J=A==="backward"||A==="both"?{type:"arrowclosed",color:j}:void 0;return{...S,label:O,data:{...S.data,direction:A},style:{...S.style,stroke:j,strokeWidth:2},labelStyle:{fill:j,fontWeight:"bold"},markerEnd:T,markerStart:J}}return S})),H(!1),P(null)},U=async(O=!1)=>{if(N)return;M(!0),await i({nodes:d,edges:m},O)&&k(new Date().toLocaleTimeString()),M(!1)};re.useEffect(()=>{const O=setInterval(()=>{U(!0)},15e3);return()=>clearInterval(O)},[d,m]);const G=(O,j)=>{const A=`node_${Date.now()}`,F=O==="group";if(F){const T=d.filter(J=>J.selected&&J.type!=="group");if(T.length>0){let J=1/0,D=1/0,z=-1/0,Y=-1/0;T.forEach(me=>{var tt,ot;const{x:_e,y:Ee}=me.position,Ce=((tt=me.style)==null?void 0:tt.width)||150,Ae=((ot=me.style)==null?void 0:ot.height)||60;J=Math.min(J,_e),D=Math.min(D,Ee),z=Math.max(z,_e+Ce),Y=Math.max(Y,Ee+Ae)});const Z=40,Q=J-Z,ne=D-Z-40,le=z-J+Z*2,ae=Y-D+Z*2+40,pe={id:A,type:"group",position:{x:Q,y:ne},data:{label:"Nuevo Grupo"},style:{width:le,height:ae},zIndex:-1};f(me=>{const _e=me.map(Ee=>Ee.selected&&Ee.type!=="group"?{...Ee,parentId:A,extent:"parent",selected:!1,position:{x:Ee.position.x-Q,y:Ee.position.y-ne}}:Ee);return[pe,..._e]});return}}const S={id:A,type:O,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-200},data:{label:F?"Nuevo Grupo":O==="image"?"Nueva Imagen":"Nuevo Concepto",url:null,style:j?{backgroundColor:j}:void 0},...F?{style:{width:400,height:300},zIndex:-1}:{}};f(T=>F?[S,...T]:T.concat(S))},C=re.useCallback((O,j)=>{if(j.type==="group")return;const A=d.find(F=>{var S,T;return F.type==="group"&&F.id!==j.id&&j.position.x>=F.position.x&&j.position.x<=F.position.x+(((S=F.style)==null?void 0:S.width)||400)&&j.position.y>=F.position.y&&j.position.y<=F.position.y+(((T=F.style)==null?void 0:T.height)||300)});if(A&&j.parentId!==A.id)f(F=>F.map(S=>S.id===j.id?{...S,parentId:A.id,extent:"parent",position:{x:j.position.x-A.position.x,y:j.position.y-A.position.y}}:S));else if(!A&&j.parentId){const F=d.find(S=>S.id===j.parentId);F&&f(S=>S.map(T=>T.id===j.id?{...T,parentId:void 0,extent:void 0,position:{x:j.position.x+F.position.x,y:j.position.y+F.position.y}}:T))}},[d,f]);return x.jsx("div",{className:"flex-1 w-full h-full bg-slate-900 border-t border-slate-800 relative animate-in fade-in duration-500",children:x.jsxs(AE,{nodes:d,edges:m,onNodesChange:g,onEdgesChange:v,onConnect:K,onEdgeDoubleClick:W,onNodeDragStop:C,nodeTypes:rb,fitView:!0,className:"bg-slate-900",colorMode:"dark",deleteKeyCode:["Backspace","Delete"],children:[x.jsx(VE,{color:"#1e293b",gap:25,size:1,className:"opacity-40"}),x.jsx(qE,{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl"}),x.jsx(aN,{nodeColor:O=>{switch(O.type){case"image":return"#3b82f6";case"circle":return"#10b981";case"diamond":return"#f59e0b";case"note":return"#fbbf24";default:return"#10b981"}},maskColor:"rgb(15, 23, 42, 0.6)",className:"bg-slate-800 border-slate-700"}),x.jsx(wN,{onAddNode:G}),x.jsxs(gr,{position:"top-left",className:"flex gap-3 m-6",children:[x.jsxs("button",{onClick:l,className:"p-3 bg-slate-800/60 hover:bg-slate-700/80 text-white rounded-2xl border border-white/10 backdrop-blur-xl shadow-2xl flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group",children:[x.jsx(mp,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),x.jsx("span",{className:"hidden sm:inline font-bold text-sm tracking-tight",children:"Volver"})]}),x.jsxs("button",{onClick:()=>E("TB"),className:"p-3 bg-blue-600/20 hover:bg-blue-600/40 text-blue-400 rounded-2xl border border-blue-400/20 backdrop-blur-xl shadow-2xl flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group",children:[x.jsx(kl,{size:20,className:"group-hover:rotate-12 transition-transform"}),x.jsx("span",{className:"hidden sm:inline font-bold text-sm tracking-tight text-white/90",children:"Auto Organizar"})]}),x.jsxs("button",{onClick:()=>L(!0),className:"p-3 bg-slate-800/60 hover:bg-blue-600/40 text-blue-400 rounded-2xl border border-white/10 backdrop-blur-xl shadow-2xl flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group",children:[x.jsx(kp,{size:20,className:"group-hover:rotate-12 transition-transform"}),x.jsx("span",{className:"hidden sm:inline font-bold text-sm tracking-tight text-white/80",children:"Ayuda"})]})]}),x.jsx(gr,{position:"top-right",className:"flex gap-2 m-6",children:x.jsxs("button",{onClick:()=>U(!1),disabled:N,className:"p-3 px-6 bg-emerald-600/80 hover:bg-emerald-500 text-white rounded-2xl shadow-2xl border border-emerald-400/20 backdrop-blur-xl flex items-center gap-3 transition-all hover:scale-105 active:scale-95 font-black text-sm tracking-tight disabled:opacity-50",children:[x.jsx(Lp,{size:20,className:`${N?"animate-spin":""}`}),x.jsx("span",{className:"hidden sm:inline uppercase",children:N?"Guardando...":"Guardar Mapa"})]})}),x.jsx(gr,{position:"bottom-center",children:x.jsx("div",{className:"flex flex-col items-center gap-2 mb-8 animate-in slide-in-from-bottom-4 duration-700",children:x.jsxs("div",{className:"px-6 py-2.5 bg-slate-900/60 backdrop-blur-2xl rounded-full border border-white/5 shadow-2xl text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse"}),x.jsxs("span",{children:["Mapa: ",x.jsx("span",{className:"text-white/80",children:a})]})]}),x.jsx("div",{className:"w-px h-3 bg-white/10"}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(qy,{size:12,className:"opacity-50"}),x.jsx("span",{className:"opacity-70",children:N?"Actualizando Drive...":`ltimo Guardado: ${w}`})]})]})})}),I&&x.jsx(kN,{onClose:()=>L(!1)}),x.jsx(_N,{isOpen:B,onClose:()=>H(!1),initialLabel:($==null?void 0:$.label)||"",initialColor:((X=$==null?void 0:$.style)==null?void 0:X.stroke)||"#3b82f6",initialDirection:((R=$==null?void 0:$.data)==null?void 0:R.direction)||"forward",onSave:V,onDelete:()=>{p(O=>O.filter(j=>j.id!==$.id)),H(!1)}})]})})},sb=t=>x.jsx(Sg,{children:x.jsx(ib,{...t})}),lb=({message:t="Cargando..."})=>x.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 animate-in fade-in duration-300",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-slate-700 rounded-full"}),x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]}),x.jsx("p",{className:"text-slate-400 font-medium animate-pulse",children:t})]}),ab="690344537148-gbfkb9mhdf5m7urgv5qs204ut9uvom66.apps.googleusercontent.com";function ub(){const[t,r]=re.useState(null),[i,l]=re.useState("Esperando Google..."),[a,u]=re.useState(!1),[c,d]=re.useState("login"),[f,g]=re.useState([]),[m,p]=re.useState(null),[v,w]=re.useState(null),[k,N]=re.useState({nodes:[],edges:[]}),[M,I]=re.useState(null);re.useEffect(()=>{const H=()=>{if(window.google&&window.google.accounts)try{const K=new ky(ab);K.initGsi(),r(K),l("Listo para conectar")}catch(K){console.error("Error inicializando GSI:",K),l(" Error al inicializar Google Services")}else setTimeout(H,100)};H()},[]);const L=async()=>{if(!(!t||a)){u(!0);try{await t.getAccessToken();const H=await t.findOrCreateFolder("Mis Notas Personales");I(H),await _(H),d("selector")}catch(H){console.error(H),alert("Error de conexin con Google Drive")}finally{u(!1)}}},_=async H=>{if(t){u(!0);try{const K=await t.listFiles(H);g(K.filter(W=>W.mimeType==="application/vnd.google-apps.folder"))}catch(K){console.error(K)}finally{u(!1)}}},E=async H=>{u(!0);try{const K=await t.findOrCreateFolder(H,M),W=`${H}.json`,V={nodes:[],edges:[]},U=await t.createJsonFile(K,W,V);g(G=>[...G,{id:K,name:H}]),$({id:K,name:H})}catch(K){console.error(K)}finally{u(!1)}},$=async H=>{u(!0),p(H);try{const W=(await t.listFiles(H.id)).find(V=>V.name===`${H.name}.json`);if(W){w(W.id);const U=await(await t.getFile(W.id)).text();N(JSON.parse(U))}else{const V=await t.createJsonFile(H.id,`${H.name}.json`,{nodes:[],edges:[]});w(V.id),N({nodes:[],edges:[]})}d("map")}catch(K){console.error(K)}finally{u(!1)}},P=async H=>{if(confirm("Ests seguro de que deseas eliminar este tema por completo de tu Google Drive? Esta accin no se puede deshacer.")){u(!0);try{await t.deleteFile(H),g(K=>K.filter(W=>W.id!==H))}catch(K){console.error(K),alert("Error al eliminar el tema")}finally{u(!1)}}},B=async(H,K=!1)=>{K||u(!0);try{return await t.updateJsonFile(v,H,K),N(H),K||alert("Mapa guardado con xito"),!0}catch(W){return console.error(W),K||alert("Error al guardar el mapa"),!1}finally{K||u(!1)}};return x.jsxs("div",{className:"h-screen w-full bg-slate-900 text-white font-sans flex flex-col overflow-hidden",children:[x.jsxs("header",{className:"px-6 py-4 flex justify-between items-center border-b border-slate-800 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-emerald-500 rounded-lg shadow-lg shadow-blue-500/20",children:x.jsx(Ky,{size:20,className:"text-white"})}),x.jsx("h1",{className:"text-xl font-bold tracking-tight hidden sm:block",children:"MindDrive"})]}),x.jsx("div",{className:"flex items-center gap-4",children:c!=="login"&&x.jsx("button",{onClick:()=>{d("login"),window.location.reload()},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Cerrar Sesin",children:x.jsx(_v,{size:20})})})]}),x.jsxs("main",{className:"flex-1 flex flex-col relative",children:[a&&x.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center",children:x.jsx(lb,{message:"Sincronizando con Drive..."})}),c==="login"&&x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center space-y-8 animate-in fade-in zoom-in duration-500",children:[x.jsxs("div",{className:"space-y-4 max-w-md",children:[x.jsx("h2",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-emerald-400",children:"Tus ideas, en tu Drive."}),x.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:"Crea mapas mentales hermosos y gurdalos automticamente en carpetas organizadas por temas."})]}),x.jsx("button",{onClick:L,disabled:a,className:"px-10 py-4 bg-blue-600 hover:bg-blue-500 rounded-full font-bold text-lg shadow-2xl shadow-blue-500/30 transition-all transform hover:scale-105 active:scale-95",children:"Empezar ahora"}),x.jsxs("p",{className:"text-slate-600 text-xs italic",children:["Estado: ",i]})]}),c==="selector"&&x.jsx(nx,{topics:f,onSelect:$,onCreate:E,onDelete:P,loading:a}),c==="map"&&m&&x.jsx("div",{className:"flex-1 h-full w-full overflow-hidden",children:x.jsx(sb,{initialNodes:k.nodes,initialEdges:k.edges,topicName:m.name,onSave:B,onBack:()=>d("selector")})})]})]})}xy.createRoot(document.getElementById("root")).render(x.jsx(fo.StrictMode,{children:x.jsx(ub,{})}));
